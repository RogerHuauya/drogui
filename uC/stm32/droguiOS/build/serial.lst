ARM GAS  C:\Users\GUILLE~1\AppData\Local\Temp\ccNXHXKp.s 			page 1


   1              		.cpu cortex-m7
   2              		.eabi_attribute 27, 1
   3              		.eabi_attribute 28, 1
   4              		.eabi_attribute 20, 1
   5              		.eabi_attribute 21, 1
   6              		.eabi_attribute 23, 3
   7              		.eabi_attribute 24, 1
   8              		.eabi_attribute 25, 1
   9              		.eabi_attribute 26, 1
  10              		.eabi_attribute 30, 1
  11              		.eabi_attribute 34, 1
  12              		.eabi_attribute 18, 4
  13              		.file	"serial.c"
  14              		.text
  15              	.Ltext0:
  16              		.cfi_sections	.debug_frame
  17              		.section	.text.serialBegin,"ax",%progbits
  18              		.align	1
  19              		.global	serialBegin
  20              		.arch armv7e-m
  21              		.syntax unified
  22              		.thumb
  23              		.thumb_func
  24              		.fpu fpv5-sp-d16
  26              	serialBegin:
  27              	.LVL0:
  28              	.LFB250:
  29              		.file 1 "Core/drogui/interfaces/src/serial.c"
   1:Core/drogui/interfaces/src/serial.c **** #include "serial.h"
   2:Core/drogui/interfaces/src/serial.c **** 
   3:Core/drogui/interfaces/src/serial.c **** #include <stdarg.h>
   4:Core/drogui/interfaces/src/serial.c **** #include <stdio.h>
   5:Core/drogui/interfaces/src/serial.c **** 
   6:Core/drogui/interfaces/src/serial.c **** char serial_buffer[100];
   7:Core/drogui/interfaces/src/serial.c **** 
   8:Core/drogui/interfaces/src/serial.c **** serial serial2, serial3, serial4, serial5;
   9:Core/drogui/interfaces/src/serial.c **** 
  10:Core/drogui/interfaces/src/serial.c **** 
  11:Core/drogui/interfaces/src/serial.c **** void serialPrintf(serial *ser, const char *s, ...) {
  12:Core/drogui/interfaces/src/serial.c **** 	va_list args;
  13:Core/drogui/interfaces/src/serial.c **** 	va_start(args, s);
  14:Core/drogui/interfaces/src/serial.c **** 	vsprintf(serial_buffer, s, args);
  15:Core/drogui/interfaces/src/serial.c **** 	va_end(args);
  16:Core/drogui/interfaces/src/serial.c **** 	serialPrint(ser, serial_buffer);
  17:Core/drogui/interfaces/src/serial.c **** }
  18:Core/drogui/interfaces/src/serial.c **** 
  19:Core/drogui/interfaces/src/serial.c **** void serialBegin(serial* ser, volatile uint32_t * cr, volatile uint32_t * brr){
  30              		.loc 1 19 79 view -0
  31              		.cfi_startproc
  32              		@ args = 0, pretend = 0, frame = 0
  33              		@ frame_needed = 0, uses_anonymous_args = 0
  34              		@ link register save eliminated.
  20:Core/drogui/interfaces/src/serial.c **** 	ser->cr = cr;
  35              		.loc 1 20 2 view .LVU1
  36              		.loc 1 20 10 is_stmt 0 view .LVU2
  37 0000 C0F85C12 		str	r1, [r0, #604]
  21:Core/drogui/interfaces/src/serial.c **** 	ser->brr = brr;
ARM GAS  C:\Users\GUILLE~1\AppData\Local\Temp\ccNXHXKp.s 			page 2


  38              		.loc 1 21 2 is_stmt 1 view .LVU3
  39              		.loc 1 21 11 is_stmt 0 view .LVU4
  40 0004 C0F86022 		str	r2, [r0, #608]
  22:Core/drogui/interfaces/src/serial.c **** 	ser->rcv_head = ser->snd_head = 0;
  41              		.loc 1 22 2 is_stmt 1 view .LVU5
  42              		.loc 1 22 32 is_stmt 0 view .LVU6
  43 0008 0023     		movs	r3, #0
  44 000a 80F85A32 		strb	r3, [r0, #602]
  45              		.loc 1 22 16 view .LVU7
  46 000e 80F82C31 		strb	r3, [r0, #300]
  23:Core/drogui/interfaces/src/serial.c **** 	ser->rcv_tail = ser->snd_tail = 0;
  47              		.loc 1 23 2 is_stmt 1 view .LVU8
  48              		.loc 1 23 32 is_stmt 0 view .LVU9
  49 0012 80F85B32 		strb	r3, [r0, #603]
  50              		.loc 1 23 16 view .LVU10
  51 0016 80F82D31 		strb	r3, [r0, #301]
  24:Core/drogui/interfaces/src/serial.c **** }
  52              		.loc 1 24 1 view .LVU11
  53 001a 7047     		bx	lr
  54              		.cfi_endproc
  55              	.LFE250:
  57              		.section	.text.serialsBegin,"ax",%progbits
  58              		.align	1
  59              		.global	serialsBegin
  60              		.syntax unified
  61              		.thumb
  62              		.thumb_func
  63              		.fpu fpv5-sp-d16
  65              	serialsBegin:
  66              	.LFB251:
  25:Core/drogui/interfaces/src/serial.c **** 
  26:Core/drogui/interfaces/src/serial.c **** void serialsBegin(){
  67              		.loc 1 26 20 is_stmt 1 view -0
  68              		.cfi_startproc
  69              		@ args = 0, pretend = 0, frame = 0
  70              		@ frame_needed = 0, uses_anonymous_args = 0
  71 0000 08B5     		push	{r3, lr}
  72              	.LCFI0:
  73              		.cfi_def_cfa_offset 8
  74              		.cfi_offset 3, -8
  75              		.cfi_offset 14, -4
  27:Core/drogui/interfaces/src/serial.c **** 	serialBegin(&serial2, &(USART2->CR1), &(USART2->BRR));
  76              		.loc 1 27 2 view .LVU13
  77 0002 0A4A     		ldr	r2, .L4
  78 0004 0A49     		ldr	r1, .L4+4
  79 0006 0B48     		ldr	r0, .L4+8
  80 0008 FFF7FEFF 		bl	serialBegin
  81              	.LVL1:
  28:Core/drogui/interfaces/src/serial.c **** 	serialBegin(&serial3, &(USART3->CR1), &(USART3->BRR));
  82              		.loc 1 28 2 view .LVU14
  83 000c 0A4A     		ldr	r2, .L4+12
  84 000e 0B49     		ldr	r1, .L4+16
  85 0010 0B48     		ldr	r0, .L4+20
  86 0012 FFF7FEFF 		bl	serialBegin
  87              	.LVL2:
  29:Core/drogui/interfaces/src/serial.c **** 	serialBegin(&serial4, &(UART4->CR1), &(UART4->BRR));
  88              		.loc 1 29 2 view .LVU15
ARM GAS  C:\Users\GUILLE~1\AppData\Local\Temp\ccNXHXKp.s 			page 3


  89 0016 0B4A     		ldr	r2, .L4+24
  90 0018 0B49     		ldr	r1, .L4+28
  91 001a 0C48     		ldr	r0, .L4+32
  92 001c FFF7FEFF 		bl	serialBegin
  93              	.LVL3:
  30:Core/drogui/interfaces/src/serial.c **** 	serialBegin(&serial5, &(UART5->CR1), &(UART5->BRR));
  94              		.loc 1 30 2 view .LVU16
  95 0020 0B4A     		ldr	r2, .L4+36
  96 0022 0C49     		ldr	r1, .L4+40
  97 0024 0C48     		ldr	r0, .L4+44
  98 0026 FFF7FEFF 		bl	serialBegin
  99              	.LVL4:
  31:Core/drogui/interfaces/src/serial.c **** }
 100              		.loc 1 31 1 is_stmt 0 view .LVU17
 101 002a 08BD     		pop	{r3, pc}
 102              	.L5:
 103              		.align	2
 104              	.L4:
 105 002c 0C440040 		.word	1073759244
 106 0030 00440040 		.word	1073759232
 107 0034 00000000 		.word	.LANCHOR0
 108 0038 0C480040 		.word	1073760268
 109 003c 00480040 		.word	1073760256
 110 0040 00000000 		.word	.LANCHOR1
 111 0044 0C4C0040 		.word	1073761292
 112 0048 004C0040 		.word	1073761280
 113 004c 00000000 		.word	.LANCHOR2
 114 0050 0C500040 		.word	1073762316
 115 0054 00500040 		.word	1073762304
 116 0058 00000000 		.word	.LANCHOR3
 117              		.cfi_endproc
 118              	.LFE251:
 120              		.section	.text.serialPrint,"ax",%progbits
 121              		.align	1
 122              		.global	serialPrint
 123              		.syntax unified
 124              		.thumb
 125              		.thumb_func
 126              		.fpu fpv5-sp-d16
 128              	serialPrint:
 129              	.LVL5:
 130              	.LFB252:
  32:Core/drogui/interfaces/src/serial.c **** 
  33:Core/drogui/interfaces/src/serial.c **** 
  34:Core/drogui/interfaces/src/serial.c **** 
  35:Core/drogui/interfaces/src/serial.c **** void serialPrint(serial* ser, char *s){
 131              		.loc 1 35 39 is_stmt 1 view -0
 132              		.cfi_startproc
 133              		@ args = 0, pretend = 0, frame = 0
 134              		@ frame_needed = 0, uses_anonymous_args = 0
 135              		@ link register save eliminated.
  36:Core/drogui/interfaces/src/serial.c **** 	while(*s){
 136              		.loc 1 36 2 view .LVU19
 137              		.loc 1 36 7 is_stmt 0 view .LVU20
 138 0000 14E0     		b	.L7
 139              	.L8:
  37:Core/drogui/interfaces/src/serial.c **** 		ser -> snd_buff[(ser->snd_head)++] = *s, s++;
ARM GAS  C:\Users\GUILLE~1\AppData\Local\Temp\ccNXHXKp.s 			page 4


 140              		.loc 1 37 3 is_stmt 1 view .LVU21
 141              		.loc 1 37 23 is_stmt 0 view .LVU22
 142 0002 90F85A32 		ldrb	r3, [r0, #602]	@ zero_extendqisi2
 143              		.loc 1 37 34 view .LVU23
 144 0006 5A1C     		adds	r2, r3, #1
 145 0008 D2B2     		uxtb	r2, r2
 146 000a 80F85A22 		strb	r2, [r0, #602]
 147              		.loc 1 37 40 view .LVU24
 148 000e 11F801CB 		ldrb	ip, [r1], #1	@ zero_extendqisi2
 149              	.LVL6:
 150              		.loc 1 37 38 view .LVU25
 151 0012 0344     		add	r3, r3, r0
 152 0014 83F82EC1 		strb	ip, [r3, #302]
 153              	.LVL7:
  38:Core/drogui/interfaces/src/serial.c **** 		ser -> snd_head %= SER_BUFF_SZ;
 154              		.loc 1 38 3 is_stmt 1 view .LVU26
 155              		.loc 1 38 19 is_stmt 0 view .LVU27
 156 0018 80F85A22 		strb	r2, [r0, #602]
  39:Core/drogui/interfaces/src/serial.c **** 		ser -> snd_tail += (ser->snd_head == ser->snd_tail);
 157              		.loc 1 39 3 is_stmt 1 view .LVU28
 158              		.loc 1 39 19 is_stmt 0 view .LVU29
 159 001c 90F85B32 		ldrb	r3, [r0, #603]	@ zero_extendqisi2
 160 0020 9A42     		cmp	r2, r3
 161 0022 08BF     		it	eq
 162 0024 0133     		addeq	r3, r3, #1
 163 0026 DBB2     		uxtb	r3, r3
 164 0028 80F85B32 		strb	r3, [r0, #603]
  40:Core/drogui/interfaces/src/serial.c **** 		ser -> snd_tail %= SER_BUFF_SZ;
 165              		.loc 1 40 3 is_stmt 1 view .LVU30
 166              	.L7:
  36:Core/drogui/interfaces/src/serial.c **** 		ser -> snd_buff[(ser->snd_head)++] = *s, s++;
 167              		.loc 1 36 7 view .LVU31
  36:Core/drogui/interfaces/src/serial.c **** 		ser -> snd_buff[(ser->snd_head)++] = *s, s++;
 168              		.loc 1 36 8 is_stmt 0 view .LVU32
 169 002c 0B78     		ldrb	r3, [r1]	@ zero_extendqisi2
  36:Core/drogui/interfaces/src/serial.c **** 		ser -> snd_buff[(ser->snd_head)++] = *s, s++;
 170              		.loc 1 36 7 view .LVU33
 171 002e 002B     		cmp	r3, #0
 172 0030 E7D1     		bne	.L8
  41:Core/drogui/interfaces/src/serial.c **** 	}
  42:Core/drogui/interfaces/src/serial.c **** 	*(ser->cr)  |= USART_CR1_TXEIE;
 173              		.loc 1 42 2 is_stmt 1 view .LVU34
 174              		.loc 1 42 7 is_stmt 0 view .LVU35
 175 0032 D0F85C22 		ldr	r2, [r0, #604]
 176              		.loc 1 42 14 view .LVU36
 177 0036 1368     		ldr	r3, [r2]
 178 0038 43F08003 		orr	r3, r3, #128
 179 003c 1360     		str	r3, [r2]
  43:Core/drogui/interfaces/src/serial.c **** }
 180              		.loc 1 43 1 view .LVU37
 181 003e 7047     		bx	lr
 182              		.cfi_endproc
 183              	.LFE252:
 185              		.section	.text.serialPrintf,"ax",%progbits
 186              		.align	1
 187              		.global	serialPrintf
 188              		.syntax unified
ARM GAS  C:\Users\GUILLE~1\AppData\Local\Temp\ccNXHXKp.s 			page 5


 189              		.thumb
 190              		.thumb_func
 191              		.fpu fpv5-sp-d16
 193              	serialPrintf:
 194              	.LVL8:
 195              	.LFB249:
  11:Core/drogui/interfaces/src/serial.c **** 	va_list args;
 196              		.loc 1 11 52 is_stmt 1 view -0
 197              		.cfi_startproc
 198              		@ args = 4, pretend = 12, frame = 8
 199              		@ frame_needed = 0, uses_anonymous_args = 1
  11:Core/drogui/interfaces/src/serial.c **** 	va_list args;
 200              		.loc 1 11 52 is_stmt 0 view .LVU39
 201 0000 0EB4     		push	{r1, r2, r3}
 202              	.LCFI1:
 203              		.cfi_def_cfa_offset 12
 204              		.cfi_offset 1, -12
 205              		.cfi_offset 2, -8
 206              		.cfi_offset 3, -4
 207 0002 30B5     		push	{r4, r5, lr}
 208              	.LCFI2:
 209              		.cfi_def_cfa_offset 24
 210              		.cfi_offset 4, -24
 211              		.cfi_offset 5, -20
 212              		.cfi_offset 14, -16
 213 0004 82B0     		sub	sp, sp, #8
 214              	.LCFI3:
 215              		.cfi_def_cfa_offset 32
 216 0006 0446     		mov	r4, r0
 217 0008 05AA     		add	r2, sp, #20
 218 000a 52F8041B 		ldr	r1, [r2], #4
  12:Core/drogui/interfaces/src/serial.c **** 	va_start(args, s);
 219              		.loc 1 12 2 is_stmt 1 view .LVU40
  13:Core/drogui/interfaces/src/serial.c **** 	vsprintf(serial_buffer, s, args);
 220              		.loc 1 13 2 view .LVU41
 221 000e 0192     		str	r2, [sp, #4]
  14:Core/drogui/interfaces/src/serial.c **** 	va_end(args);
 222              		.loc 1 14 2 view .LVU42
 223 0010 064D     		ldr	r5, .L11
 224 0012 2846     		mov	r0, r5
 225              	.LVL9:
  14:Core/drogui/interfaces/src/serial.c **** 	va_end(args);
 226              		.loc 1 14 2 is_stmt 0 view .LVU43
 227 0014 FFF7FEFF 		bl	vsprintf
 228              	.LVL10:
  15:Core/drogui/interfaces/src/serial.c **** 	serialPrint(ser, serial_buffer);
 229              		.loc 1 15 2 is_stmt 1 view .LVU44
  16:Core/drogui/interfaces/src/serial.c **** }
 230              		.loc 1 16 2 view .LVU45
 231 0018 2946     		mov	r1, r5
 232 001a 2046     		mov	r0, r4
 233 001c FFF7FEFF 		bl	serialPrint
 234              	.LVL11:
  17:Core/drogui/interfaces/src/serial.c **** 
 235              		.loc 1 17 1 is_stmt 0 view .LVU46
 236 0020 02B0     		add	sp, sp, #8
 237              	.LCFI4:
ARM GAS  C:\Users\GUILLE~1\AppData\Local\Temp\ccNXHXKp.s 			page 6


 238              		.cfi_def_cfa_offset 24
 239              		@ sp needed
 240 0022 BDE83040 		pop	{r4, r5, lr}
 241              	.LCFI5:
 242              		.cfi_restore 14
 243              		.cfi_restore 5
 244              		.cfi_restore 4
 245              		.cfi_def_cfa_offset 12
 246              	.LVL12:
  17:Core/drogui/interfaces/src/serial.c **** 
 247              		.loc 1 17 1 view .LVU47
 248 0026 03B0     		add	sp, sp, #12
 249              	.LCFI6:
 250              		.cfi_restore 3
 251              		.cfi_restore 2
 252              		.cfi_restore 1
 253              		.cfi_def_cfa_offset 0
 254 0028 7047     		bx	lr
 255              	.L12:
 256 002a 00BF     		.align	2
 257              	.L11:
 258 002c 00000000 		.word	.LANCHOR4
 259              		.cfi_endproc
 260              	.LFE249:
 262              		.section	.text.serialWrite,"ax",%progbits
 263              		.align	1
 264              		.global	serialWrite
 265              		.syntax unified
 266              		.thumb
 267              		.thumb_func
 268              		.fpu fpv5-sp-d16
 270              	serialWrite:
 271              	.LVL13:
 272              	.LFB253:
  44:Core/drogui/interfaces/src/serial.c **** 
  45:Core/drogui/interfaces/src/serial.c **** void serialWrite(serial*ser, char c){
 273              		.loc 1 45 37 is_stmt 1 view -0
 274              		.cfi_startproc
 275              		@ args = 0, pretend = 0, frame = 0
 276              		@ frame_needed = 0, uses_anonymous_args = 0
 277              		@ link register save eliminated.
  46:Core/drogui/interfaces/src/serial.c **** 
  47:Core/drogui/interfaces/src/serial.c **** 	*(ser->cr)  &= ~(USART_CR1_TXEIE);
 278              		.loc 1 47 2 view .LVU49
 279              		.loc 1 47 7 is_stmt 0 view .LVU50
 280 0000 D0F85C22 		ldr	r2, [r0, #604]
 281              		.loc 1 47 14 view .LVU51
 282 0004 1368     		ldr	r3, [r2]
 283 0006 23F08003 		bic	r3, r3, #128
 284 000a 1360     		str	r3, [r2]
  48:Core/drogui/interfaces/src/serial.c **** 	ser->snd_buff[(ser->snd_head)++] = c;
 285              		.loc 1 48 2 is_stmt 1 view .LVU52
 286              		.loc 1 48 20 is_stmt 0 view .LVU53
 287 000c 90F85A22 		ldrb	r2, [r0, #602]	@ zero_extendqisi2
 288              		.loc 1 48 31 view .LVU54
 289 0010 531C     		adds	r3, r2, #1
 290 0012 DBB2     		uxtb	r3, r3
ARM GAS  C:\Users\GUILLE~1\AppData\Local\Temp\ccNXHXKp.s 			page 7


 291 0014 80F85A32 		strb	r3, [r0, #602]
 292              		.loc 1 48 35 view .LVU55
 293 0018 0244     		add	r2, r2, r0
 294 001a 82F82E11 		strb	r1, [r2, #302]
  49:Core/drogui/interfaces/src/serial.c **** 	ser->snd_head %= SER_BUFF_SZ;
 295              		.loc 1 49 2 is_stmt 1 view .LVU56
 296              		.loc 1 49 16 is_stmt 0 view .LVU57
 297 001e 1A46     		mov	r2, r3
 298 0020 80F85A32 		strb	r3, [r0, #602]
  50:Core/drogui/interfaces/src/serial.c **** 	ser->snd_tail += (ser->snd_head == ser->snd_tail);
 299              		.loc 1 50 2 is_stmt 1 view .LVU58
 300              		.loc 1 50 16 is_stmt 0 view .LVU59
 301 0024 90F85B32 		ldrb	r3, [r0, #603]	@ zero_extendqisi2
 302 0028 9A42     		cmp	r2, r3
 303 002a 08BF     		it	eq
 304 002c 0133     		addeq	r3, r3, #1
 305 002e DBB2     		uxtb	r3, r3
 306 0030 80F85B32 		strb	r3, [r0, #603]
  51:Core/drogui/interfaces/src/serial.c **** 	ser->snd_tail %= SER_BUFF_SZ;
 307              		.loc 1 51 2 is_stmt 1 view .LVU60
  52:Core/drogui/interfaces/src/serial.c **** 	*(ser->cr)  |= USART_CR1_TXEIE;
 308              		.loc 1 52 2 view .LVU61
 309              		.loc 1 52 7 is_stmt 0 view .LVU62
 310 0034 D0F85C22 		ldr	r2, [r0, #604]
 311              		.loc 1 52 14 view .LVU63
 312 0038 1368     		ldr	r3, [r2]
 313 003a 43F08003 		orr	r3, r3, #128
 314 003e 1360     		str	r3, [r2]
  53:Core/drogui/interfaces/src/serial.c **** }
 315              		.loc 1 53 1 view .LVU64
 316 0040 7047     		bx	lr
 317              		.cfi_endproc
 318              	.LFE253:
 320              		.section	.text.serialAvailable,"ax",%progbits
 321              		.align	1
 322              		.global	serialAvailable
 323              		.syntax unified
 324              		.thumb
 325              		.thumb_func
 326              		.fpu fpv5-sp-d16
 328              	serialAvailable:
 329              	.LVL14:
 330              	.LFB254:
  54:Core/drogui/interfaces/src/serial.c **** 
  55:Core/drogui/interfaces/src/serial.c **** bool serialAvailable(serial* ser){
 331              		.loc 1 55 34 is_stmt 1 view -0
 332              		.cfi_startproc
 333              		@ args = 0, pretend = 0, frame = 0
 334              		@ frame_needed = 0, uses_anonymous_args = 0
 335              		@ link register save eliminated.
  56:Core/drogui/interfaces/src/serial.c **** 	return ser->rcv_head != ser->rcv_tail;
 336              		.loc 1 56 2 view .LVU66
 337              		.loc 1 56 12 is_stmt 0 view .LVU67
 338 0000 90F82C21 		ldrb	r2, [r0, #300]	@ zero_extendqisi2
 339              		.loc 1 56 29 view .LVU68
 340 0004 90F82D01 		ldrb	r0, [r0, #301]	@ zero_extendqisi2
 341              	.LVL15:
ARM GAS  C:\Users\GUILLE~1\AppData\Local\Temp\ccNXHXKp.s 			page 8


  57:Core/drogui/interfaces/src/serial.c **** }
 342              		.loc 1 57 1 view .LVU69
 343 0008 101A     		subs	r0, r2, r0
 344 000a 18BF     		it	ne
 345 000c 0120     		movne	r0, #1
 346 000e 7047     		bx	lr
 347              		.cfi_endproc
 348              	.LFE254:
 350              		.section	.text.serialRead,"ax",%progbits
 351              		.align	1
 352              		.global	serialRead
 353              		.syntax unified
 354              		.thumb
 355              		.thumb_func
 356              		.fpu fpv5-sp-d16
 358              	serialRead:
 359              	.LVL16:
 360              	.LFB255:
  58:Core/drogui/interfaces/src/serial.c **** 
  59:Core/drogui/interfaces/src/serial.c **** char serialRead(serial *ser){
 361              		.loc 1 59 29 is_stmt 1 view -0
 362              		.cfi_startproc
 363              		@ args = 0, pretend = 0, frame = 0
 364              		@ frame_needed = 0, uses_anonymous_args = 0
 365              		@ link register save eliminated.
 366              		.loc 1 59 29 is_stmt 0 view .LVU71
 367 0000 0346     		mov	r3, r0
  60:Core/drogui/interfaces/src/serial.c **** 	char ans;
 368              		.loc 1 60 2 is_stmt 1 view .LVU72
  61:Core/drogui/interfaces/src/serial.c **** 	*(ser->cr)  &= ~(USART_CR1_RXNEIE);
 369              		.loc 1 61 2 view .LVU73
 370              		.loc 1 61 7 is_stmt 0 view .LVU74
 371 0002 D0F85C12 		ldr	r1, [r0, #604]
 372              		.loc 1 61 14 view .LVU75
 373 0006 0A68     		ldr	r2, [r1]
 374 0008 22F02002 		bic	r2, r2, #32
 375 000c 0A60     		str	r2, [r1]
  62:Core/drogui/interfaces/src/serial.c **** 	ans = ser->rcv_buff[(ser->rcv_tail)++];
 376              		.loc 1 62 2 is_stmt 1 view .LVU76
 377              		.loc 1 62 26 is_stmt 0 view .LVU77
 378 000e 90F82D11 		ldrb	r1, [r0, #301]	@ zero_extendqisi2
 379              		.loc 1 62 37 view .LVU78
 380 0012 4A1C     		adds	r2, r1, #1
 381 0014 D2B2     		uxtb	r2, r2
 382 0016 80F82D21 		strb	r2, [r0, #301]
 383              		.loc 1 62 6 view .LVU79
 384 001a 405C     		ldrb	r0, [r0, r1]	@ zero_extendqisi2
 385              	.LVL17:
  63:Core/drogui/interfaces/src/serial.c **** 	ser->rcv_tail %= SER_BUFF_SZ;
 386              		.loc 1 63 2 is_stmt 1 view .LVU80
  64:Core/drogui/interfaces/src/serial.c **** 	*(ser->cr)  |= USART_CR1_RXNEIE;
 387              		.loc 1 64 2 view .LVU81
 388              		.loc 1 64 7 is_stmt 0 view .LVU82
 389 001c D3F85C22 		ldr	r2, [r3, #604]
 390              		.loc 1 64 14 view .LVU83
 391 0020 1368     		ldr	r3, [r2]
 392              	.LVL18:
ARM GAS  C:\Users\GUILLE~1\AppData\Local\Temp\ccNXHXKp.s 			page 9


 393              		.loc 1 64 14 view .LVU84
 394 0022 43F02003 		orr	r3, r3, #32
 395 0026 1360     		str	r3, [r2]
  65:Core/drogui/interfaces/src/serial.c **** 	return ans;
 396              		.loc 1 65 2 is_stmt 1 view .LVU85
  66:Core/drogui/interfaces/src/serial.c **** }
 397              		.loc 1 66 1 is_stmt 0 view .LVU86
 398 0028 7047     		bx	lr
 399              		.cfi_endproc
 400              	.LFE255:
 402              		.section	.text.serialFlush,"ax",%progbits
 403              		.align	1
 404              		.global	serialFlush
 405              		.syntax unified
 406              		.thumb
 407              		.thumb_func
 408              		.fpu fpv5-sp-d16
 410              	serialFlush:
 411              	.LVL19:
 412              	.LFB256:
  67:Core/drogui/interfaces/src/serial.c **** 
  68:Core/drogui/interfaces/src/serial.c **** void serialFlush(serial *ser){
 413              		.loc 1 68 30 is_stmt 1 view -0
 414              		.cfi_startproc
 415              		@ args = 0, pretend = 0, frame = 0
 416              		@ frame_needed = 0, uses_anonymous_args = 0
 417              		@ link register save eliminated.
  69:Core/drogui/interfaces/src/serial.c **** 	*(ser->cr)  &= ~(USART_CR1_RXNEIE);
 418              		.loc 1 69 2 view .LVU88
 419              		.loc 1 69 7 is_stmt 0 view .LVU89
 420 0000 D0F85C22 		ldr	r2, [r0, #604]
 421              		.loc 1 69 14 view .LVU90
 422 0004 1368     		ldr	r3, [r2]
 423 0006 23F02003 		bic	r3, r3, #32
 424 000a 1360     		str	r3, [r2]
  70:Core/drogui/interfaces/src/serial.c **** 	ser->rcv_tail = ser->rcv_head;
 425              		.loc 1 70 2 is_stmt 1 view .LVU91
 426              		.loc 1 70 21 is_stmt 0 view .LVU92
 427 000c 90F82C31 		ldrb	r3, [r0, #300]	@ zero_extendqisi2
 428              		.loc 1 70 16 view .LVU93
 429 0010 80F82D31 		strb	r3, [r0, #301]
  71:Core/drogui/interfaces/src/serial.c **** 	*(ser->cr)  |= USART_CR1_RXNEIE;
 430              		.loc 1 71 2 is_stmt 1 view .LVU94
 431              		.loc 1 71 7 is_stmt 0 view .LVU95
 432 0014 D0F85C22 		ldr	r2, [r0, #604]
 433              		.loc 1 71 14 view .LVU96
 434 0018 1368     		ldr	r3, [r2]
 435 001a 43F02003 		orr	r3, r3, #32
 436 001e 1360     		str	r3, [r2]
  72:Core/drogui/interfaces/src/serial.c **** }
 437              		.loc 1 72 1 view .LVU97
 438 0020 7047     		bx	lr
 439              		.cfi_endproc
 440              	.LFE256:
 442              		.section	.text.changeBaudrate,"ax",%progbits
 443              		.align	1
 444              		.global	changeBaudrate
ARM GAS  C:\Users\GUILLE~1\AppData\Local\Temp\ccNXHXKp.s 			page 10


 445              		.syntax unified
 446              		.thumb
 447              		.thumb_func
 448              		.fpu fpv5-sp-d16
 450              	changeBaudrate:
 451              	.LVL20:
 452              	.LFB257:
  73:Core/drogui/interfaces/src/serial.c **** 
  74:Core/drogui/interfaces/src/serial.c **** 
  75:Core/drogui/interfaces/src/serial.c **** void changeBaudrate(serial* ser, int baudrate){
 453              		.loc 1 75 47 is_stmt 1 view -0
 454              		.cfi_startproc
 455              		@ args = 0, pretend = 0, frame = 0
 456              		@ frame_needed = 0, uses_anonymous_args = 0
 457              		.loc 1 75 47 is_stmt 0 view .LVU99
 458 0000 38B5     		push	{r3, r4, r5, lr}
 459              	.LCFI7:
 460              		.cfi_def_cfa_offset 16
 461              		.cfi_offset 3, -16
 462              		.cfi_offset 4, -12
 463              		.cfi_offset 5, -8
 464              		.cfi_offset 14, -4
 465 0002 0446     		mov	r4, r0
 466 0004 0D46     		mov	r5, r1
  76:Core/drogui/interfaces/src/serial.c **** 	*(ser->cr) ^= USART_CR1_UE;
 467              		.loc 1 76 2 is_stmt 1 view .LVU100
 468              		.loc 1 76 7 is_stmt 0 view .LVU101
 469 0006 D0F85C22 		ldr	r2, [r0, #604]
 470              		.loc 1 76 13 view .LVU102
 471 000a 1368     		ldr	r3, [r2]
 472 000c 83F00103 		eor	r3, r3, #1
 473 0010 1360     		str	r3, [r2]
  77:Core/drogui/interfaces/src/serial.c **** 
  78:Core/drogui/interfaces/src/serial.c **** 	*(ser->brr) = (uint16_t)(UART_DIV_SAMPLING16( HAL_RCC_GetPCLK1Freq(), baudrate));
 474              		.loc 1 78 2 is_stmt 1 view .LVU103
 475              		.loc 1 78 27 is_stmt 0 view .LVU104
 476 0012 FFF7FEFF 		bl	HAL_RCC_GetPCLK1Freq
 477              	.LVL21:
 478              		.loc 1 78 27 view .LVU105
 479 0016 00EB5503 		add	r3, r0, r5, lsr #1
 480 001a B3FBF5F1 		udiv	r1, r3, r5
 481              		.loc 1 78 7 view .LVU106
 482 001e D4F86032 		ldr	r3, [r4, #608]
 483 0022 89B2     		uxth	r1, r1
 484              		.loc 1 78 14 view .LVU107
 485 0024 1960     		str	r1, [r3]
  79:Core/drogui/interfaces/src/serial.c **** 
  80:Core/drogui/interfaces/src/serial.c **** 	*(ser->cr) |= USART_CR1_UE;
 486              		.loc 1 80 2 is_stmt 1 view .LVU108
 487              		.loc 1 80 7 is_stmt 0 view .LVU109
 488 0026 D4F85C22 		ldr	r2, [r4, #604]
 489              		.loc 1 80 13 view .LVU110
 490 002a 1368     		ldr	r3, [r2]
 491 002c 43F00103 		orr	r3, r3, #1
 492 0030 1360     		str	r3, [r2]
  81:Core/drogui/interfaces/src/serial.c **** }
 493              		.loc 1 81 1 view .LVU111
ARM GAS  C:\Users\GUILLE~1\AppData\Local\Temp\ccNXHXKp.s 			page 11


 494 0032 38BD     		pop	{r3, r4, r5, pc}
 495              		.loc 1 81 1 view .LVU112
 496              		.cfi_endproc
 497              	.LFE257:
 499              		.global	serial5
 500              		.global	serial4
 501              		.global	serial3
 502              		.global	serial2
 503              		.global	serial_buffer
 504              		.section	.bss.serial2,"aw",%nobits
 505              		.align	2
 506              		.set	.LANCHOR0,. + 0
 509              	serial2:
 510 0000 00000000 		.space	612
 510      00000000 
 510      00000000 
 510      00000000 
 510      00000000 
 511              		.section	.bss.serial3,"aw",%nobits
 512              		.align	2
 513              		.set	.LANCHOR1,. + 0
 516              	serial3:
 517 0000 00000000 		.space	612
 517      00000000 
 517      00000000 
 517      00000000 
 517      00000000 
 518              		.section	.bss.serial4,"aw",%nobits
 519              		.align	2
 520              		.set	.LANCHOR2,. + 0
 523              	serial4:
 524 0000 00000000 		.space	612
 524      00000000 
 524      00000000 
 524      00000000 
 524      00000000 
 525              		.section	.bss.serial5,"aw",%nobits
 526              		.align	2
 527              		.set	.LANCHOR3,. + 0
 530              	serial5:
 531 0000 00000000 		.space	612
 531      00000000 
 531      00000000 
 531      00000000 
 531      00000000 
 532              		.section	.bss.serial_buffer,"aw",%nobits
 533              		.align	2
 534              		.set	.LANCHOR4,. + 0
 537              	serial_buffer:
 538 0000 00000000 		.space	100
 538      00000000 
 538      00000000 
 538      00000000 
 538      00000000 
 539              		.text
 540              	.Letext0:
 541              		.file 2 "c:\\program files (x86)\\gnu arm embedded toolchain\\10 2020-q4-major\\arm-none-eabi\\inc
ARM GAS  C:\Users\GUILLE~1\AppData\Local\Temp\ccNXHXKp.s 			page 12


 542              		.file 3 "c:\\program files (x86)\\gnu arm embedded toolchain\\10 2020-q4-major\\arm-none-eabi\\inc
 543              		.file 4 "Drivers/CMSIS/Device/ST/STM32F7xx/Include/stm32f746xx.h"
 544              		.file 5 "Core/drogui/interfaces/include/serial.h"
 545              		.file 6 "c:\\program files (x86)\\gnu arm embedded toolchain\\10 2020-q4-major\\lib\\gcc\\arm-none
 546              		.file 7 "Drivers/STM32F7xx_HAL_Driver/Inc/stm32f7xx_hal_rcc.h"
 547              		.file 8 "c:\\program files (x86)\\gnu arm embedded toolchain\\10 2020-q4-major\\arm-none-eabi\\inc
 548              		.file 9 "<built-in>"
ARM GAS  C:\Users\GUILLE~1\AppData\Local\Temp\ccNXHXKp.s 			page 13


DEFINED SYMBOLS
                            *ABS*:00000000 serial.c
C:\Users\GUILLE~1\AppData\Local\Temp\ccNXHXKp.s:18     .text.serialBegin:00000000 $t
C:\Users\GUILLE~1\AppData\Local\Temp\ccNXHXKp.s:26     .text.serialBegin:00000000 serialBegin
C:\Users\GUILLE~1\AppData\Local\Temp\ccNXHXKp.s:58     .text.serialsBegin:00000000 $t
C:\Users\GUILLE~1\AppData\Local\Temp\ccNXHXKp.s:65     .text.serialsBegin:00000000 serialsBegin
C:\Users\GUILLE~1\AppData\Local\Temp\ccNXHXKp.s:105    .text.serialsBegin:0000002c $d
C:\Users\GUILLE~1\AppData\Local\Temp\ccNXHXKp.s:121    .text.serialPrint:00000000 $t
C:\Users\GUILLE~1\AppData\Local\Temp\ccNXHXKp.s:128    .text.serialPrint:00000000 serialPrint
C:\Users\GUILLE~1\AppData\Local\Temp\ccNXHXKp.s:186    .text.serialPrintf:00000000 $t
C:\Users\GUILLE~1\AppData\Local\Temp\ccNXHXKp.s:193    .text.serialPrintf:00000000 serialPrintf
C:\Users\GUILLE~1\AppData\Local\Temp\ccNXHXKp.s:258    .text.serialPrintf:0000002c $d
C:\Users\GUILLE~1\AppData\Local\Temp\ccNXHXKp.s:263    .text.serialWrite:00000000 $t
C:\Users\GUILLE~1\AppData\Local\Temp\ccNXHXKp.s:270    .text.serialWrite:00000000 serialWrite
C:\Users\GUILLE~1\AppData\Local\Temp\ccNXHXKp.s:321    .text.serialAvailable:00000000 $t
C:\Users\GUILLE~1\AppData\Local\Temp\ccNXHXKp.s:328    .text.serialAvailable:00000000 serialAvailable
C:\Users\GUILLE~1\AppData\Local\Temp\ccNXHXKp.s:351    .text.serialRead:00000000 $t
C:\Users\GUILLE~1\AppData\Local\Temp\ccNXHXKp.s:358    .text.serialRead:00000000 serialRead
C:\Users\GUILLE~1\AppData\Local\Temp\ccNXHXKp.s:403    .text.serialFlush:00000000 $t
C:\Users\GUILLE~1\AppData\Local\Temp\ccNXHXKp.s:410    .text.serialFlush:00000000 serialFlush
C:\Users\GUILLE~1\AppData\Local\Temp\ccNXHXKp.s:443    .text.changeBaudrate:00000000 $t
C:\Users\GUILLE~1\AppData\Local\Temp\ccNXHXKp.s:450    .text.changeBaudrate:00000000 changeBaudrate
C:\Users\GUILLE~1\AppData\Local\Temp\ccNXHXKp.s:530    .bss.serial5:00000000 serial5
C:\Users\GUILLE~1\AppData\Local\Temp\ccNXHXKp.s:523    .bss.serial4:00000000 serial4
C:\Users\GUILLE~1\AppData\Local\Temp\ccNXHXKp.s:516    .bss.serial3:00000000 serial3
C:\Users\GUILLE~1\AppData\Local\Temp\ccNXHXKp.s:509    .bss.serial2:00000000 serial2
C:\Users\GUILLE~1\AppData\Local\Temp\ccNXHXKp.s:537    .bss.serial_buffer:00000000 serial_buffer
C:\Users\GUILLE~1\AppData\Local\Temp\ccNXHXKp.s:505    .bss.serial2:00000000 $d
C:\Users\GUILLE~1\AppData\Local\Temp\ccNXHXKp.s:512    .bss.serial3:00000000 $d
C:\Users\GUILLE~1\AppData\Local\Temp\ccNXHXKp.s:519    .bss.serial4:00000000 $d
C:\Users\GUILLE~1\AppData\Local\Temp\ccNXHXKp.s:526    .bss.serial5:00000000 $d
C:\Users\GUILLE~1\AppData\Local\Temp\ccNXHXKp.s:533    .bss.serial_buffer:00000000 $d

UNDEFINED SYMBOLS
vsprintf
HAL_RCC_GetPCLK1Freq

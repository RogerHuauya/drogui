ARM GAS  C:\Users\GUILLE~1\AppData\Local\Temp\ccUunABq.s 			page 1


   1              		.cpu cortex-m7
   2              		.eabi_attribute 27, 1
   3              		.eabi_attribute 28, 1
   4              		.eabi_attribute 20, 1
   5              		.eabi_attribute 21, 1
   6              		.eabi_attribute 23, 3
   7              		.eabi_attribute 24, 1
   8              		.eabi_attribute 25, 1
   9              		.eabi_attribute 26, 1
  10              		.eabi_attribute 30, 1
  11              		.eabi_attribute 34, 1
  12              		.eabi_attribute 18, 4
  13              		.file	"ICM20948.c"
  14              		.text
  15              	.Ltext0:
  16              		.cfi_sections	.debug_frame
  17              		.section	.text.updateCalibOffset,"ax",%progbits
  18              		.align	1
  19              		.global	updateCalibOffset
  20              		.arch armv7e-m
  21              		.syntax unified
  22              		.thumb
  23              		.thumb_func
  24              		.fpu fpv5-sp-d16
  26              	updateCalibOffset:
  27              	.LVL0:
  28              	.LFB279:
  29              		.file 1 "Core/drogui/sensor/imu/src/ICM20948.c"
   1:Core/drogui/sensor/imu/src/ICM20948.c **** #include "macros.h"
   2:Core/drogui/sensor/imu/src/ICM20948.c **** 
   3:Core/drogui/sensor/imu/src/ICM20948.c **** #ifdef ICM20948
   4:Core/drogui/sensor/imu/src/ICM20948.c **** 
   5:Core/drogui/sensor/imu/src/ICM20948.c **** #include "ICM20948.h"
   6:Core/drogui/sensor/imu/src/ICM20948.c **** #include "i2c.h"
   7:Core/drogui/sensor/imu/src/ICM20948.c **** #include "matlib.h"
   8:Core/drogui/sensor/imu/src/ICM20948.c **** #include "registerMap.h"
   9:Core/drogui/sensor/imu/src/ICM20948.c **** #include "sensorsTasks.h"
  10:Core/drogui/sensor/imu/src/ICM20948.c **** #include "utils.h"
  11:Core/drogui/sensor/imu/src/ICM20948.c **** #include "serial.h"
  12:Core/drogui/sensor/imu/src/ICM20948.c **** 
  13:Core/drogui/sensor/imu/src/ICM20948.c **** #define G 9.81
  14:Core/drogui/sensor/imu/src/ICM20948.c **** 
  15:Core/drogui/sensor/imu/src/ICM20948.c **** //char buffcal[500]="";
  16:Core/drogui/sensor/imu/src/ICM20948.c **** 
  17:Core/drogui/sensor/imu/src/ICM20948.c **** int updateCalibOffset(icm20948* m){
  30              		.loc 1 17 35 view -0
  31              		.cfi_startproc
  32              		@ args = 0, pretend = 0, frame = 0
  33              		@ frame_needed = 0, uses_anonymous_args = 0
  34              		.loc 1 17 35 is_stmt 0 view .LVU1
  35 0000 38B5     		push	{r3, r4, r5, lr}
  36              	.LCFI0:
  37              		.cfi_def_cfa_offset 16
  38              		.cfi_offset 3, -16
  39              		.cfi_offset 4, -12
  40              		.cfi_offset 5, -8
  41              		.cfi_offset 14, -4
ARM GAS  C:\Users\GUILLE~1\AppData\Local\Temp\ccUunABq.s 			page 2


  42 0002 2DED028B 		vpush.64	{d8}
  43              	.LCFI1:
  44              		.cfi_def_cfa_offset 24
  45              		.cfi_offset 80, -24
  46              		.cfi_offset 81, -20
  47 0006 0446     		mov	r4, r0
  18:Core/drogui/sensor/imu/src/ICM20948.c **** 	int ans = 0;
  48              		.loc 1 18 2 is_stmt 1 view .LVU2
  49              	.LVL1:
  19:Core/drogui/sensor/imu/src/ICM20948.c **** 
  20:Core/drogui/sensor/imu/src/ICM20948.c **** 	if( m->off_gx != getReg(GYR_X_OFF))  ans |= 2, m->off_gx = getReg(GYR_X_OFF);
  50              		.loc 1 20 2 view .LVU3
  51              		.loc 1 20 7 is_stmt 0 view .LVU4
  52 0008 90ED1C8A 		vldr.32	s16, [r0, #112]
  53              		.loc 1 20 19 view .LVU5
  54 000c 1420     		movs	r0, #20
  55              	.LVL2:
  56              		.loc 1 20 19 view .LVU6
  57 000e FFF7FEFF 		bl	getReg
  58              	.LVL3:
  59              		.loc 1 20 4 view .LVU7
  60 0012 B4EE408A 		vcmp.f32	s16, s0
  61 0016 F1EE10FA 		vmrs	APSR_nzcv, FPSCR
  62 001a 7FD1     		bne	.L18
  18:Core/drogui/sensor/imu/src/ICM20948.c **** 	int ans = 0;
  63              		.loc 1 18 6 view .LVU8
  64 001c 0025     		movs	r5, #0
  65              	.LVL4:
  66              	.L2:
  21:Core/drogui/sensor/imu/src/ICM20948.c **** 	if( m->off_gy != getReg(GYR_Y_OFF))  ans |= 2, m->off_gy = getReg(GYR_Y_OFF);
  67              		.loc 1 21 2 is_stmt 1 view .LVU9
  68              		.loc 1 21 7 is_stmt 0 view .LVU10
  69 001e 94ED1D8A 		vldr.32	s16, [r4, #116]
  70              		.loc 1 21 19 view .LVU11
  71 0022 1620     		movs	r0, #22
  72 0024 FFF7FEFF 		bl	getReg
  73              	.LVL5:
  74              		.loc 1 21 4 view .LVU12
  75 0028 B4EE408A 		vcmp.f32	s16, s0
  76 002c F1EE10FA 		vmrs	APSR_nzcv, FPSCR
  77 0030 7BD1     		bne	.L19
  78              	.L3:
  22:Core/drogui/sensor/imu/src/ICM20948.c **** 	if( m->off_gz != getReg(GYR_Z_OFF))  ans |= 2, m->off_gz = getReg(GYR_Z_OFF);
  79              		.loc 1 22 2 is_stmt 1 view .LVU13
  80              		.loc 1 22 7 is_stmt 0 view .LVU14
  81 0032 94ED1E8A 		vldr.32	s16, [r4, #120]
  82              		.loc 1 22 19 view .LVU15
  83 0036 1820     		movs	r0, #24
  84 0038 FFF7FEFF 		bl	getReg
  85              	.LVL6:
  86              		.loc 1 22 4 view .LVU16
  87 003c B4EE408A 		vcmp.f32	s16, s0
  88 0040 F1EE10FA 		vmrs	APSR_nzcv, FPSCR
  89 0044 79D1     		bne	.L20
  90              	.L4:
  23:Core/drogui/sensor/imu/src/ICM20948.c **** 
  24:Core/drogui/sensor/imu/src/ICM20948.c **** 	if( m->off_ax  != getReg(ACC_X_OFF)) ans |= 1, m->off_ax = getReg(ACC_X_OFF);
ARM GAS  C:\Users\GUILLE~1\AppData\Local\Temp\ccUunABq.s 			page 3


  91              		.loc 1 24 2 is_stmt 1 view .LVU17
  92              		.loc 1 24 7 is_stmt 0 view .LVU18
  93 0046 94ED188A 		vldr.32	s16, [r4, #96]
  94              		.loc 1 24 20 view .LVU19
  95 004a 1A20     		movs	r0, #26
  96 004c FFF7FEFF 		bl	getReg
  97              	.LVL7:
  98              		.loc 1 24 4 view .LVU20
  99 0050 B4EE408A 		vcmp.f32	s16, s0
 100 0054 F1EE10FA 		vmrs	APSR_nzcv, FPSCR
 101 0058 77D1     		bne	.L21
 102              	.L5:
  25:Core/drogui/sensor/imu/src/ICM20948.c **** 	if( m->off_ay  != getReg(ACC_Y_OFF)) ans |= 1, m->off_ay = getReg(ACC_Y_OFF);
 103              		.loc 1 25 2 is_stmt 1 view .LVU21
 104              		.loc 1 25 7 is_stmt 0 view .LVU22
 105 005a 94ED198A 		vldr.32	s16, [r4, #100]
 106              		.loc 1 25 20 view .LVU23
 107 005e 1C20     		movs	r0, #28
 108 0060 FFF7FEFF 		bl	getReg
 109              	.LVL8:
 110              		.loc 1 25 4 view .LVU24
 111 0064 B4EE408A 		vcmp.f32	s16, s0
 112 0068 F1EE10FA 		vmrs	APSR_nzcv, FPSCR
 113 006c 75D1     		bne	.L22
 114              	.L6:
  26:Core/drogui/sensor/imu/src/ICM20948.c **** 	if( m->off_az  != getReg(ACC_Z_OFF)) ans |= 1, m->off_az = getReg(ACC_Z_OFF);
 115              		.loc 1 26 2 is_stmt 1 view .LVU25
 116              		.loc 1 26 7 is_stmt 0 view .LVU26
 117 006e 94ED1A8A 		vldr.32	s16, [r4, #104]
 118              		.loc 1 26 20 view .LVU27
 119 0072 1E20     		movs	r0, #30
 120 0074 FFF7FEFF 		bl	getReg
 121              	.LVL9:
 122              		.loc 1 26 4 view .LVU28
 123 0078 B4EE408A 		vcmp.f32	s16, s0
 124 007c F1EE10FA 		vmrs	APSR_nzcv, FPSCR
 125 0080 73D1     		bne	.L23
 126              	.L7:
  27:Core/drogui/sensor/imu/src/ICM20948.c **** 	if( m->scl_acc != getReg(ACC_SCALE)) ans |= 1, m->scl_acc =  getReg(ACC_SCALE);
 127              		.loc 1 27 2 is_stmt 1 view .LVU29
 128              		.loc 1 27 7 is_stmt 0 view .LVU30
 129 0082 94ED1B8A 		vldr.32	s16, [r4, #108]
 130              		.loc 1 27 20 view .LVU31
 131 0086 2020     		movs	r0, #32
 132 0088 FFF7FEFF 		bl	getReg
 133              	.LVL10:
 134              		.loc 1 27 4 view .LVU32
 135 008c B4EE408A 		vcmp.f32	s16, s0
 136 0090 F1EE10FA 		vmrs	APSR_nzcv, FPSCR
 137 0094 71D1     		bne	.L24
 138              	.L8:
  28:Core/drogui/sensor/imu/src/ICM20948.c **** 
  29:Core/drogui/sensor/imu/src/ICM20948.c **** 	if( m->off_mx != getReg(MAG_X_OFF)) ans |= 4, m->off_mx =   getReg(MAG_X_OFF);
 139              		.loc 1 29 2 is_stmt 1 view .LVU33
 140              		.loc 1 29 7 is_stmt 0 view .LVU34
 141 0096 94ED1F8A 		vldr.32	s16, [r4, #124]
 142              		.loc 1 29 19 view .LVU35
ARM GAS  C:\Users\GUILLE~1\AppData\Local\Temp\ccUunABq.s 			page 4


 143 009a 2220     		movs	r0, #34
 144 009c FFF7FEFF 		bl	getReg
 145              	.LVL11:
 146              		.loc 1 29 4 view .LVU36
 147 00a0 B4EE408A 		vcmp.f32	s16, s0
 148 00a4 F1EE10FA 		vmrs	APSR_nzcv, FPSCR
 149 00a8 6FD1     		bne	.L25
 150              	.L9:
  30:Core/drogui/sensor/imu/src/ICM20948.c **** 	if( m->off_my != getReg(MAG_Y_OFF)) ans |= 4, m->off_my = getReg(MAG_Y_OFF);
 151              		.loc 1 30 2 is_stmt 1 view .LVU37
 152              		.loc 1 30 7 is_stmt 0 view .LVU38
 153 00aa 94ED208A 		vldr.32	s16, [r4, #128]
 154              		.loc 1 30 19 view .LVU39
 155 00ae 2420     		movs	r0, #36
 156 00b0 FFF7FEFF 		bl	getReg
 157              	.LVL12:
 158              		.loc 1 30 4 view .LVU40
 159 00b4 B4EE408A 		vcmp.f32	s16, s0
 160 00b8 F1EE10FA 		vmrs	APSR_nzcv, FPSCR
 161 00bc 6DD1     		bne	.L26
 162              	.L10:
  31:Core/drogui/sensor/imu/src/ICM20948.c **** 	if( m->off_mz != getReg(MAG_Z_OFF)) ans |= 4, m->off_mz = getReg(MAG_Z_OFF);
 163              		.loc 1 31 2 is_stmt 1 view .LVU41
 164              		.loc 1 31 7 is_stmt 0 view .LVU42
 165 00be 94ED218A 		vldr.32	s16, [r4, #132]
 166              		.loc 1 31 19 view .LVU43
 167 00c2 2620     		movs	r0, #38
 168 00c4 FFF7FEFF 		bl	getReg
 169              	.LVL13:
 170              		.loc 1 31 4 view .LVU44
 171 00c8 B4EE408A 		vcmp.f32	s16, s0
 172 00cc F1EE10FA 		vmrs	APSR_nzcv, FPSCR
 173 00d0 6BD1     		bne	.L27
 174              	.L11:
  32:Core/drogui/sensor/imu/src/ICM20948.c **** 
  33:Core/drogui/sensor/imu/src/ICM20948.c **** 	if( m->scl_magx != getReg(MAG_X_SCALE)) ans |= 4, m->scl_magx = getReg(MAG_X_SCALE);
 175              		.loc 1 33 2 is_stmt 1 view .LVU45
 176              		.loc 1 33 7 is_stmt 0 view .LVU46
 177 00d2 94ED228A 		vldr.32	s16, [r4, #136]
 178              		.loc 1 33 21 view .LVU47
 179 00d6 2820     		movs	r0, #40
 180 00d8 FFF7FEFF 		bl	getReg
 181              	.LVL14:
 182              		.loc 1 33 4 view .LVU48
 183 00dc B4EE408A 		vcmp.f32	s16, s0
 184 00e0 F1EE10FA 		vmrs	APSR_nzcv, FPSCR
 185 00e4 69D1     		bne	.L28
 186              	.L12:
  34:Core/drogui/sensor/imu/src/ICM20948.c **** 	if( m->scl_magy != getReg(MAG_Y_SCALE)) ans |= 4, m->scl_magy = getReg(MAG_Y_SCALE);
 187              		.loc 1 34 2 is_stmt 1 view .LVU49
 188              		.loc 1 34 7 is_stmt 0 view .LVU50
 189 00e6 94ED238A 		vldr.32	s16, [r4, #140]
 190              		.loc 1 34 21 view .LVU51
 191 00ea 2A20     		movs	r0, #42
 192 00ec FFF7FEFF 		bl	getReg
 193              	.LVL15:
 194              		.loc 1 34 4 view .LVU52
ARM GAS  C:\Users\GUILLE~1\AppData\Local\Temp\ccUunABq.s 			page 5


 195 00f0 B4EE408A 		vcmp.f32	s16, s0
 196 00f4 F1EE10FA 		vmrs	APSR_nzcv, FPSCR
 197 00f8 67D1     		bne	.L29
 198              	.L13:
  35:Core/drogui/sensor/imu/src/ICM20948.c **** 	if( m->scl_magz != getReg(MAG_Z_SCALE)) ans |= 4, m->scl_magz = getReg(MAG_Z_SCALE);
 199              		.loc 1 35 2 is_stmt 1 view .LVU53
 200              		.loc 1 35 7 is_stmt 0 view .LVU54
 201 00fa 94ED248A 		vldr.32	s16, [r4, #144]
 202              		.loc 1 35 21 view .LVU55
 203 00fe 2C20     		movs	r0, #44
 204 0100 FFF7FEFF 		bl	getReg
 205              	.LVL16:
 206              		.loc 1 35 4 view .LVU56
 207 0104 B4EE408A 		vcmp.f32	s16, s0
 208 0108 F1EE10FA 		vmrs	APSR_nzcv, FPSCR
 209 010c 65D1     		bne	.L30
 210              	.L14:
  36:Core/drogui/sensor/imu/src/ICM20948.c **** 
  37:Core/drogui/sensor/imu/src/ICM20948.c **** 	if(ans != 0) ans |= 8;
 211              		.loc 1 37 2 is_stmt 1 view .LVU57
 212              		.loc 1 37 4 is_stmt 0 view .LVU58
 213 010e 0DB1     		cbz	r5, .L1
 214              		.loc 1 37 15 is_stmt 1 discriminator 1 view .LVU59
 215              		.loc 1 37 19 is_stmt 0 discriminator 1 view .LVU60
 216 0110 45F00805 		orr	r5, r5, #8
 217              	.LVL17:
  38:Core/drogui/sensor/imu/src/ICM20948.c **** 
  39:Core/drogui/sensor/imu/src/ICM20948.c **** 	return ans;
 218              		.loc 1 39 2 is_stmt 1 discriminator 1 view .LVU61
 219              	.L1:
  40:Core/drogui/sensor/imu/src/ICM20948.c **** }
 220              		.loc 1 40 1 is_stmt 0 view .LVU62
 221 0114 2846     		mov	r0, r5
 222 0116 BDEC028B 		vldm	sp!, {d8}
 223              	.LCFI2:
 224              		.cfi_remember_state
 225              		.cfi_restore 80
 226              		.cfi_restore 81
 227              		.cfi_def_cfa_offset 16
 228 011a 38BD     		pop	{r3, r4, r5, pc}
 229              	.LVL18:
 230              	.L18:
 231              	.LCFI3:
 232              		.cfi_restore_state
  20:Core/drogui/sensor/imu/src/ICM20948.c **** 	if( m->off_gy != getReg(GYR_Y_OFF))  ans |= 2, m->off_gy = getReg(GYR_Y_OFF);
 233              		.loc 1 20 39 is_stmt 1 discriminator 1 view .LVU63
  20:Core/drogui/sensor/imu/src/ICM20948.c **** 	if( m->off_gy != getReg(GYR_Y_OFF))  ans |= 2, m->off_gy = getReg(GYR_Y_OFF);
 234              		.loc 1 20 61 is_stmt 0 discriminator 1 view .LVU64
 235 011c 1420     		movs	r0, #20
 236 011e FFF7FEFF 		bl	getReg
 237              	.LVL19:
  20:Core/drogui/sensor/imu/src/ICM20948.c **** 	if( m->off_gy != getReg(GYR_Y_OFF))  ans |= 2, m->off_gy = getReg(GYR_Y_OFF);
 238              		.loc 1 20 59 discriminator 1 view .LVU65
 239 0122 84ED1C0A 		vstr.32	s0, [r4, #112]
  20:Core/drogui/sensor/imu/src/ICM20948.c **** 	if( m->off_gy != getReg(GYR_Y_OFF))  ans |= 2, m->off_gy = getReg(GYR_Y_OFF);
 240              		.loc 1 20 43 discriminator 1 view .LVU66
 241 0126 0225     		movs	r5, #2
ARM GAS  C:\Users\GUILLE~1\AppData\Local\Temp\ccUunABq.s 			page 6


 242 0128 79E7     		b	.L2
 243              	.LVL20:
 244              	.L19:
  21:Core/drogui/sensor/imu/src/ICM20948.c **** 	if( m->off_gz != getReg(GYR_Z_OFF))  ans |= 2, m->off_gz = getReg(GYR_Z_OFF);
 245              		.loc 1 21 39 is_stmt 1 discriminator 1 view .LVU67
  21:Core/drogui/sensor/imu/src/ICM20948.c **** 	if( m->off_gz != getReg(GYR_Z_OFF))  ans |= 2, m->off_gz = getReg(GYR_Z_OFF);
 246              		.loc 1 21 43 is_stmt 0 discriminator 1 view .LVU68
 247 012a 45F00205 		orr	r5, r5, #2
 248              	.LVL21:
  21:Core/drogui/sensor/imu/src/ICM20948.c **** 	if( m->off_gz != getReg(GYR_Z_OFF))  ans |= 2, m->off_gz = getReg(GYR_Z_OFF);
 249              		.loc 1 21 61 discriminator 1 view .LVU69
 250 012e 1620     		movs	r0, #22
 251 0130 FFF7FEFF 		bl	getReg
 252              	.LVL22:
  21:Core/drogui/sensor/imu/src/ICM20948.c **** 	if( m->off_gz != getReg(GYR_Z_OFF))  ans |= 2, m->off_gz = getReg(GYR_Z_OFF);
 253              		.loc 1 21 59 discriminator 1 view .LVU70
 254 0134 84ED1D0A 		vstr.32	s0, [r4, #116]
 255 0138 7BE7     		b	.L3
 256              	.L20:
  22:Core/drogui/sensor/imu/src/ICM20948.c **** 
 257              		.loc 1 22 39 is_stmt 1 discriminator 1 view .LVU71
  22:Core/drogui/sensor/imu/src/ICM20948.c **** 
 258              		.loc 1 22 43 is_stmt 0 discriminator 1 view .LVU72
 259 013a 45F00205 		orr	r5, r5, #2
 260              	.LVL23:
  22:Core/drogui/sensor/imu/src/ICM20948.c **** 
 261              		.loc 1 22 61 discriminator 1 view .LVU73
 262 013e 1820     		movs	r0, #24
 263 0140 FFF7FEFF 		bl	getReg
 264              	.LVL24:
  22:Core/drogui/sensor/imu/src/ICM20948.c **** 
 265              		.loc 1 22 59 discriminator 1 view .LVU74
 266 0144 84ED1E0A 		vstr.32	s0, [r4, #120]
 267 0148 7DE7     		b	.L4
 268              	.L21:
  24:Core/drogui/sensor/imu/src/ICM20948.c **** 	if( m->off_ay  != getReg(ACC_Y_OFF)) ans |= 1, m->off_ay = getReg(ACC_Y_OFF);
 269              		.loc 1 24 39 is_stmt 1 discriminator 1 view .LVU75
  24:Core/drogui/sensor/imu/src/ICM20948.c **** 	if( m->off_ay  != getReg(ACC_Y_OFF)) ans |= 1, m->off_ay = getReg(ACC_Y_OFF);
 270              		.loc 1 24 43 is_stmt 0 discriminator 1 view .LVU76
 271 014a 45F00105 		orr	r5, r5, #1
 272              	.LVL25:
  24:Core/drogui/sensor/imu/src/ICM20948.c **** 	if( m->off_ay  != getReg(ACC_Y_OFF)) ans |= 1, m->off_ay = getReg(ACC_Y_OFF);
 273              		.loc 1 24 61 discriminator 1 view .LVU77
 274 014e 1A20     		movs	r0, #26
 275 0150 FFF7FEFF 		bl	getReg
 276              	.LVL26:
  24:Core/drogui/sensor/imu/src/ICM20948.c **** 	if( m->off_ay  != getReg(ACC_Y_OFF)) ans |= 1, m->off_ay = getReg(ACC_Y_OFF);
 277              		.loc 1 24 59 discriminator 1 view .LVU78
 278 0154 84ED180A 		vstr.32	s0, [r4, #96]
 279 0158 7FE7     		b	.L5
 280              	.L22:
  25:Core/drogui/sensor/imu/src/ICM20948.c **** 	if( m->off_az  != getReg(ACC_Z_OFF)) ans |= 1, m->off_az = getReg(ACC_Z_OFF);
 281              		.loc 1 25 39 is_stmt 1 discriminator 1 view .LVU79
  25:Core/drogui/sensor/imu/src/ICM20948.c **** 	if( m->off_az  != getReg(ACC_Z_OFF)) ans |= 1, m->off_az = getReg(ACC_Z_OFF);
 282              		.loc 1 25 43 is_stmt 0 discriminator 1 view .LVU80
 283 015a 45F00105 		orr	r5, r5, #1
 284              	.LVL27:
ARM GAS  C:\Users\GUILLE~1\AppData\Local\Temp\ccUunABq.s 			page 7


  25:Core/drogui/sensor/imu/src/ICM20948.c **** 	if( m->off_az  != getReg(ACC_Z_OFF)) ans |= 1, m->off_az = getReg(ACC_Z_OFF);
 285              		.loc 1 25 61 discriminator 1 view .LVU81
 286 015e 1C20     		movs	r0, #28
 287 0160 FFF7FEFF 		bl	getReg
 288              	.LVL28:
  25:Core/drogui/sensor/imu/src/ICM20948.c **** 	if( m->off_az  != getReg(ACC_Z_OFF)) ans |= 1, m->off_az = getReg(ACC_Z_OFF);
 289              		.loc 1 25 59 discriminator 1 view .LVU82
 290 0164 84ED190A 		vstr.32	s0, [r4, #100]
 291 0168 81E7     		b	.L6
 292              	.L23:
  26:Core/drogui/sensor/imu/src/ICM20948.c **** 	if( m->scl_acc != getReg(ACC_SCALE)) ans |= 1, m->scl_acc =  getReg(ACC_SCALE);
 293              		.loc 1 26 39 is_stmt 1 discriminator 1 view .LVU83
  26:Core/drogui/sensor/imu/src/ICM20948.c **** 	if( m->scl_acc != getReg(ACC_SCALE)) ans |= 1, m->scl_acc =  getReg(ACC_SCALE);
 294              		.loc 1 26 43 is_stmt 0 discriminator 1 view .LVU84
 295 016a 45F00105 		orr	r5, r5, #1
 296              	.LVL29:
  26:Core/drogui/sensor/imu/src/ICM20948.c **** 	if( m->scl_acc != getReg(ACC_SCALE)) ans |= 1, m->scl_acc =  getReg(ACC_SCALE);
 297              		.loc 1 26 61 discriminator 1 view .LVU85
 298 016e 1E20     		movs	r0, #30
 299 0170 FFF7FEFF 		bl	getReg
 300              	.LVL30:
  26:Core/drogui/sensor/imu/src/ICM20948.c **** 	if( m->scl_acc != getReg(ACC_SCALE)) ans |= 1, m->scl_acc =  getReg(ACC_SCALE);
 301              		.loc 1 26 59 discriminator 1 view .LVU86
 302 0174 84ED1A0A 		vstr.32	s0, [r4, #104]
 303 0178 83E7     		b	.L7
 304              	.L24:
  27:Core/drogui/sensor/imu/src/ICM20948.c **** 
 305              		.loc 1 27 39 is_stmt 1 discriminator 1 view .LVU87
  27:Core/drogui/sensor/imu/src/ICM20948.c **** 
 306              		.loc 1 27 43 is_stmt 0 discriminator 1 view .LVU88
 307 017a 45F00105 		orr	r5, r5, #1
 308              	.LVL31:
  27:Core/drogui/sensor/imu/src/ICM20948.c **** 
 309              		.loc 1 27 63 discriminator 1 view .LVU89
 310 017e 2020     		movs	r0, #32
 311 0180 FFF7FEFF 		bl	getReg
 312              	.LVL32:
  27:Core/drogui/sensor/imu/src/ICM20948.c **** 
 313              		.loc 1 27 60 discriminator 1 view .LVU90
 314 0184 84ED1B0A 		vstr.32	s0, [r4, #108]
 315 0188 85E7     		b	.L8
 316              	.L25:
  29:Core/drogui/sensor/imu/src/ICM20948.c **** 	if( m->off_my != getReg(MAG_Y_OFF)) ans |= 4, m->off_my = getReg(MAG_Y_OFF);
 317              		.loc 1 29 38 is_stmt 1 discriminator 1 view .LVU91
  29:Core/drogui/sensor/imu/src/ICM20948.c **** 	if( m->off_my != getReg(MAG_Y_OFF)) ans |= 4, m->off_my = getReg(MAG_Y_OFF);
 318              		.loc 1 29 42 is_stmt 0 discriminator 1 view .LVU92
 319 018a 45F00405 		orr	r5, r5, #4
 320              	.LVL33:
  29:Core/drogui/sensor/imu/src/ICM20948.c **** 	if( m->off_my != getReg(MAG_Y_OFF)) ans |= 4, m->off_my = getReg(MAG_Y_OFF);
 321              		.loc 1 29 62 discriminator 1 view .LVU93
 322 018e 2220     		movs	r0, #34
 323 0190 FFF7FEFF 		bl	getReg
 324              	.LVL34:
  29:Core/drogui/sensor/imu/src/ICM20948.c **** 	if( m->off_my != getReg(MAG_Y_OFF)) ans |= 4, m->off_my = getReg(MAG_Y_OFF);
 325              		.loc 1 29 58 discriminator 1 view .LVU94
 326 0194 84ED1F0A 		vstr.32	s0, [r4, #124]
 327 0198 87E7     		b	.L9
ARM GAS  C:\Users\GUILLE~1\AppData\Local\Temp\ccUunABq.s 			page 8


 328              	.L26:
  30:Core/drogui/sensor/imu/src/ICM20948.c **** 	if( m->off_mz != getReg(MAG_Z_OFF)) ans |= 4, m->off_mz = getReg(MAG_Z_OFF);
 329              		.loc 1 30 38 is_stmt 1 discriminator 1 view .LVU95
  30:Core/drogui/sensor/imu/src/ICM20948.c **** 	if( m->off_mz != getReg(MAG_Z_OFF)) ans |= 4, m->off_mz = getReg(MAG_Z_OFF);
 330              		.loc 1 30 42 is_stmt 0 discriminator 1 view .LVU96
 331 019a 45F00405 		orr	r5, r5, #4
 332              	.LVL35:
  30:Core/drogui/sensor/imu/src/ICM20948.c **** 	if( m->off_mz != getReg(MAG_Z_OFF)) ans |= 4, m->off_mz = getReg(MAG_Z_OFF);
 333              		.loc 1 30 60 discriminator 1 view .LVU97
 334 019e 2420     		movs	r0, #36
 335 01a0 FFF7FEFF 		bl	getReg
 336              	.LVL36:
  30:Core/drogui/sensor/imu/src/ICM20948.c **** 	if( m->off_mz != getReg(MAG_Z_OFF)) ans |= 4, m->off_mz = getReg(MAG_Z_OFF);
 337              		.loc 1 30 58 discriminator 1 view .LVU98
 338 01a4 84ED200A 		vstr.32	s0, [r4, #128]
 339 01a8 89E7     		b	.L10
 340              	.L27:
  31:Core/drogui/sensor/imu/src/ICM20948.c **** 
 341              		.loc 1 31 38 is_stmt 1 discriminator 1 view .LVU99
  31:Core/drogui/sensor/imu/src/ICM20948.c **** 
 342              		.loc 1 31 42 is_stmt 0 discriminator 1 view .LVU100
 343 01aa 45F00405 		orr	r5, r5, #4
 344              	.LVL37:
  31:Core/drogui/sensor/imu/src/ICM20948.c **** 
 345              		.loc 1 31 60 discriminator 1 view .LVU101
 346 01ae 2620     		movs	r0, #38
 347 01b0 FFF7FEFF 		bl	getReg
 348              	.LVL38:
  31:Core/drogui/sensor/imu/src/ICM20948.c **** 
 349              		.loc 1 31 58 discriminator 1 view .LVU102
 350 01b4 84ED210A 		vstr.32	s0, [r4, #132]
 351 01b8 8BE7     		b	.L11
 352              	.L28:
  33:Core/drogui/sensor/imu/src/ICM20948.c **** 	if( m->scl_magy != getReg(MAG_Y_SCALE)) ans |= 4, m->scl_magy = getReg(MAG_Y_SCALE);
 353              		.loc 1 33 42 is_stmt 1 discriminator 1 view .LVU103
  33:Core/drogui/sensor/imu/src/ICM20948.c **** 	if( m->scl_magy != getReg(MAG_Y_SCALE)) ans |= 4, m->scl_magy = getReg(MAG_Y_SCALE);
 354              		.loc 1 33 46 is_stmt 0 discriminator 1 view .LVU104
 355 01ba 45F00405 		orr	r5, r5, #4
 356              	.LVL39:
  33:Core/drogui/sensor/imu/src/ICM20948.c **** 	if( m->scl_magy != getReg(MAG_Y_SCALE)) ans |= 4, m->scl_magy = getReg(MAG_Y_SCALE);
 357              		.loc 1 33 66 discriminator 1 view .LVU105
 358 01be 2820     		movs	r0, #40
 359 01c0 FFF7FEFF 		bl	getReg
 360              	.LVL40:
  33:Core/drogui/sensor/imu/src/ICM20948.c **** 	if( m->scl_magy != getReg(MAG_Y_SCALE)) ans |= 4, m->scl_magy = getReg(MAG_Y_SCALE);
 361              		.loc 1 33 64 discriminator 1 view .LVU106
 362 01c4 84ED220A 		vstr.32	s0, [r4, #136]
 363 01c8 8DE7     		b	.L12
 364              	.L29:
  34:Core/drogui/sensor/imu/src/ICM20948.c **** 	if( m->scl_magz != getReg(MAG_Z_SCALE)) ans |= 4, m->scl_magz = getReg(MAG_Z_SCALE);
 365              		.loc 1 34 42 is_stmt 1 discriminator 1 view .LVU107
  34:Core/drogui/sensor/imu/src/ICM20948.c **** 	if( m->scl_magz != getReg(MAG_Z_SCALE)) ans |= 4, m->scl_magz = getReg(MAG_Z_SCALE);
 366              		.loc 1 34 46 is_stmt 0 discriminator 1 view .LVU108
 367 01ca 45F00405 		orr	r5, r5, #4
 368              	.LVL41:
  34:Core/drogui/sensor/imu/src/ICM20948.c **** 	if( m->scl_magz != getReg(MAG_Z_SCALE)) ans |= 4, m->scl_magz = getReg(MAG_Z_SCALE);
 369              		.loc 1 34 66 discriminator 1 view .LVU109
ARM GAS  C:\Users\GUILLE~1\AppData\Local\Temp\ccUunABq.s 			page 9


 370 01ce 2A20     		movs	r0, #42
 371 01d0 FFF7FEFF 		bl	getReg
 372              	.LVL42:
  34:Core/drogui/sensor/imu/src/ICM20948.c **** 	if( m->scl_magz != getReg(MAG_Z_SCALE)) ans |= 4, m->scl_magz = getReg(MAG_Z_SCALE);
 373              		.loc 1 34 64 discriminator 1 view .LVU110
 374 01d4 84ED230A 		vstr.32	s0, [r4, #140]
 375 01d8 8FE7     		b	.L13
 376              	.L30:
  35:Core/drogui/sensor/imu/src/ICM20948.c **** 
 377              		.loc 1 35 42 is_stmt 1 discriminator 1 view .LVU111
  35:Core/drogui/sensor/imu/src/ICM20948.c **** 
 378              		.loc 1 35 46 is_stmt 0 discriminator 1 view .LVU112
 379 01da 45F00405 		orr	r5, r5, #4
 380              	.LVL43:
  35:Core/drogui/sensor/imu/src/ICM20948.c **** 
 381              		.loc 1 35 66 discriminator 1 view .LVU113
 382 01de 2C20     		movs	r0, #44
 383 01e0 FFF7FEFF 		bl	getReg
 384              	.LVL44:
  35:Core/drogui/sensor/imu/src/ICM20948.c **** 
 385              		.loc 1 35 64 discriminator 1 view .LVU114
 386 01e4 84ED240A 		vstr.32	s0, [r4, #144]
 387 01e8 91E7     		b	.L14
 388              		.cfi_endproc
 389              	.LFE279:
 391              		.section	.text.initFiltGyro,"ax",%progbits
 392              		.align	1
 393              		.global	initFiltGyro
 394              		.syntax unified
 395              		.thumb
 396              		.thumb_func
 397              		.fpu fpv5-sp-d16
 399              	initFiltGyro:
 400              	.LVL45:
 401              	.LFB281:
  41:Core/drogui/sensor/imu/src/ICM20948.c **** 
  42:Core/drogui/sensor/imu/src/ICM20948.c **** void initImu(icm20948* m){
  43:Core/drogui/sensor/imu/src/ICM20948.c **** 	I2CwriteByte(ICM20948_ADDRESS, CHANGE_BANK, 0);
  44:Core/drogui/sensor/imu/src/ICM20948.c **** 	I2CwriteByte(ICM20948_ADDRESS, PWR_MGT, 9);
  45:Core/drogui/sensor/imu/src/ICM20948.c **** 	I2CwriteByte(ICM20948_ADDRESS, CHANGE_BANK, 2<<4);
  46:Core/drogui/sensor/imu/src/ICM20948.c **** 	I2CwriteByte(ICM20948_ADDRESS, ICM_GYRO_SMPLRT_DIV, 0);
  47:Core/drogui/sensor/imu/src/ICM20948.c **** 	I2CwriteByte(ICM20948_ADDRESS, ICM_GYRO_CONFIG1, ICM_GYRO_FULL_SCALE_500_DPS);
  48:Core/drogui/sensor/imu/src/ICM20948.c **** 	I2CwriteByte(ICM20948_ADDRESS, ICM_ACCEL_CONFIG1,ICM_ACC_FULL_SCALE_2_G);
  49:Core/drogui/sensor/imu/src/ICM20948.c **** 	I2CwriteByte(ICM20948_ADDRESS, ICM_ACCEL_SMPLRT_DIV_MSB, 0);
  50:Core/drogui/sensor/imu/src/ICM20948.c **** 	I2CwriteByte(ICM20948_ADDRESS, ICM_ACCEL_SMPLRT_DIV_LSB, 0);
  51:Core/drogui/sensor/imu/src/ICM20948.c **** 	I2CwriteByte(ICM20948_ADDRESS, CHANGE_BANK, 0);
  52:Core/drogui/sensor/imu/src/ICM20948.c **** 	HAL_Delay(1000);
  53:Core/drogui/sensor/imu/src/ICM20948.c **** 
  54:Core/drogui/sensor/imu/src/ICM20948.c **** 	// Init magnetometer
  55:Core/drogui/sensor/imu/src/ICM20948.c **** 	I2CwriteByte(ICM20948_ADDRESS, INT_PIN_CFG, 2);
  56:Core/drogui/sensor/imu/src/ICM20948.c **** 	I2CwriteByte(ICM20948_ADDRESS, USER_CTRL, 0);
  57:Core/drogui/sensor/imu/src/ICM20948.c **** 
  58:Core/drogui/sensor/imu/src/ICM20948.c **** 	I2CwriteByte(ICM_MAG_ADDRESS, AK09916_CNTL2, AK09916_MAG_DATARATE_SHUTDOWN);
  59:Core/drogui/sensor/imu/src/ICM20948.c **** 	HAL_Delay(100);
  60:Core/drogui/sensor/imu/src/ICM20948.c **** 	I2CwriteByte(ICM_MAG_ADDRESS, AK09916_CNTL2, AK09916_MAG_DATARATE_100_HZ);
  61:Core/drogui/sensor/imu/src/ICM20948.c **** 
  62:Core/drogui/sensor/imu/src/ICM20948.c **** 	m->scl_acc = m->scl_magx = m-> scl_magy = m-> scl_magz = 1;
ARM GAS  C:\Users\GUILLE~1\AppData\Local\Temp\ccUunABq.s 			page 10


  63:Core/drogui/sensor/imu/src/ICM20948.c **** 
  64:Core/drogui/sensor/imu/src/ICM20948.c **** 	initFiltGyro(&(m->fGyroX)), initFiltGyro(&(m->fGyroY)), initFiltGyro(&(m->fGyroZ));
  65:Core/drogui/sensor/imu/src/ICM20948.c **** 	initFiltAcc(&(m->fAccX)), initFiltAcc(&(m->fAccY)), initFiltAcc(&(m->fAccZ));
  66:Core/drogui/sensor/imu/src/ICM20948.c **** }
  67:Core/drogui/sensor/imu/src/ICM20948.c **** 
  68:Core/drogui/sensor/imu/src/ICM20948.c **** void initFiltGyro(filtGyro *fg){
 402              		.loc 1 68 32 is_stmt 1 view -0
 403              		.cfi_startproc
 404              		@ args = 0, pretend = 0, frame = 0
 405              		@ frame_needed = 0, uses_anonymous_args = 0
 406              		.loc 1 68 32 is_stmt 0 view .LVU116
 407 0000 10B5     		push	{r4, lr}
 408              	.LCFI4:
 409              		.cfi_def_cfa_offset 8
 410              		.cfi_offset 4, -8
 411              		.cfi_offset 14, -4
 412 0002 2DED028B 		vpush.64	{d8}
 413              	.LCFI5:
 414              		.cfi_def_cfa_offset 16
 415              		.cfi_offset 80, -16
 416              		.cfi_offset 81, -12
 417 0006 0446     		mov	r4, r0
  69:Core/drogui/sensor/imu/src/ICM20948.c **** 
  70:Core/drogui/sensor/imu/src/ICM20948.c **** 	initFilter(&(fg->first), 6 , k_1_10, v_1_10);
 418              		.loc 1 70 2 is_stmt 1 view .LVU117
 419 0008 154B     		ldr	r3, .L33
 420 000a 164A     		ldr	r2, .L33+4
 421 000c 0621     		movs	r1, #6
 422 000e FFF7FEFF 		bl	initFilter
 423              	.LVL46:
  71:Core/drogui/sensor/imu/src/ICM20948.c **** 	initFilter(&(fg->second), 5 , k_3_10, v_3_10);
 424              		.loc 1 71 2 view .LVU118
 425 0012 154B     		ldr	r3, .L33+8
 426 0014 154A     		ldr	r2, .L33+12
 427 0016 0521     		movs	r1, #5
 428 0018 04F11800 		add	r0, r4, #24
 429 001c FFF7FEFF 		bl	initFilter
 430              	.LVL47:
  72:Core/drogui/sensor/imu/src/ICM20948.c **** 	initDNotchFilter(&(fg->third), 64, 30, 1000, 3, 5);
 431              		.loc 1 72 2 view .LVU119
 432 0020 9FED138A 		vldr.32	s16, .L33+16
 433 0024 F1EE041A 		vmov.f32	s3, #5.0e+0
 434 0028 B0EE081A 		vmov.f32	s2, #3.0e+0
 435 002c F0EE480A 		vmov.f32	s1, s16
 436 0030 B3EE0E0A 		vmov.f32	s0, #3.0e+1
 437 0034 4021     		movs	r1, #64
 438 0036 04F14800 		add	r0, r4, #72
 439 003a FFF7FEFF 		bl	initDNotchFilter
 440              	.LVL48:
  73:Core/drogui/sensor/imu/src/ICM20948.c **** 	initDNotchFilter(&(fg->fourth), 64, 30, 1000, 5, 5);
 441              		.loc 1 73 2 view .LVU120
 442 003e F1EE041A 		vmov.f32	s3, #5.0e+0
 443 0042 B0EE611A 		vmov.f32	s2, s3
 444 0046 F0EE480A 		vmov.f32	s1, s16
 445 004a B3EE0E0A 		vmov.f32	s0, #3.0e+1
 446 004e 4021     		movs	r1, #64
 447 0050 04F1B000 		add	r0, r4, #176
ARM GAS  C:\Users\GUILLE~1\AppData\Local\Temp\ccUunABq.s 			page 11


 448 0054 FFF7FEFF 		bl	initDNotchFilter
 449              	.LVL49:
  74:Core/drogui/sensor/imu/src/ICM20948.c **** }
 450              		.loc 1 74 1 is_stmt 0 view .LVU121
 451 0058 BDEC028B 		vldm	sp!, {d8}
 452              	.LCFI6:
 453              		.cfi_restore 80
 454              		.cfi_restore 81
 455              		.cfi_def_cfa_offset 8
 456 005c 10BD     		pop	{r4, pc}
 457              	.LVL50:
 458              	.L34:
 459              		.loc 1 74 1 view .LVU122
 460 005e 00BF     		.align	2
 461              	.L33:
 462 0060 00000000 		.word	v_1_10
 463 0064 00000000 		.word	k_1_10
 464 0068 00000000 		.word	v_3_10
 465 006c 00000000 		.word	k_3_10
 466 0070 00007A44 		.word	1148846080
 467              		.cfi_endproc
 468              	.LFE281:
 470              		.section	.text.initFiltAcc,"ax",%progbits
 471              		.align	1
 472              		.global	initFiltAcc
 473              		.syntax unified
 474              		.thumb
 475              		.thumb_func
 476              		.fpu fpv5-sp-d16
 478              	initFiltAcc:
 479              	.LVL51:
 480              	.LFB282:
  75:Core/drogui/sensor/imu/src/ICM20948.c **** 
  76:Core/drogui/sensor/imu/src/ICM20948.c **** void initFiltAcc(filtAcc *fa){
 481              		.loc 1 76 30 is_stmt 1 view -0
 482              		.cfi_startproc
 483              		@ args = 0, pretend = 0, frame = 0
 484              		@ frame_needed = 0, uses_anonymous_args = 0
 485              		.loc 1 76 30 is_stmt 0 view .LVU124
 486 0000 10B5     		push	{r4, lr}
 487              	.LCFI7:
 488              		.cfi_def_cfa_offset 8
 489              		.cfi_offset 4, -8
 490              		.cfi_offset 14, -4
 491 0002 0446     		mov	r4, r0
  77:Core/drogui/sensor/imu/src/ICM20948.c **** 
  78:Core/drogui/sensor/imu/src/ICM20948.c **** 	initFilter(&(fa->first), 4 , k_1_20, v_1_20);
 492              		.loc 1 78 2 is_stmt 1 view .LVU125
 493 0004 094B     		ldr	r3, .L37
 494 0006 0A4A     		ldr	r2, .L37+4
 495 0008 0421     		movs	r1, #4
 496 000a FFF7FEFF 		bl	initFilter
 497              	.LVL52:
  79:Core/drogui/sensor/imu/src/ICM20948.c **** 	initDNotchFilter(&(fa->second), 64, 40, 1000, 1, 1);
 498              		.loc 1 79 2 view .LVU126
 499 000e F7EE001A 		vmov.f32	s3, #1.0e+0
 500 0012 B0EE611A 		vmov.f32	s2, s3
ARM GAS  C:\Users\GUILLE~1\AppData\Local\Temp\ccUunABq.s 			page 12


 501 0016 DFED070A 		vldr.32	s1, .L37+8
 502 001a 9FED070A 		vldr.32	s0, .L37+12
 503 001e 4021     		movs	r1, #64
 504 0020 04F11800 		add	r0, r4, #24
 505 0024 FFF7FEFF 		bl	initDNotchFilter
 506              	.LVL53:
  80:Core/drogui/sensor/imu/src/ICM20948.c **** }
 507              		.loc 1 80 1 is_stmt 0 view .LVU127
 508 0028 10BD     		pop	{r4, pc}
 509              	.LVL54:
 510              	.L38:
 511              		.loc 1 80 1 view .LVU128
 512 002a 00BF     		.align	2
 513              	.L37:
 514 002c 00000000 		.word	v_1_20
 515 0030 00000000 		.word	k_1_20
 516 0034 00007A44 		.word	1148846080
 517 0038 00002042 		.word	1109393408
 518              		.cfi_endproc
 519              	.LFE282:
 521              		.section	.text.initImu,"ax",%progbits
 522              		.align	1
 523              		.global	initImu
 524              		.syntax unified
 525              		.thumb
 526              		.thumb_func
 527              		.fpu fpv5-sp-d16
 529              	initImu:
 530              	.LVL55:
 531              	.LFB280:
  42:Core/drogui/sensor/imu/src/ICM20948.c **** 	I2CwriteByte(ICM20948_ADDRESS, CHANGE_BANK, 0);
 532              		.loc 1 42 26 is_stmt 1 view -0
 533              		.cfi_startproc
 534              		@ args = 0, pretend = 0, frame = 0
 535              		@ frame_needed = 0, uses_anonymous_args = 0
  42:Core/drogui/sensor/imu/src/ICM20948.c **** 	I2CwriteByte(ICM20948_ADDRESS, CHANGE_BANK, 0);
 536              		.loc 1 42 26 is_stmt 0 view .LVU130
 537 0000 10B5     		push	{r4, lr}
 538              	.LCFI8:
 539              		.cfi_def_cfa_offset 8
 540              		.cfi_offset 4, -8
 541              		.cfi_offset 14, -4
 542 0002 0446     		mov	r4, r0
  43:Core/drogui/sensor/imu/src/ICM20948.c **** 	I2CwriteByte(ICM20948_ADDRESS, PWR_MGT, 9);
 543              		.loc 1 43 2 is_stmt 1 view .LVU131
 544 0004 0022     		movs	r2, #0
 545 0006 7F21     		movs	r1, #127
 546 0008 6920     		movs	r0, #105
 547              	.LVL56:
  43:Core/drogui/sensor/imu/src/ICM20948.c **** 	I2CwriteByte(ICM20948_ADDRESS, PWR_MGT, 9);
 548              		.loc 1 43 2 is_stmt 0 view .LVU132
 549 000a FFF7FEFF 		bl	I2CwriteByte
 550              	.LVL57:
  44:Core/drogui/sensor/imu/src/ICM20948.c **** 	I2CwriteByte(ICM20948_ADDRESS, CHANGE_BANK, 2<<4);
 551              		.loc 1 44 2 is_stmt 1 view .LVU133
 552 000e 0922     		movs	r2, #9
 553 0010 0621     		movs	r1, #6
ARM GAS  C:\Users\GUILLE~1\AppData\Local\Temp\ccUunABq.s 			page 13


 554 0012 6920     		movs	r0, #105
 555 0014 FFF7FEFF 		bl	I2CwriteByte
 556              	.LVL58:
  45:Core/drogui/sensor/imu/src/ICM20948.c **** 	I2CwriteByte(ICM20948_ADDRESS, ICM_GYRO_SMPLRT_DIV, 0);
 557              		.loc 1 45 2 view .LVU134
 558 0018 2022     		movs	r2, #32
 559 001a 7F21     		movs	r1, #127
 560 001c 6920     		movs	r0, #105
 561 001e FFF7FEFF 		bl	I2CwriteByte
 562              	.LVL59:
  46:Core/drogui/sensor/imu/src/ICM20948.c **** 	I2CwriteByte(ICM20948_ADDRESS, ICM_GYRO_CONFIG1, ICM_GYRO_FULL_SCALE_500_DPS);
 563              		.loc 1 46 2 view .LVU135
 564 0022 0022     		movs	r2, #0
 565 0024 1146     		mov	r1, r2
 566 0026 6920     		movs	r0, #105
 567 0028 FFF7FEFF 		bl	I2CwriteByte
 568              	.LVL60:
  47:Core/drogui/sensor/imu/src/ICM20948.c **** 	I2CwriteByte(ICM20948_ADDRESS, ICM_ACCEL_CONFIG1,ICM_ACC_FULL_SCALE_2_G);
 569              		.loc 1 47 2 view .LVU136
 570 002c 0222     		movs	r2, #2
 571 002e 0121     		movs	r1, #1
 572 0030 6920     		movs	r0, #105
 573 0032 FFF7FEFF 		bl	I2CwriteByte
 574              	.LVL61:
  48:Core/drogui/sensor/imu/src/ICM20948.c **** 	I2CwriteByte(ICM20948_ADDRESS, ICM_ACCEL_SMPLRT_DIV_MSB, 0);
 575              		.loc 1 48 2 view .LVU137
 576 0036 0022     		movs	r2, #0
 577 0038 1421     		movs	r1, #20
 578 003a 6920     		movs	r0, #105
 579 003c FFF7FEFF 		bl	I2CwriteByte
 580              	.LVL62:
  49:Core/drogui/sensor/imu/src/ICM20948.c **** 	I2CwriteByte(ICM20948_ADDRESS, ICM_ACCEL_SMPLRT_DIV_LSB, 0);
 581              		.loc 1 49 2 view .LVU138
 582 0040 0022     		movs	r2, #0
 583 0042 1021     		movs	r1, #16
 584 0044 6920     		movs	r0, #105
 585 0046 FFF7FEFF 		bl	I2CwriteByte
 586              	.LVL63:
  50:Core/drogui/sensor/imu/src/ICM20948.c **** 	I2CwriteByte(ICM20948_ADDRESS, CHANGE_BANK, 0);
 587              		.loc 1 50 2 view .LVU139
 588 004a 0022     		movs	r2, #0
 589 004c 1121     		movs	r1, #17
 590 004e 6920     		movs	r0, #105
 591 0050 FFF7FEFF 		bl	I2CwriteByte
 592              	.LVL64:
  51:Core/drogui/sensor/imu/src/ICM20948.c **** 	HAL_Delay(1000);
 593              		.loc 1 51 2 view .LVU140
 594 0054 0022     		movs	r2, #0
 595 0056 7F21     		movs	r1, #127
 596 0058 6920     		movs	r0, #105
 597 005a FFF7FEFF 		bl	I2CwriteByte
 598              	.LVL65:
  52:Core/drogui/sensor/imu/src/ICM20948.c **** 
 599              		.loc 1 52 2 view .LVU141
 600 005e 4FF47A70 		mov	r0, #1000
 601 0062 FFF7FEFF 		bl	HAL_Delay
 602              	.LVL66:
ARM GAS  C:\Users\GUILLE~1\AppData\Local\Temp\ccUunABq.s 			page 14


  55:Core/drogui/sensor/imu/src/ICM20948.c **** 	I2CwriteByte(ICM20948_ADDRESS, USER_CTRL, 0);
 603              		.loc 1 55 2 view .LVU142
 604 0066 0222     		movs	r2, #2
 605 0068 0F21     		movs	r1, #15
 606 006a 6920     		movs	r0, #105
 607 006c FFF7FEFF 		bl	I2CwriteByte
 608              	.LVL67:
  56:Core/drogui/sensor/imu/src/ICM20948.c **** 
 609              		.loc 1 56 2 view .LVU143
 610 0070 0022     		movs	r2, #0
 611 0072 0321     		movs	r1, #3
 612 0074 6920     		movs	r0, #105
 613 0076 FFF7FEFF 		bl	I2CwriteByte
 614              	.LVL68:
  58:Core/drogui/sensor/imu/src/ICM20948.c **** 	HAL_Delay(100);
 615              		.loc 1 58 2 view .LVU144
 616 007a 0022     		movs	r2, #0
 617 007c 3121     		movs	r1, #49
 618 007e 0C20     		movs	r0, #12
 619 0080 FFF7FEFF 		bl	I2CwriteByte
 620              	.LVL69:
  59:Core/drogui/sensor/imu/src/ICM20948.c **** 	I2CwriteByte(ICM_MAG_ADDRESS, AK09916_CNTL2, AK09916_MAG_DATARATE_100_HZ);
 621              		.loc 1 59 2 view .LVU145
 622 0084 6420     		movs	r0, #100
 623 0086 FFF7FEFF 		bl	HAL_Delay
 624              	.LVL70:
  60:Core/drogui/sensor/imu/src/ICM20948.c **** 
 625              		.loc 1 60 2 view .LVU146
 626 008a 0822     		movs	r2, #8
 627 008c 3121     		movs	r1, #49
 628 008e 0C20     		movs	r0, #12
 629 0090 FFF7FEFF 		bl	I2CwriteByte
 630              	.LVL71:
  62:Core/drogui/sensor/imu/src/ICM20948.c **** 
 631              		.loc 1 62 2 view .LVU147
  62:Core/drogui/sensor/imu/src/ICM20948.c **** 
 632              		.loc 1 62 57 is_stmt 0 view .LVU148
 633 0094 4FF07E53 		mov	r3, #1065353216
 634 0098 C4F89030 		str	r3, [r4, #144]	@ float
  62:Core/drogui/sensor/imu/src/ICM20948.c **** 
 635              		.loc 1 62 42 view .LVU149
 636 009c C4F88C30 		str	r3, [r4, #140]	@ float
  62:Core/drogui/sensor/imu/src/ICM20948.c **** 
 637              		.loc 1 62 27 view .LVU150
 638 00a0 C4F88830 		str	r3, [r4, #136]	@ float
  62:Core/drogui/sensor/imu/src/ICM20948.c **** 
 639              		.loc 1 62 13 view .LVU151
 640 00a4 E366     		str	r3, [r4, #108]	@ float
  64:Core/drogui/sensor/imu/src/ICM20948.c **** 	initFiltAcc(&(m->fAccX)), initFiltAcc(&(m->fAccY)), initFiltAcc(&(m->fAccZ));
 641              		.loc 1 64 2 is_stmt 1 view .LVU152
 642 00a6 04F1A400 		add	r0, r4, #164
 643 00aa FFF7FEFF 		bl	initFiltGyro
 644              	.LVL72:
  64:Core/drogui/sensor/imu/src/ICM20948.c **** 	initFiltAcc(&(m->fAccX)), initFiltAcc(&(m->fAccY)), initFiltAcc(&(m->fAccZ));
 645              		.loc 1 64 30 is_stmt 0 view .LVU153
 646 00ae 04F5DE70 		add	r0, r4, #444
 647 00b2 FFF7FEFF 		bl	initFiltGyro
ARM GAS  C:\Users\GUILLE~1\AppData\Local\Temp\ccUunABq.s 			page 15


 648              	.LVL73:
  64:Core/drogui/sensor/imu/src/ICM20948.c **** 	initFiltAcc(&(m->fAccX)), initFiltAcc(&(m->fAccY)), initFiltAcc(&(m->fAccZ));
 649              		.loc 1 64 58 view .LVU154
 650 00b6 04F53570 		add	r0, r4, #724
 651 00ba FFF7FEFF 		bl	initFiltGyro
 652              	.LVL74:
  65:Core/drogui/sensor/imu/src/ICM20948.c **** }
 653              		.loc 1 65 2 is_stmt 1 view .LVU155
 654 00be 04F57B70 		add	r0, r4, #1004
 655 00c2 FFF7FEFF 		bl	initFiltAcc
 656              	.LVL75:
  65:Core/drogui/sensor/imu/src/ICM20948.c **** }
 657              		.loc 1 65 28 is_stmt 0 view .LVU156
 658 00c6 04F26C40 		addw	r0, r4, #1132
 659 00ca FFF7FEFF 		bl	initFiltAcc
 660              	.LVL76:
  65:Core/drogui/sensor/imu/src/ICM20948.c **** }
 661              		.loc 1 65 54 view .LVU157
 662 00ce 04F2EC40 		addw	r0, r4, #1260
 663 00d2 FFF7FEFF 		bl	initFiltAcc
 664              	.LVL77:
  66:Core/drogui/sensor/imu/src/ICM20948.c **** 
 665              		.loc 1 66 1 view .LVU158
 666 00d6 10BD     		pop	{r4, pc}
  66:Core/drogui/sensor/imu/src/ICM20948.c **** 
 667              		.loc 1 66 1 view .LVU159
 668              		.cfi_endproc
 669              	.LFE280:
 671              		.section	.text.computeFiltGyro,"ax",%progbits
 672              		.align	1
 673              		.global	computeFiltGyro
 674              		.syntax unified
 675              		.thumb
 676              		.thumb_func
 677              		.fpu fpv5-sp-d16
 679              	computeFiltGyro:
 680              	.LVL78:
 681              	.LFB283:
  81:Core/drogui/sensor/imu/src/ICM20948.c **** 
  82:Core/drogui/sensor/imu/src/ICM20948.c **** 
  83:Core/drogui/sensor/imu/src/ICM20948.c **** float computeFiltGyro(filtGyro *fg, float val){
 682              		.loc 1 83 47 is_stmt 1 view -0
 683              		.cfi_startproc
 684              		@ args = 0, pretend = 0, frame = 0
 685              		@ frame_needed = 0, uses_anonymous_args = 0
 686              		.loc 1 83 47 is_stmt 0 view .LVU161
 687 0000 10B5     		push	{r4, lr}
 688              	.LCFI9:
 689              		.cfi_def_cfa_offset 8
 690              		.cfi_offset 4, -8
 691              		.cfi_offset 14, -4
 692 0002 0446     		mov	r4, r0
  84:Core/drogui/sensor/imu/src/ICM20948.c **** 	val = computeFilter(&(fg->first), val);
 693              		.loc 1 84 2 is_stmt 1 view .LVU162
 694              		.loc 1 84 8 is_stmt 0 view .LVU163
 695 0004 FFF7FEFF 		bl	computeFilter
 696              	.LVL79:
ARM GAS  C:\Users\GUILLE~1\AppData\Local\Temp\ccUunABq.s 			page 16


  85:Core/drogui/sensor/imu/src/ICM20948.c **** 	val = computeFilter(&(fg->second), val);
 697              		.loc 1 85 2 is_stmt 1 view .LVU164
 698              		.loc 1 85 8 is_stmt 0 view .LVU165
 699 0008 04F11800 		add	r0, r4, #24
 700 000c FFF7FEFF 		bl	computeFilter
 701              	.LVL80:
  86:Core/drogui/sensor/imu/src/ICM20948.c **** 	val = computeDNotch(&(fg->third), val);
 702              		.loc 1 86 2 is_stmt 1 view .LVU166
 703              		.loc 1 86 8 is_stmt 0 view .LVU167
 704 0010 04F14800 		add	r0, r4, #72
 705 0014 FFF7FEFF 		bl	computeDNotch
 706              	.LVL81:
  87:Core/drogui/sensor/imu/src/ICM20948.c **** 	val = computeDNotch(&(fg->fourth), val);
 707              		.loc 1 87 2 is_stmt 1 view .LVU168
 708              		.loc 1 87 8 is_stmt 0 view .LVU169
 709 0018 04F1B000 		add	r0, r4, #176
 710 001c FFF7FEFF 		bl	computeDNotch
 711              	.LVL82:
  88:Core/drogui/sensor/imu/src/ICM20948.c **** 	//val = computeFilter(&(fg->fifth), val);
  89:Core/drogui/sensor/imu/src/ICM20948.c **** 	return val / 65.5;
 712              		.loc 1 89 2 is_stmt 1 view .LVU170
  90:Core/drogui/sensor/imu/src/ICM20948.c **** }
 713              		.loc 1 90 1 is_stmt 0 view .LVU171
 714 0020 DFED027A 		vldr.32	s15, .L43
 715 0024 80EE270A 		vdiv.f32	s0, s0, s15
 716              	.LVL83:
 717              		.loc 1 90 1 view .LVU172
 718 0028 10BD     		pop	{r4, pc}
 719              	.LVL84:
 720              	.L44:
 721              		.loc 1 90 1 view .LVU173
 722 002a 00BF     		.align	2
 723              	.L43:
 724 002c 00008342 		.word	1115881472
 725              		.cfi_endproc
 726              	.LFE283:
 728              		.section	.text.computeFiltAcc,"ax",%progbits
 729              		.align	1
 730              		.global	computeFiltAcc
 731              		.syntax unified
 732              		.thumb
 733              		.thumb_func
 734              		.fpu fpv5-sp-d16
 736              	computeFiltAcc:
 737              	.LVL85:
 738              	.LFB284:
  91:Core/drogui/sensor/imu/src/ICM20948.c **** 
  92:Core/drogui/sensor/imu/src/ICM20948.c **** float computeFiltAcc(filtAcc *fa, float val){
 739              		.loc 1 92 45 is_stmt 1 view -0
 740              		.cfi_startproc
 741              		@ args = 0, pretend = 0, frame = 0
 742              		@ frame_needed = 0, uses_anonymous_args = 0
 743              		.loc 1 92 45 is_stmt 0 view .LVU175
 744 0000 10B5     		push	{r4, lr}
 745              	.LCFI10:
 746              		.cfi_def_cfa_offset 8
 747              		.cfi_offset 4, -8
ARM GAS  C:\Users\GUILLE~1\AppData\Local\Temp\ccUunABq.s 			page 17


 748              		.cfi_offset 14, -4
 749 0002 0446     		mov	r4, r0
  93:Core/drogui/sensor/imu/src/ICM20948.c **** 	val = computeFilter(&(fa->first), val);
 750              		.loc 1 93 2 is_stmt 1 view .LVU176
 751              		.loc 1 93 8 is_stmt 0 view .LVU177
 752 0004 FFF7FEFF 		bl	computeFilter
 753              	.LVL86:
  94:Core/drogui/sensor/imu/src/ICM20948.c **** 
  95:Core/drogui/sensor/imu/src/ICM20948.c **** 	val = computeDNotch(&(fa->second), val);
 754              		.loc 1 95 2 is_stmt 1 view .LVU178
 755              		.loc 1 95 8 is_stmt 0 view .LVU179
 756 0008 04F11800 		add	r0, r4, #24
 757 000c FFF7FEFF 		bl	computeDNotch
 758              	.LVL87:
  96:Core/drogui/sensor/imu/src/ICM20948.c **** 	return val;
 759              		.loc 1 96 2 is_stmt 1 view .LVU180
  97:Core/drogui/sensor/imu/src/ICM20948.c **** }
 760              		.loc 1 97 1 is_stmt 0 view .LVU181
 761 0010 10BD     		pop	{r4, pc}
 762              		.loc 1 97 1 view .LVU182
 763              		.cfi_endproc
 764              	.LFE284:
 766              		.section	.text.cleanFiltGyro,"ax",%progbits
 767              		.align	1
 768              		.global	cleanFiltGyro
 769              		.syntax unified
 770              		.thumb
 771              		.thumb_func
 772              		.fpu fpv5-sp-d16
 774              	cleanFiltGyro:
 775              	.LVL88:
 776              	.LFB285:
  98:Core/drogui/sensor/imu/src/ICM20948.c **** 
  99:Core/drogui/sensor/imu/src/ICM20948.c **** 
 100:Core/drogui/sensor/imu/src/ICM20948.c **** 
 101:Core/drogui/sensor/imu/src/ICM20948.c **** void cleanFiltGyro(filtGyro *fg){
 777              		.loc 1 101 33 is_stmt 1 view -0
 778              		.cfi_startproc
 779              		@ args = 0, pretend = 0, frame = 0
 780              		@ frame_needed = 0, uses_anonymous_args = 0
 781              		.loc 1 101 33 is_stmt 0 view .LVU184
 782 0000 10B5     		push	{r4, lr}
 783              	.LCFI11:
 784              		.cfi_def_cfa_offset 8
 785              		.cfi_offset 4, -8
 786              		.cfi_offset 14, -4
 787 0002 0446     		mov	r4, r0
 102:Core/drogui/sensor/imu/src/ICM20948.c **** 	cleanFilter(&(fg->first));
 788              		.loc 1 102 2 is_stmt 1 view .LVU185
 789 0004 FFF7FEFF 		bl	cleanFilter
 790              	.LVL89:
 103:Core/drogui/sensor/imu/src/ICM20948.c **** 	cleanFilter(&(fg->second));
 791              		.loc 1 103 2 view .LVU186
 792 0008 04F11800 		add	r0, r4, #24
 793 000c FFF7FEFF 		bl	cleanFilter
 794              	.LVL90:
 104:Core/drogui/sensor/imu/src/ICM20948.c **** 	cleanDNotch(&(fg->third));
ARM GAS  C:\Users\GUILLE~1\AppData\Local\Temp\ccUunABq.s 			page 18


 795              		.loc 1 104 2 view .LVU187
 796 0010 04F14800 		add	r0, r4, #72
 797 0014 FFF7FEFF 		bl	cleanDNotch
 798              	.LVL91:
 105:Core/drogui/sensor/imu/src/ICM20948.c **** 	cleanDNotch(&(fg->fourth));
 799              		.loc 1 105 2 view .LVU188
 800 0018 04F1B000 		add	r0, r4, #176
 801 001c FFF7FEFF 		bl	cleanDNotch
 802              	.LVL92:
 106:Core/drogui/sensor/imu/src/ICM20948.c **** 	cleanFilter(&(fg->fifth));
 803              		.loc 1 106 2 view .LVU189
 804 0020 04F13000 		add	r0, r4, #48
 805 0024 FFF7FEFF 		bl	cleanFilter
 806              	.LVL93:
 107:Core/drogui/sensor/imu/src/ICM20948.c **** }
 807              		.loc 1 107 1 is_stmt 0 view .LVU190
 808 0028 10BD     		pop	{r4, pc}
 809              		.loc 1 107 1 view .LVU191
 810              		.cfi_endproc
 811              	.LFE285:
 813              		.section	.text.cleanFiltAcc,"ax",%progbits
 814              		.align	1
 815              		.global	cleanFiltAcc
 816              		.syntax unified
 817              		.thumb
 818              		.thumb_func
 819              		.fpu fpv5-sp-d16
 821              	cleanFiltAcc:
 822              	.LVL94:
 823              	.LFB286:
 108:Core/drogui/sensor/imu/src/ICM20948.c **** 
 109:Core/drogui/sensor/imu/src/ICM20948.c **** void cleanFiltAcc(filtAcc *fa){
 824              		.loc 1 109 31 is_stmt 1 view -0
 825              		.cfi_startproc
 826              		@ args = 0, pretend = 0, frame = 0
 827              		@ frame_needed = 0, uses_anonymous_args = 0
 828              		.loc 1 109 31 is_stmt 0 view .LVU193
 829 0000 10B5     		push	{r4, lr}
 830              	.LCFI12:
 831              		.cfi_def_cfa_offset 8
 832              		.cfi_offset 4, -8
 833              		.cfi_offset 14, -4
 834 0002 0446     		mov	r4, r0
 110:Core/drogui/sensor/imu/src/ICM20948.c **** 	cleanFilter(&(fa->first));
 835              		.loc 1 110 2 is_stmt 1 view .LVU194
 836 0004 FFF7FEFF 		bl	cleanFilter
 837              	.LVL95:
 111:Core/drogui/sensor/imu/src/ICM20948.c **** 	cleanDNotch(&(fa->second));
 838              		.loc 1 111 2 view .LVU195
 839 0008 04F11800 		add	r0, r4, #24
 840 000c FFF7FEFF 		bl	cleanDNotch
 841              	.LVL96:
 112:Core/drogui/sensor/imu/src/ICM20948.c **** }
 842              		.loc 1 112 1 is_stmt 0 view .LVU196
 843 0010 10BD     		pop	{r4, pc}
 844              		.loc 1 112 1 view .LVU197
 845              		.cfi_endproc
ARM GAS  C:\Users\GUILLE~1\AppData\Local\Temp\ccUunABq.s 			page 19


 846              	.LFE286:
 848              		.section	.text.readRawAcc,"ax",%progbits
 849              		.align	1
 850              		.global	readRawAcc
 851              		.syntax unified
 852              		.thumb
 853              		.thumb_func
 854              		.fpu fpv5-sp-d16
 856              	readRawAcc:
 857              	.LVL97:
 858              	.LFB287:
 113:Core/drogui/sensor/imu/src/ICM20948.c **** 
 114:Core/drogui/sensor/imu/src/ICM20948.c **** 
 115:Core/drogui/sensor/imu/src/ICM20948.c **** void readRawAcc(icm20948* m){ // m/s^2
 859              		.loc 1 115 29 is_stmt 1 view -0
 860              		.cfi_startproc
 861              		@ args = 0, pretend = 0, frame = 8
 862              		@ frame_needed = 0, uses_anonymous_args = 0
 863              		.loc 1 115 29 is_stmt 0 view .LVU199
 864 0000 10B5     		push	{r4, lr}
 865              	.LCFI13:
 866              		.cfi_def_cfa_offset 8
 867              		.cfi_offset 4, -8
 868              		.cfi_offset 14, -4
 869 0002 82B0     		sub	sp, sp, #8
 870              	.LCFI14:
 871              		.cfi_def_cfa_offset 16
 872 0004 0446     		mov	r4, r0
 116:Core/drogui/sensor/imu/src/ICM20948.c **** 	uint8_t Buf[6];
 873              		.loc 1 116 2 is_stmt 1 view .LVU200
 117:Core/drogui/sensor/imu/src/ICM20948.c **** 	I2Cread(ICM20948_ADDRESS, ICM_ACCEL_XOUT_H, 6, Buf);
 874              		.loc 1 117 2 view .LVU201
 875 0006 6B46     		mov	r3, sp
 876 0008 0622     		movs	r2, #6
 877 000a 2D21     		movs	r1, #45
 878 000c 6920     		movs	r0, #105
 879              	.LVL98:
 880              		.loc 1 117 2 is_stmt 0 view .LVU202
 881 000e FFF7FEFF 		bl	I2Cread
 882              	.LVL99:
 118:Core/drogui/sensor/imu/src/ICM20948.c **** 	int16_t _ax =   (Buf[0]<<8) | Buf[1];
 883              		.loc 1 118 2 is_stmt 1 view .LVU203
 884              		.loc 1 118 22 is_stmt 0 view .LVU204
 885 0012 9DF80030 		ldrb	r3, [sp]	@ zero_extendqisi2
 886              		.loc 1 118 25 view .LVU205
 887 0016 1B02     		lsls	r3, r3, #8
 888              		.loc 1 118 30 view .LVU206
 889 0018 1BB2     		sxth	r3, r3
 890              		.loc 1 118 35 view .LVU207
 891 001a 9DF80120 		ldrb	r2, [sp, #1]	@ zero_extendqisi2
 892              		.loc 1 118 10 view .LVU208
 893 001e 1343     		orrs	r3, r3, r2
 894 0020 07EE103A 		vmov	s14, r3	@ int
 895              	.LVL100:
 119:Core/drogui/sensor/imu/src/ICM20948.c **** 	int16_t _ay =   (Buf[2]<<8) | Buf[3];
 896              		.loc 1 119 2 is_stmt 1 view .LVU209
 897              		.loc 1 119 22 is_stmt 0 view .LVU210
ARM GAS  C:\Users\GUILLE~1\AppData\Local\Temp\ccUunABq.s 			page 20


 898 0024 9DF80230 		ldrb	r3, [sp, #2]	@ zero_extendqisi2
 899              		.loc 1 119 25 view .LVU211
 900 0028 1B02     		lsls	r3, r3, #8
 901              		.loc 1 119 30 view .LVU212
 902 002a 1BB2     		sxth	r3, r3
 903              		.loc 1 119 35 view .LVU213
 904 002c 9DF80320 		ldrb	r2, [sp, #3]	@ zero_extendqisi2
 905              		.loc 1 119 10 view .LVU214
 906 0030 1343     		orrs	r3, r3, r2
 907 0032 07EE903A 		vmov	s15, r3	@ int
 908              	.LVL101:
 120:Core/drogui/sensor/imu/src/ICM20948.c **** 	int16_t _az =   (Buf[4]<<8) | Buf[5];
 909              		.loc 1 120 2 is_stmt 1 view .LVU215
 910              		.loc 1 120 22 is_stmt 0 view .LVU216
 911 0036 9DF80430 		ldrb	r3, [sp, #4]	@ zero_extendqisi2
 912              		.loc 1 120 25 view .LVU217
 913 003a 1B02     		lsls	r3, r3, #8
 914              		.loc 1 120 30 view .LVU218
 915 003c 1BB2     		sxth	r3, r3
 916              		.loc 1 120 35 view .LVU219
 917 003e 9DF80520 		ldrb	r2, [sp, #5]	@ zero_extendqisi2
 918              		.loc 1 120 10 view .LVU220
 919 0042 1343     		orrs	r3, r3, r2
 920              	.LVL102:
 121:Core/drogui/sensor/imu/src/ICM20948.c **** 
 122:Core/drogui/sensor/imu/src/ICM20948.c **** 	m -> raw_ax = _ax;
 921              		.loc 1 122 2 is_stmt 1 view .LVU221
 922              		.loc 1 122 14 is_stmt 0 view .LVU222
 923 0044 B8EEC77A 		vcvt.f32.s32	s14, s14
 924              	.LVL103:
 925              		.loc 1 122 14 view .LVU223
 926 0048 84ED097A 		vstr.32	s14, [r4, #36]
 123:Core/drogui/sensor/imu/src/ICM20948.c **** 	m -> raw_ay = _ay;
 927              		.loc 1 123 2 is_stmt 1 view .LVU224
 928              		.loc 1 123 14 is_stmt 0 view .LVU225
 929 004c F8EEE77A 		vcvt.f32.s32	s15, s15
 930              	.LVL104:
 931              		.loc 1 123 14 view .LVU226
 932 0050 C4ED0A7A 		vstr.32	s15, [r4, #40]
 124:Core/drogui/sensor/imu/src/ICM20948.c **** 	m -> raw_az = _az;
 933              		.loc 1 124 2 is_stmt 1 view .LVU227
 934              		.loc 1 124 14 is_stmt 0 view .LVU228
 935 0054 07EE903A 		vmov	s15, r3	@ int
 936 0058 F8EEE77A 		vcvt.f32.s32	s15, s15
 937 005c C4ED0B7A 		vstr.32	s15, [r4, #44]
 125:Core/drogui/sensor/imu/src/ICM20948.c **** }
 938              		.loc 1 125 1 view .LVU229
 939 0060 02B0     		add	sp, sp, #8
 940              	.LCFI15:
 941              		.cfi_def_cfa_offset 8
 942              	.LVL105:
 943              		.loc 1 125 1 view .LVU230
 944              		@ sp needed
 945 0062 10BD     		pop	{r4, pc}
 946              		.loc 1 125 1 view .LVU231
 947              		.cfi_endproc
 948              	.LFE287:
ARM GAS  C:\Users\GUILLE~1\AppData\Local\Temp\ccUunABq.s 			page 21


 950              		.section	.text.readRawGyro,"ax",%progbits
 951              		.align	1
 952              		.global	readRawGyro
 953              		.syntax unified
 954              		.thumb
 955              		.thumb_func
 956              		.fpu fpv5-sp-d16
 958              	readRawGyro:
 959              	.LVL106:
 960              	.LFB288:
 126:Core/drogui/sensor/imu/src/ICM20948.c **** 
 127:Core/drogui/sensor/imu/src/ICM20948.c **** void readRawGyro(icm20948* m){ // degrees/sec
 961              		.loc 1 127 30 is_stmt 1 view -0
 962              		.cfi_startproc
 963              		@ args = 0, pretend = 0, frame = 8
 964              		@ frame_needed = 0, uses_anonymous_args = 0
 965              		.loc 1 127 30 is_stmt 0 view .LVU233
 966 0000 10B5     		push	{r4, lr}
 967              	.LCFI16:
 968              		.cfi_def_cfa_offset 8
 969              		.cfi_offset 4, -8
 970              		.cfi_offset 14, -4
 971 0002 82B0     		sub	sp, sp, #8
 972              	.LCFI17:
 973              		.cfi_def_cfa_offset 16
 974 0004 0446     		mov	r4, r0
 128:Core/drogui/sensor/imu/src/ICM20948.c **** 
 129:Core/drogui/sensor/imu/src/ICM20948.c **** 	uint8_t Buf[6];
 975              		.loc 1 129 2 is_stmt 1 view .LVU234
 130:Core/drogui/sensor/imu/src/ICM20948.c **** 	I2Cread(ICM20948_ADDRESS, ICM_GYRO_XOUT_H, 6, Buf);
 976              		.loc 1 130 2 view .LVU235
 977 0006 6B46     		mov	r3, sp
 978 0008 0622     		movs	r2, #6
 979 000a 3321     		movs	r1, #51
 980 000c 6920     		movs	r0, #105
 981              	.LVL107:
 982              		.loc 1 130 2 is_stmt 0 view .LVU236
 983 000e FFF7FEFF 		bl	I2Cread
 984              	.LVL108:
 131:Core/drogui/sensor/imu/src/ICM20948.c **** 	int16_t _gx =   (Buf[0] << 8) | Buf[1];
 985              		.loc 1 131 2 is_stmt 1 view .LVU237
 986              		.loc 1 131 22 is_stmt 0 view .LVU238
 987 0012 9DF80030 		ldrb	r3, [sp]	@ zero_extendqisi2
 988              		.loc 1 131 26 view .LVU239
 989 0016 1B02     		lsls	r3, r3, #8
 990              		.loc 1 131 32 view .LVU240
 991 0018 1BB2     		sxth	r3, r3
 992              		.loc 1 131 37 view .LVU241
 993 001a 9DF80120 		ldrb	r2, [sp, #1]	@ zero_extendqisi2
 994              		.loc 1 131 10 view .LVU242
 995 001e 1343     		orrs	r3, r3, r2
 996 0020 07EE103A 		vmov	s14, r3	@ int
 997              	.LVL109:
 132:Core/drogui/sensor/imu/src/ICM20948.c **** 	int16_t _gy =   (Buf[2] << 8) | Buf[3];
 998              		.loc 1 132 2 is_stmt 1 view .LVU243
 999              		.loc 1 132 22 is_stmt 0 view .LVU244
 1000 0024 9DF80230 		ldrb	r3, [sp, #2]	@ zero_extendqisi2
ARM GAS  C:\Users\GUILLE~1\AppData\Local\Temp\ccUunABq.s 			page 22


 1001              		.loc 1 132 26 view .LVU245
 1002 0028 1B02     		lsls	r3, r3, #8
 1003              		.loc 1 132 32 view .LVU246
 1004 002a 1BB2     		sxth	r3, r3
 1005              		.loc 1 132 37 view .LVU247
 1006 002c 9DF80320 		ldrb	r2, [sp, #3]	@ zero_extendqisi2
 1007              		.loc 1 132 10 view .LVU248
 1008 0030 1343     		orrs	r3, r3, r2
 1009 0032 07EE903A 		vmov	s15, r3	@ int
 1010              	.LVL110:
 133:Core/drogui/sensor/imu/src/ICM20948.c **** 	int16_t _gz =   (Buf[4] << 8) | Buf[5];
 1011              		.loc 1 133 2 is_stmt 1 view .LVU249
 1012              		.loc 1 133 22 is_stmt 0 view .LVU250
 1013 0036 9DF80430 		ldrb	r3, [sp, #4]	@ zero_extendqisi2
 1014              		.loc 1 133 26 view .LVU251
 1015 003a 1B02     		lsls	r3, r3, #8
 1016              		.loc 1 133 32 view .LVU252
 1017 003c 1BB2     		sxth	r3, r3
 1018              		.loc 1 133 37 view .LVU253
 1019 003e 9DF80520 		ldrb	r2, [sp, #5]	@ zero_extendqisi2
 1020              		.loc 1 133 10 view .LVU254
 1021 0042 1343     		orrs	r3, r3, r2
 1022              	.LVL111:
 134:Core/drogui/sensor/imu/src/ICM20948.c **** 	m -> raw_gx = _gx;
 1023              		.loc 1 134 2 is_stmt 1 view .LVU255
 1024              		.loc 1 134 14 is_stmt 0 view .LVU256
 1025 0044 B8EEC77A 		vcvt.f32.s32	s14, s14
 1026              	.LVL112:
 1027              		.loc 1 134 14 view .LVU257
 1028 0048 84ED0C7A 		vstr.32	s14, [r4, #48]
 135:Core/drogui/sensor/imu/src/ICM20948.c **** 	m -> raw_gy = _gy;
 1029              		.loc 1 135 2 is_stmt 1 view .LVU258
 1030              		.loc 1 135 14 is_stmt 0 view .LVU259
 1031 004c F8EEE77A 		vcvt.f32.s32	s15, s15
 1032              	.LVL113:
 1033              		.loc 1 135 14 view .LVU260
 1034 0050 C4ED0D7A 		vstr.32	s15, [r4, #52]
 136:Core/drogui/sensor/imu/src/ICM20948.c **** 	m -> raw_gz = _gz;
 1035              		.loc 1 136 2 is_stmt 1 view .LVU261
 1036              		.loc 1 136 14 is_stmt 0 view .LVU262
 1037 0054 07EE903A 		vmov	s15, r3	@ int
 1038 0058 F8EEE77A 		vcvt.f32.s32	s15, s15
 1039 005c C4ED0E7A 		vstr.32	s15, [r4, #56]
 137:Core/drogui/sensor/imu/src/ICM20948.c **** }
 1040              		.loc 1 137 1 view .LVU263
 1041 0060 02B0     		add	sp, sp, #8
 1042              	.LCFI18:
 1043              		.cfi_def_cfa_offset 8
 1044              	.LVL114:
 1045              		.loc 1 137 1 view .LVU264
 1046              		@ sp needed
 1047 0062 10BD     		pop	{r4, pc}
 1048              		.loc 1 137 1 view .LVU265
 1049              		.cfi_endproc
 1050              	.LFE288:
 1052              		.section	.text.readRawMag,"ax",%progbits
 1053              		.align	1
ARM GAS  C:\Users\GUILLE~1\AppData\Local\Temp\ccUunABq.s 			page 23


 1054              		.global	readRawMag
 1055              		.syntax unified
 1056              		.thumb
 1057              		.thumb_func
 1058              		.fpu fpv5-sp-d16
 1060              	readRawMag:
 1061              	.LVL115:
 1062              	.LFB289:
 138:Core/drogui/sensor/imu/src/ICM20948.c **** 
 139:Core/drogui/sensor/imu/src/ICM20948.c **** void readRawMag(icm20948* m){ // m/s^2
 1063              		.loc 1 139 29 is_stmt 1 view -0
 1064              		.cfi_startproc
 1065              		@ args = 0, pretend = 0, frame = 16
 1066              		@ frame_needed = 0, uses_anonymous_args = 0
 1067              		.loc 1 139 29 is_stmt 0 view .LVU267
 1068 0000 10B5     		push	{r4, lr}
 1069              	.LCFI19:
 1070              		.cfi_def_cfa_offset 8
 1071              		.cfi_offset 4, -8
 1072              		.cfi_offset 14, -4
 1073 0002 84B0     		sub	sp, sp, #16
 1074              	.LCFI20:
 1075              		.cfi_def_cfa_offset 24
 1076 0004 0446     		mov	r4, r0
 140:Core/drogui/sensor/imu/src/ICM20948.c **** 	uint8_t st1, st2;
 1077              		.loc 1 140 2 is_stmt 1 view .LVU268
 141:Core/drogui/sensor/imu/src/ICM20948.c **** 	I2Cread(ICM_MAG_ADDRESS, AK09916_ST1, 1, &st1);
 1078              		.loc 1 141 2 view .LVU269
 1079 0006 0DF10F03 		add	r3, sp, #15
 1080 000a 0122     		movs	r2, #1
 1081 000c 1021     		movs	r1, #16
 1082 000e 0C20     		movs	r0, #12
 1083              	.LVL116:
 1084              		.loc 1 141 2 is_stmt 0 view .LVU270
 1085 0010 FFF7FEFF 		bl	I2Cread
 1086              	.LVL117:
 142:Core/drogui/sensor/imu/src/ICM20948.c **** 	I2Cread(ICM_MAG_ADDRESS, AK09916_ST2, 1, &st2);
 1087              		.loc 1 142 2 is_stmt 1 view .LVU271
 1088 0014 0DF10E03 		add	r3, sp, #14
 1089 0018 0122     		movs	r2, #1
 1090 001a 1821     		movs	r1, #24
 1091 001c 0C20     		movs	r0, #12
 1092 001e FFF7FEFF 		bl	I2Cread
 1093              	.LVL118:
 143:Core/drogui/sensor/imu/src/ICM20948.c **** 	if(st1 & 1){
 1094              		.loc 1 143 2 view .LVU272
 1095              		.loc 1 143 9 is_stmt 0 view .LVU273
 1096 0022 9DF80F30 		ldrb	r3, [sp, #15]	@ zero_extendqisi2
 1097              		.loc 1 143 4 view .LVU274
 1098 0026 13F0010F 		tst	r3, #1
 1099 002a 01D1     		bne	.L58
 1100              	.L55:
 144:Core/drogui/sensor/imu/src/ICM20948.c **** 		uint8_t Buf[7];
 145:Core/drogui/sensor/imu/src/ICM20948.c **** 		I2Cread(ICM_MAG_ADDRESS, 0x11, 7, Buf);
 146:Core/drogui/sensor/imu/src/ICM20948.c **** 		int16_t _mx = (Buf[1]<<8) | Buf[0];
 147:Core/drogui/sensor/imu/src/ICM20948.c **** 		int16_t _my = (Buf[3]<<8) | Buf[2];
 148:Core/drogui/sensor/imu/src/ICM20948.c **** 		int16_t _mz = (Buf[5]<<8) | Buf[4];
ARM GAS  C:\Users\GUILLE~1\AppData\Local\Temp\ccUunABq.s 			page 24


 149:Core/drogui/sensor/imu/src/ICM20948.c **** 		m -> raw_mx = _mx;
 150:Core/drogui/sensor/imu/src/ICM20948.c **** 		m -> raw_my = _my;
 151:Core/drogui/sensor/imu/src/ICM20948.c **** 		m -> raw_mz = _mz;
 152:Core/drogui/sensor/imu/src/ICM20948.c **** 	}
 153:Core/drogui/sensor/imu/src/ICM20948.c **** }
 1101              		.loc 1 153 1 view .LVU275
 1102 002c 04B0     		add	sp, sp, #16
 1103              	.LCFI21:
 1104              		.cfi_remember_state
 1105              		.cfi_def_cfa_offset 8
 1106              		@ sp needed
 1107 002e 10BD     		pop	{r4, pc}
 1108              	.LVL119:
 1109              	.L58:
 1110              	.LCFI22:
 1111              		.cfi_restore_state
 1112              	.LBB2:
 144:Core/drogui/sensor/imu/src/ICM20948.c **** 		uint8_t Buf[7];
 1113              		.loc 1 144 3 is_stmt 1 view .LVU276
 145:Core/drogui/sensor/imu/src/ICM20948.c **** 		int16_t _mx = (Buf[1]<<8) | Buf[0];
 1114              		.loc 1 145 3 view .LVU277
 1115 0030 01AB     		add	r3, sp, #4
 1116 0032 0722     		movs	r2, #7
 1117 0034 1121     		movs	r1, #17
 1118 0036 0C20     		movs	r0, #12
 1119 0038 FFF7FEFF 		bl	I2Cread
 1120              	.LVL120:
 146:Core/drogui/sensor/imu/src/ICM20948.c **** 		int16_t _my = (Buf[3]<<8) | Buf[2];
 1121              		.loc 1 146 3 view .LVU278
 146:Core/drogui/sensor/imu/src/ICM20948.c **** 		int16_t _my = (Buf[3]<<8) | Buf[2];
 1122              		.loc 1 146 21 is_stmt 0 view .LVU279
 1123 003c 9DF80530 		ldrb	r3, [sp, #5]	@ zero_extendqisi2
 146:Core/drogui/sensor/imu/src/ICM20948.c **** 		int16_t _my = (Buf[3]<<8) | Buf[2];
 1124              		.loc 1 146 24 view .LVU280
 1125 0040 1B02     		lsls	r3, r3, #8
 146:Core/drogui/sensor/imu/src/ICM20948.c **** 		int16_t _my = (Buf[3]<<8) | Buf[2];
 1126              		.loc 1 146 29 view .LVU281
 1127 0042 1BB2     		sxth	r3, r3
 146:Core/drogui/sensor/imu/src/ICM20948.c **** 		int16_t _my = (Buf[3]<<8) | Buf[2];
 1128              		.loc 1 146 34 view .LVU282
 1129 0044 9DF80420 		ldrb	r2, [sp, #4]	@ zero_extendqisi2
 146:Core/drogui/sensor/imu/src/ICM20948.c **** 		int16_t _my = (Buf[3]<<8) | Buf[2];
 1130              		.loc 1 146 11 view .LVU283
 1131 0048 1343     		orrs	r3, r3, r2
 1132 004a 07EE103A 		vmov	s14, r3	@ int
 1133              	.LVL121:
 147:Core/drogui/sensor/imu/src/ICM20948.c **** 		int16_t _mz = (Buf[5]<<8) | Buf[4];
 1134              		.loc 1 147 3 is_stmt 1 view .LVU284
 147:Core/drogui/sensor/imu/src/ICM20948.c **** 		int16_t _mz = (Buf[5]<<8) | Buf[4];
 1135              		.loc 1 147 21 is_stmt 0 view .LVU285
 1136 004e 9DF80730 		ldrb	r3, [sp, #7]	@ zero_extendqisi2
 147:Core/drogui/sensor/imu/src/ICM20948.c **** 		int16_t _mz = (Buf[5]<<8) | Buf[4];
 1137              		.loc 1 147 24 view .LVU286
 1138 0052 1B02     		lsls	r3, r3, #8
 147:Core/drogui/sensor/imu/src/ICM20948.c **** 		int16_t _mz = (Buf[5]<<8) | Buf[4];
 1139              		.loc 1 147 29 view .LVU287
 1140 0054 1BB2     		sxth	r3, r3
ARM GAS  C:\Users\GUILLE~1\AppData\Local\Temp\ccUunABq.s 			page 25


 147:Core/drogui/sensor/imu/src/ICM20948.c **** 		int16_t _mz = (Buf[5]<<8) | Buf[4];
 1141              		.loc 1 147 34 view .LVU288
 1142 0056 9DF80620 		ldrb	r2, [sp, #6]	@ zero_extendqisi2
 147:Core/drogui/sensor/imu/src/ICM20948.c **** 		int16_t _mz = (Buf[5]<<8) | Buf[4];
 1143              		.loc 1 147 11 view .LVU289
 1144 005a 1343     		orrs	r3, r3, r2
 1145 005c 07EE903A 		vmov	s15, r3	@ int
 1146              	.LVL122:
 148:Core/drogui/sensor/imu/src/ICM20948.c **** 		m -> raw_mx = _mx;
 1147              		.loc 1 148 3 is_stmt 1 view .LVU290
 148:Core/drogui/sensor/imu/src/ICM20948.c **** 		m -> raw_mx = _mx;
 1148              		.loc 1 148 21 is_stmt 0 view .LVU291
 1149 0060 9DF80930 		ldrb	r3, [sp, #9]	@ zero_extendqisi2
 148:Core/drogui/sensor/imu/src/ICM20948.c **** 		m -> raw_mx = _mx;
 1150              		.loc 1 148 24 view .LVU292
 1151 0064 1B02     		lsls	r3, r3, #8
 148:Core/drogui/sensor/imu/src/ICM20948.c **** 		m -> raw_mx = _mx;
 1152              		.loc 1 148 29 view .LVU293
 1153 0066 1BB2     		sxth	r3, r3
 148:Core/drogui/sensor/imu/src/ICM20948.c **** 		m -> raw_mx = _mx;
 1154              		.loc 1 148 34 view .LVU294
 1155 0068 9DF80820 		ldrb	r2, [sp, #8]	@ zero_extendqisi2
 148:Core/drogui/sensor/imu/src/ICM20948.c **** 		m -> raw_mx = _mx;
 1156              		.loc 1 148 11 view .LVU295
 1157 006c 1343     		orrs	r3, r3, r2
 1158              	.LVL123:
 149:Core/drogui/sensor/imu/src/ICM20948.c **** 		m -> raw_my = _my;
 1159              		.loc 1 149 3 is_stmt 1 view .LVU296
 149:Core/drogui/sensor/imu/src/ICM20948.c **** 		m -> raw_my = _my;
 1160              		.loc 1 149 15 is_stmt 0 view .LVU297
 1161 006e B8EEC77A 		vcvt.f32.s32	s14, s14
 1162              	.LVL124:
 149:Core/drogui/sensor/imu/src/ICM20948.c **** 		m -> raw_my = _my;
 1163              		.loc 1 149 15 view .LVU298
 1164 0072 84ED0F7A 		vstr.32	s14, [r4, #60]
 150:Core/drogui/sensor/imu/src/ICM20948.c **** 		m -> raw_mz = _mz;
 1165              		.loc 1 150 3 is_stmt 1 view .LVU299
 150:Core/drogui/sensor/imu/src/ICM20948.c **** 		m -> raw_mz = _mz;
 1166              		.loc 1 150 15 is_stmt 0 view .LVU300
 1167 0076 F8EEE77A 		vcvt.f32.s32	s15, s15
 1168              	.LVL125:
 150:Core/drogui/sensor/imu/src/ICM20948.c **** 		m -> raw_mz = _mz;
 1169              		.loc 1 150 15 view .LVU301
 1170 007a C4ED107A 		vstr.32	s15, [r4, #64]
 151:Core/drogui/sensor/imu/src/ICM20948.c **** 	}
 1171              		.loc 1 151 3 is_stmt 1 view .LVU302
 151:Core/drogui/sensor/imu/src/ICM20948.c **** 	}
 1172              		.loc 1 151 15 is_stmt 0 view .LVU303
 1173 007e 07EE903A 		vmov	s15, r3	@ int
 1174 0082 F8EEE77A 		vcvt.f32.s32	s15, s15
 1175 0086 C4ED117A 		vstr.32	s15, [r4, #68]
 1176              	.LBE2:
 1177              		.loc 1 153 1 view .LVU304
 1178 008a CFE7     		b	.L55
 1179              		.cfi_endproc
 1180              	.LFE289:
 1182              		.section	.text.readFiltAcc,"ax",%progbits
ARM GAS  C:\Users\GUILLE~1\AppData\Local\Temp\ccUunABq.s 			page 26


 1183              		.align	1
 1184              		.global	readFiltAcc
 1185              		.syntax unified
 1186              		.thumb
 1187              		.thumb_func
 1188              		.fpu fpv5-sp-d16
 1190              	readFiltAcc:
 1191              	.LVL126:
 1192              	.LFB290:
 154:Core/drogui/sensor/imu/src/ICM20948.c **** 
 155:Core/drogui/sensor/imu/src/ICM20948.c **** void readFiltAcc(icm20948* m){ // m/s^2
 1193              		.loc 1 155 30 is_stmt 1 view -0
 1194              		.cfi_startproc
 1195              		@ args = 0, pretend = 0, frame = 0
 1196              		@ frame_needed = 0, uses_anonymous_args = 0
 1197              		.loc 1 155 30 is_stmt 0 view .LVU306
 1198 0000 10B5     		push	{r4, lr}
 1199              	.LCFI23:
 1200              		.cfi_def_cfa_offset 8
 1201              		.cfi_offset 4, -8
 1202              		.cfi_offset 14, -4
 1203 0002 0446     		mov	r4, r0
 156:Core/drogui/sensor/imu/src/ICM20948.c **** 
 157:Core/drogui/sensor/imu/src/ICM20948.c **** 	readRawAcc(m);
 1204              		.loc 1 157 2 is_stmt 1 view .LVU307
 1205 0004 FFF7FEFF 		bl	readRawAcc
 1206              	.LVL127:
 158:Core/drogui/sensor/imu/src/ICM20948.c **** 	m -> filt_ax = computeFiltAcc(&(m->fAccX), m->raw_ax);
 1207              		.loc 1 158 2 view .LVU308
 1208              		.loc 1 158 17 is_stmt 0 view .LVU309
 1209 0008 94ED090A 		vldr.32	s0, [r4, #36]
 1210 000c 04F57B70 		add	r0, r4, #1004
 1211 0010 FFF7FEFF 		bl	computeFiltAcc
 1212              	.LVL128:
 1213              		.loc 1 158 15 view .LVU310
 1214 0014 84ED120A 		vstr.32	s0, [r4, #72]
 159:Core/drogui/sensor/imu/src/ICM20948.c **** 	m -> filt_ay = computeFiltAcc(&(m->fAccY), m->raw_ay);
 1215              		.loc 1 159 2 is_stmt 1 view .LVU311
 1216              		.loc 1 159 17 is_stmt 0 view .LVU312
 1217 0018 94ED0A0A 		vldr.32	s0, [r4, #40]
 1218 001c 04F26C40 		addw	r0, r4, #1132
 1219 0020 FFF7FEFF 		bl	computeFiltAcc
 1220              	.LVL129:
 1221              		.loc 1 159 15 view .LVU313
 1222 0024 84ED130A 		vstr.32	s0, [r4, #76]
 160:Core/drogui/sensor/imu/src/ICM20948.c **** 	m -> filt_az = computeFiltAcc(&(m->fAccZ), m->raw_az);
 1223              		.loc 1 160 2 is_stmt 1 view .LVU314
 1224              		.loc 1 160 17 is_stmt 0 view .LVU315
 1225 0028 94ED0B0A 		vldr.32	s0, [r4, #44]
 1226 002c 04F2EC40 		addw	r0, r4, #1260
 1227 0030 FFF7FEFF 		bl	computeFiltAcc
 1228              	.LVL130:
 1229              		.loc 1 160 15 view .LVU316
 1230 0034 84ED140A 		vstr.32	s0, [r4, #80]
 161:Core/drogui/sensor/imu/src/ICM20948.c **** }
 1231              		.loc 1 161 1 view .LVU317
 1232 0038 10BD     		pop	{r4, pc}
ARM GAS  C:\Users\GUILLE~1\AppData\Local\Temp\ccUunABq.s 			page 27


 1233              		.loc 1 161 1 view .LVU318
 1234              		.cfi_endproc
 1235              	.LFE290:
 1237              		.section	.text.readFiltGyro,"ax",%progbits
 1238              		.align	1
 1239              		.global	readFiltGyro
 1240              		.syntax unified
 1241              		.thumb
 1242              		.thumb_func
 1243              		.fpu fpv5-sp-d16
 1245              	readFiltGyro:
 1246              	.LVL131:
 1247              	.LFB291:
 162:Core/drogui/sensor/imu/src/ICM20948.c **** 
 163:Core/drogui/sensor/imu/src/ICM20948.c **** void readFiltGyro(icm20948* m){ // degrees/sec
 1248              		.loc 1 163 31 is_stmt 1 view -0
 1249              		.cfi_startproc
 1250              		@ args = 0, pretend = 0, frame = 0
 1251              		@ frame_needed = 0, uses_anonymous_args = 0
 1252              		.loc 1 163 31 is_stmt 0 view .LVU320
 1253 0000 10B5     		push	{r4, lr}
 1254              	.LCFI24:
 1255              		.cfi_def_cfa_offset 8
 1256              		.cfi_offset 4, -8
 1257              		.cfi_offset 14, -4
 1258 0002 0446     		mov	r4, r0
 164:Core/drogui/sensor/imu/src/ICM20948.c **** 
 165:Core/drogui/sensor/imu/src/ICM20948.c **** 	readRawGyro(m);
 1259              		.loc 1 165 2 is_stmt 1 view .LVU321
 1260 0004 FFF7FEFF 		bl	readRawGyro
 1261              	.LVL132:
 166:Core/drogui/sensor/imu/src/ICM20948.c **** 	m -> filt_gx = computeFiltGyro(&(m->fGyroX), m->raw_gx);
 1262              		.loc 1 166 2 view .LVU322
 1263              		.loc 1 166 17 is_stmt 0 view .LVU323
 1264 0008 94ED0C0A 		vldr.32	s0, [r4, #48]
 1265 000c 04F1A400 		add	r0, r4, #164
 1266 0010 FFF7FEFF 		bl	computeFiltGyro
 1267              	.LVL133:
 1268              		.loc 1 166 15 view .LVU324
 1269 0014 84ED150A 		vstr.32	s0, [r4, #84]
 167:Core/drogui/sensor/imu/src/ICM20948.c **** 	m -> filt_gy = computeFiltGyro(&(m->fGyroY), m->raw_gy);
 1270              		.loc 1 167 2 is_stmt 1 view .LVU325
 1271              		.loc 1 167 17 is_stmt 0 view .LVU326
 1272 0018 94ED0D0A 		vldr.32	s0, [r4, #52]
 1273 001c 04F5DE70 		add	r0, r4, #444
 1274 0020 FFF7FEFF 		bl	computeFiltGyro
 1275              	.LVL134:
 1276              		.loc 1 167 15 view .LVU327
 1277 0024 84ED160A 		vstr.32	s0, [r4, #88]
 168:Core/drogui/sensor/imu/src/ICM20948.c **** 	m -> filt_gz = computeFiltGyro(&(m->fGyroZ), m->raw_gz);
 1278              		.loc 1 168 2 is_stmt 1 view .LVU328
 1279              		.loc 1 168 17 is_stmt 0 view .LVU329
 1280 0028 94ED0E0A 		vldr.32	s0, [r4, #56]
 1281 002c 04F53570 		add	r0, r4, #724
 1282 0030 FFF7FEFF 		bl	computeFiltGyro
 1283              	.LVL135:
 1284              		.loc 1 168 15 view .LVU330
ARM GAS  C:\Users\GUILLE~1\AppData\Local\Temp\ccUunABq.s 			page 28


 1285 0034 84ED170A 		vstr.32	s0, [r4, #92]
 169:Core/drogui/sensor/imu/src/ICM20948.c **** }
 1286              		.loc 1 169 1 view .LVU331
 1287 0038 10BD     		pop	{r4, pc}
 1288              		.loc 1 169 1 view .LVU332
 1289              		.cfi_endproc
 1290              	.LFE291:
 1292              		.section	.text.readAcc,"ax",%progbits
 1293              		.align	1
 1294              		.global	readAcc
 1295              		.syntax unified
 1296              		.thumb
 1297              		.thumb_func
 1298              		.fpu fpv5-sp-d16
 1300              	readAcc:
 1301              	.LVL136:
 1302              	.LFB292:
 170:Core/drogui/sensor/imu/src/ICM20948.c **** 
 171:Core/drogui/sensor/imu/src/ICM20948.c **** 
 172:Core/drogui/sensor/imu/src/ICM20948.c **** void readAcc(icm20948* m){ // m/s^2
 1303              		.loc 1 172 26 is_stmt 1 view -0
 1304              		.cfi_startproc
 1305              		@ args = 0, pretend = 0, frame = 0
 1306              		@ frame_needed = 0, uses_anonymous_args = 0
 1307              		.loc 1 172 26 is_stmt 0 view .LVU334
 1308 0000 10B5     		push	{r4, lr}
 1309              	.LCFI25:
 1310              		.cfi_def_cfa_offset 8
 1311              		.cfi_offset 4, -8
 1312              		.cfi_offset 14, -4
 1313 0002 0446     		mov	r4, r0
 173:Core/drogui/sensor/imu/src/ICM20948.c **** 	readFiltAcc(m);
 1314              		.loc 1 173 2 is_stmt 1 view .LVU335
 1315 0004 FFF7FEFF 		bl	readFiltAcc
 1316              	.LVL137:
 174:Core/drogui/sensor/imu/src/ICM20948.c **** 	float ax = (m->filt_ax + m->off_ax)/m->scl_acc;
 1317              		.loc 1 174 2 view .LVU336
 1318              		.loc 1 174 15 is_stmt 0 view .LVU337
 1319 0008 D4ED127A 		vldr.32	s15, [r4, #72]
 1320              		.loc 1 174 28 view .LVU338
 1321 000c 94ED187A 		vldr.32	s14, [r4, #96]
 1322              		.loc 1 174 25 view .LVU339
 1323 0010 77EE877A 		vadd.f32	s15, s15, s14
 1324              		.loc 1 174 39 view .LVU340
 1325 0014 94ED1B7A 		vldr.32	s14, [r4, #108]
 1326              		.loc 1 174 8 view .LVU341
 1327 0018 C7EE875A 		vdiv.f32	s11, s15, s14
 1328              	.LVL138:
 175:Core/drogui/sensor/imu/src/ICM20948.c **** 	float ay = (m->filt_ay + m->off_ay)/m->scl_acc;
 1329              		.loc 1 175 2 is_stmt 1 view .LVU342
 1330              		.loc 1 175 15 is_stmt 0 view .LVU343
 1331 001c D4ED136A 		vldr.32	s13, [r4, #76]
 1332              		.loc 1 175 28 view .LVU344
 1333 0020 D4ED197A 		vldr.32	s15, [r4, #100]
 1334              		.loc 1 175 25 view .LVU345
 1335 0024 76EEA76A 		vadd.f32	s13, s13, s15
 1336              		.loc 1 175 8 view .LVU346
ARM GAS  C:\Users\GUILLE~1\AppData\Local\Temp\ccUunABq.s 			page 29


 1337 0028 C6EE877A 		vdiv.f32	s15, s13, s14
 1338              	.LVL139:
 176:Core/drogui/sensor/imu/src/ICM20948.c **** 	float az = (m->filt_az + m->off_az)/m->scl_acc;
 1339              		.loc 1 176 2 is_stmt 1 view .LVU347
 1340              		.loc 1 176 15 is_stmt 0 view .LVU348
 1341 002c D4ED146A 		vldr.32	s13, [r4, #80]
 1342              		.loc 1 176 28 view .LVU349
 1343 0030 94ED1A6A 		vldr.32	s12, [r4, #104]
 1344              		.loc 1 176 25 view .LVU350
 1345 0034 76EE866A 		vadd.f32	s13, s13, s12
 1346              		.loc 1 176 8 view .LVU351
 1347 0038 86EE876A 		vdiv.f32	s12, s13, s14
 1348              	.LVL140:
 177:Core/drogui/sensor/imu/src/ICM20948.c **** 	m -> ax = -ay;
 1349              		.loc 1 177 2 is_stmt 1 view .LVU352
 1350              		.loc 1 177 12 is_stmt 0 view .LVU353
 1351 003c F1EE677A 		vneg.f32	s15, s15
 1352              	.LVL141:
 1353              		.loc 1 177 10 view .LVU354
 1354 0040 C4ED007A 		vstr.32	s15, [r4]
 178:Core/drogui/sensor/imu/src/ICM20948.c **** 	m -> ay =  ax;
 1355              		.loc 1 178 2 is_stmt 1 view .LVU355
 1356              		.loc 1 178 10 is_stmt 0 view .LVU356
 1357 0044 C4ED015A 		vstr.32	s11, [r4, #4]
 179:Core/drogui/sensor/imu/src/ICM20948.c **** 	m -> az =  az;
 1358              		.loc 1 179 2 is_stmt 1 view .LVU357
 1359              		.loc 1 179 10 is_stmt 0 view .LVU358
 1360 0048 84ED026A 		vstr.32	s12, [r4, #8]
 180:Core/drogui/sensor/imu/src/ICM20948.c **** }
 1361              		.loc 1 180 1 view .LVU359
 1362 004c 10BD     		pop	{r4, pc}
 1363              		.loc 1 180 1 view .LVU360
 1364              		.cfi_endproc
 1365              	.LFE292:
 1367              		.section	.text.readGyro,"ax",%progbits
 1368              		.align	1
 1369              		.global	readGyro
 1370              		.syntax unified
 1371              		.thumb
 1372              		.thumb_func
 1373              		.fpu fpv5-sp-d16
 1375              	readGyro:
 1376              	.LVL142:
 1377              	.LFB293:
 181:Core/drogui/sensor/imu/src/ICM20948.c **** 
 182:Core/drogui/sensor/imu/src/ICM20948.c **** 
 183:Core/drogui/sensor/imu/src/ICM20948.c **** void readGyro(icm20948* m){ // degrees/sec
 1378              		.loc 1 183 27 is_stmt 1 view -0
 1379              		.cfi_startproc
 1380              		@ args = 0, pretend = 0, frame = 0
 1381              		@ frame_needed = 0, uses_anonymous_args = 0
 1382              		.loc 1 183 27 is_stmt 0 view .LVU362
 1383 0000 10B5     		push	{r4, lr}
 1384              	.LCFI26:
 1385              		.cfi_def_cfa_offset 8
 1386              		.cfi_offset 4, -8
 1387              		.cfi_offset 14, -4
ARM GAS  C:\Users\GUILLE~1\AppData\Local\Temp\ccUunABq.s 			page 30


 1388 0002 0446     		mov	r4, r0
 184:Core/drogui/sensor/imu/src/ICM20948.c **** 	readFiltGyro(m);
 1389              		.loc 1 184 2 is_stmt 1 view .LVU363
 1390 0004 FFF7FEFF 		bl	readFiltGyro
 1391              	.LVL143:
 185:Core/drogui/sensor/imu/src/ICM20948.c **** 	float gx = m->filt_gx + m->off_gx;
 1392              		.loc 1 185 2 view .LVU364
 1393              		.loc 1 185 14 is_stmt 0 view .LVU365
 1394 0008 D4ED156A 		vldr.32	s13, [r4, #84]
 1395              		.loc 1 185 27 view .LVU366
 1396 000c D4ED1C7A 		vldr.32	s15, [r4, #112]
 1397              		.loc 1 185 8 view .LVU367
 1398 0010 76EEA76A 		vadd.f32	s13, s13, s15
 1399              	.LVL144:
 186:Core/drogui/sensor/imu/src/ICM20948.c **** 	float gy = m->filt_gy + m->off_gy;
 1400              		.loc 1 186 2 is_stmt 1 view .LVU368
 1401              		.loc 1 186 14 is_stmt 0 view .LVU369
 1402 0014 D4ED167A 		vldr.32	s15, [r4, #88]
 1403              		.loc 1 186 27 view .LVU370
 1404 0018 94ED1D7A 		vldr.32	s14, [r4, #116]
 1405              		.loc 1 186 8 view .LVU371
 1406 001c 77EE877A 		vadd.f32	s15, s15, s14
 1407              	.LVL145:
 187:Core/drogui/sensor/imu/src/ICM20948.c **** 	float gz = m->filt_gz + m->off_gz;
 1408              		.loc 1 187 2 is_stmt 1 view .LVU372
 1409              		.loc 1 187 14 is_stmt 0 view .LVU373
 1410 0020 94ED177A 		vldr.32	s14, [r4, #92]
 1411              		.loc 1 187 27 view .LVU374
 1412 0024 94ED1E6A 		vldr.32	s12, [r4, #120]
 1413              		.loc 1 187 8 view .LVU375
 1414 0028 37EE067A 		vadd.f32	s14, s14, s12
 1415              	.LVL146:
 188:Core/drogui/sensor/imu/src/ICM20948.c **** 	m -> gx = -gy;
 1416              		.loc 1 188 2 is_stmt 1 view .LVU376
 1417              		.loc 1 188 12 is_stmt 0 view .LVU377
 1418 002c F1EE677A 		vneg.f32	s15, s15
 1419              	.LVL147:
 1420              		.loc 1 188 10 view .LVU378
 1421 0030 C4ED037A 		vstr.32	s15, [r4, #12]
 189:Core/drogui/sensor/imu/src/ICM20948.c **** 	m -> gy =  gx;
 1422              		.loc 1 189 2 is_stmt 1 view .LVU379
 1423              		.loc 1 189 10 is_stmt 0 view .LVU380
 1424 0034 C4ED046A 		vstr.32	s13, [r4, #16]
 190:Core/drogui/sensor/imu/src/ICM20948.c **** 	m -> gz =  gz;
 1425              		.loc 1 190 2 is_stmt 1 view .LVU381
 1426              		.loc 1 190 10 is_stmt 0 view .LVU382
 1427 0038 84ED057A 		vstr.32	s14, [r4, #20]
 191:Core/drogui/sensor/imu/src/ICM20948.c **** }
 1428              		.loc 1 191 1 view .LVU383
 1429 003c 10BD     		pop	{r4, pc}
 1430              		.loc 1 191 1 view .LVU384
 1431              		.cfi_endproc
 1432              	.LFE293:
 1434              		.section	.text.readMag,"ax",%progbits
 1435              		.align	1
 1436              		.global	readMag
 1437              		.syntax unified
ARM GAS  C:\Users\GUILLE~1\AppData\Local\Temp\ccUunABq.s 			page 31


 1438              		.thumb
 1439              		.thumb_func
 1440              		.fpu fpv5-sp-d16
 1442              	readMag:
 1443              	.LVL148:
 1444              	.LFB294:
 192:Core/drogui/sensor/imu/src/ICM20948.c **** 
 193:Core/drogui/sensor/imu/src/ICM20948.c **** void readMag(icm20948* m){ // m/s^2
 1445              		.loc 1 193 26 is_stmt 1 view -0
 1446              		.cfi_startproc
 1447              		@ args = 0, pretend = 0, frame = 0
 1448              		@ frame_needed = 0, uses_anonymous_args = 0
 1449              		.loc 1 193 26 is_stmt 0 view .LVU386
 1450 0000 10B5     		push	{r4, lr}
 1451              	.LCFI27:
 1452              		.cfi_def_cfa_offset 8
 1453              		.cfi_offset 4, -8
 1454              		.cfi_offset 14, -4
 1455 0002 0446     		mov	r4, r0
 194:Core/drogui/sensor/imu/src/ICM20948.c **** 	readRawMag(m);
 1456              		.loc 1 194 2 is_stmt 1 view .LVU387
 1457 0004 FFF7FEFF 		bl	readRawMag
 1458              	.LVL149:
 195:Core/drogui/sensor/imu/src/ICM20948.c **** 	//-226.43	-112.81	131.13	119.36	127.29  129.95
 196:Core/drogui/sensor/imu/src/ICM20948.c **** 	float mx = (m->raw_mx - m->off_mx)/m->scl_magx;
 1459              		.loc 1 196 2 view .LVU388
 1460              		.loc 1 196 15 is_stmt 0 view .LVU389
 1461 0008 D4ED0F7A 		vldr.32	s15, [r4, #60]
 1462              		.loc 1 196 27 view .LVU390
 1463 000c 94ED1F7A 		vldr.32	s14, [r4, #124]
 1464              		.loc 1 196 24 view .LVU391
 1465 0010 77EEC77A 		vsub.f32	s15, s15, s14
 1466              		.loc 1 196 38 view .LVU392
 1467 0014 94ED227A 		vldr.32	s14, [r4, #136]
 1468              		.loc 1 196 8 view .LVU393
 1469 0018 C7EE876A 		vdiv.f32	s13, s15, s14
 1470              	.LVL150:
 197:Core/drogui/sensor/imu/src/ICM20948.c **** 	float my = (m->raw_my - m->off_my)/m->scl_magy;
 1471              		.loc 1 197 2 is_stmt 1 view .LVU394
 1472              		.loc 1 197 15 is_stmt 0 view .LVU395
 1473 001c D4ED107A 		vldr.32	s15, [r4, #64]
 1474              		.loc 1 197 27 view .LVU396
 1475 0020 94ED207A 		vldr.32	s14, [r4, #128]
 1476              		.loc 1 197 24 view .LVU397
 1477 0024 77EEC77A 		vsub.f32	s15, s15, s14
 1478              		.loc 1 197 38 view .LVU398
 1479 0028 94ED237A 		vldr.32	s14, [r4, #140]
 1480              		.loc 1 197 8 view .LVU399
 1481 002c 87EE876A 		vdiv.f32	s12, s15, s14
 1482              	.LVL151:
 198:Core/drogui/sensor/imu/src/ICM20948.c **** 	float mz = (m->raw_mz - m->off_mz)/m->scl_magz;
 1483              		.loc 1 198 2 is_stmt 1 view .LVU400
 1484              		.loc 1 198 15 is_stmt 0 view .LVU401
 1485 0030 94ED117A 		vldr.32	s14, [r4, #68]
 1486              		.loc 1 198 27 view .LVU402
 1487 0034 D4ED217A 		vldr.32	s15, [r4, #132]
 1488              		.loc 1 198 24 view .LVU403
ARM GAS  C:\Users\GUILLE~1\AppData\Local\Temp\ccUunABq.s 			page 32


 1489 0038 37EE677A 		vsub.f32	s14, s14, s15
 1490              		.loc 1 198 38 view .LVU404
 1491 003c D4ED245A 		vldr.32	s11, [r4, #144]
 1492              		.loc 1 198 8 view .LVU405
 1493 0040 C7EE257A 		vdiv.f32	s15, s14, s11
 1494              	.LVL152:
 199:Core/drogui/sensor/imu/src/ICM20948.c **** 	m -> mx =  my;
 1495              		.loc 1 199 2 is_stmt 1 view .LVU406
 1496              		.loc 1 199 10 is_stmt 0 view .LVU407
 1497 0044 84ED066A 		vstr.32	s12, [r4, #24]
 200:Core/drogui/sensor/imu/src/ICM20948.c **** 	m -> my =  mx;
 1498              		.loc 1 200 2 is_stmt 1 view .LVU408
 1499              		.loc 1 200 10 is_stmt 0 view .LVU409
 1500 0048 C4ED076A 		vstr.32	s13, [r4, #28]
 201:Core/drogui/sensor/imu/src/ICM20948.c **** 	m -> mz = -mz;
 1501              		.loc 1 201 2 is_stmt 1 view .LVU410
 1502              		.loc 1 201 12 is_stmt 0 view .LVU411
 1503 004c F1EE677A 		vneg.f32	s15, s15
 1504              	.LVL153:
 1505              		.loc 1 201 10 view .LVU412
 1506 0050 C4ED087A 		vstr.32	s15, [r4, #32]
 202:Core/drogui/sensor/imu/src/ICM20948.c **** }
 1507              		.loc 1 202 1 view .LVU413
 1508 0054 10BD     		pop	{r4, pc}
 1509              		.loc 1 202 1 view .LVU414
 1510              		.cfi_endproc
 1511              	.LFE294:
 1513              		.global	__aeabi_f2d
 1514              		.global	__aeabi_d2f
 1515              		.section	.rodata.icmQuiet.str1.4,"aMS",%progbits,1
 1516              		.align	2
 1517              	.LC0:
 1518 0000 25660925 		.ascii	"%f\011%f\011%f\012\000"
 1518      66092566 
 1518      0A00
 1519              		.global	__aeabi_dadd
 1520              		.global	__aeabi_dcmplt
 1521              		.global	__aeabi_i2d
 1522              		.global	__aeabi_ddiv
 1523              		.section	.text.icmQuiet,"ax",%progbits
 1524              		.align	1
 1525              		.global	icmQuiet
 1526              		.syntax unified
 1527              		.thumb
 1528              		.thumb_func
 1529              		.fpu fpv5-sp-d16
 1531              	icmQuiet:
 1532              	.LVL154:
 1533              	.LFB295:
 203:Core/drogui/sensor/imu/src/ICM20948.c **** 
 204:Core/drogui/sensor/imu/src/ICM20948.c **** // 120 260 380
 205:Core/drogui/sensor/imu/src/ICM20948.c **** 
 206:Core/drogui/sensor/imu/src/ICM20948.c **** bool icmQuiet(icm20948* m, int n, float treshold, bool cal){
 1534              		.loc 1 206 60 is_stmt 1 view -0
 1535              		.cfi_startproc
 1536              		@ args = 0, pretend = 0, frame = 40
 1537              		@ frame_needed = 0, uses_anonymous_args = 0
ARM GAS  C:\Users\GUILLE~1\AppData\Local\Temp\ccUunABq.s 			page 33


 1538              		.loc 1 206 60 is_stmt 0 view .LVU416
 1539 0000 2DE9F04F 		push	{r4, r5, r6, r7, r8, r9, r10, fp, lr}
 1540              	.LCFI28:
 1541              		.cfi_def_cfa_offset 36
 1542              		.cfi_offset 4, -36
 1543              		.cfi_offset 5, -32
 1544              		.cfi_offset 6, -28
 1545              		.cfi_offset 7, -24
 1546              		.cfi_offset 8, -20
 1547              		.cfi_offset 9, -16
 1548              		.cfi_offset 10, -12
 1549              		.cfi_offset 11, -8
 1550              		.cfi_offset 14, -4
 1551 0004 2DED068B 		vpush.64	{d8, d9, d10}
 1552              	.LCFI29:
 1553              		.cfi_def_cfa_offset 60
 1554              		.cfi_offset 80, -60
 1555              		.cfi_offset 81, -56
 1556              		.cfi_offset 82, -52
 1557              		.cfi_offset 83, -48
 1558              		.cfi_offset 84, -44
 1559              		.cfi_offset 85, -40
 1560 0008 8FB0     		sub	sp, sp, #60
 1561              	.LCFI30:
 1562              		.cfi_def_cfa_offset 120
 1563 000a 0446     		mov	r4, r0
 1564 000c 8A46     		mov	r10, r1
 1565 000e 10EE108A 		vmov	r8, s0
 1566 0012 9346     		mov	fp, r2
 207:Core/drogui/sensor/imu/src/ICM20948.c **** 
 208:Core/drogui/sensor/imu/src/ICM20948.c **** 	float max_gyro[3] = {0,0,0};
 1567              		.loc 1 208 2 is_stmt 1 view .LVU417
 1568              		.loc 1 208 8 is_stmt 0 view .LVU418
 1569 0014 0023     		movs	r3, #0
 1570 0016 0B93     		str	r3, [sp, #44]	@ float
 1571 0018 0C93     		str	r3, [sp, #48]	@ float
 1572 001a 0D93     		str	r3, [sp, #52]	@ float
 209:Core/drogui/sensor/imu/src/ICM20948.c **** 	float min_gyro[3] = {0,0,0};
 1573              		.loc 1 209 2 is_stmt 1 view .LVU419
 1574              		.loc 1 209 8 is_stmt 0 view .LVU420
 1575 001c 0893     		str	r3, [sp, #32]	@ float
 1576 001e 0993     		str	r3, [sp, #36]	@ float
 1577 0020 0A93     		str	r3, [sp, #40]	@ float
 210:Core/drogui/sensor/imu/src/ICM20948.c **** 	float acum_gyro[3] = {0,0,0};
 1578              		.loc 1 210 2 is_stmt 1 view .LVU421
 1579              		.loc 1 210 8 is_stmt 0 view .LVU422
 1580 0022 0593     		str	r3, [sp, #20]	@ float
 1581 0024 0693     		str	r3, [sp, #24]	@ float
 1582 0026 0793     		str	r3, [sp, #28]	@ float
 211:Core/drogui/sensor/imu/src/ICM20948.c **** 
 212:Core/drogui/sensor/imu/src/ICM20948.c **** 	//HAL_UART_Transmit(&huart2, (uint8_t*) "Quiet\n", 8, 100);
 213:Core/drogui/sensor/imu/src/ICM20948.c **** 
 214:Core/drogui/sensor/imu/src/ICM20948.c **** 	for(int i = 0; i < n; i++){
 1583              		.loc 1 214 2 is_stmt 1 view .LVU423
 1584              	.LBB3:
 1585              		.loc 1 214 6 view .LVU424
 1586              	.LVL155:
ARM GAS  C:\Users\GUILLE~1\AppData\Local\Temp\ccUunABq.s 			page 34


 1587              		.loc 1 214 10 is_stmt 0 view .LVU425
 1588 0028 0025     		movs	r5, #0
 1589              		.loc 1 214 2 view .LVU426
 1590 002a 24E0     		b	.L70
 1591              	.LVL156:
 1592              	.L90:
 215:Core/drogui/sensor/imu/src/ICM20948.c **** 
 216:Core/drogui/sensor/imu/src/ICM20948.c **** 		readFiltGyro(m);
 217:Core/drogui/sensor/imu/src/ICM20948.c **** 
 218:Core/drogui/sensor/imu/src/ICM20948.c **** 		if(i == 0){
 219:Core/drogui/sensor/imu/src/ICM20948.c **** 			max_gyro[0] = m->filt_gx, max_gyro[1] = m->filt_gy, max_gyro[2] = m->filt_gz;
 1593              		.loc 1 219 4 is_stmt 1 view .LVU427
 1594              		.loc 1 219 19 is_stmt 0 view .LVU428
 1595 002c 616D     		ldr	r1, [r4, #84]	@ float
 1596              		.loc 1 219 16 view .LVU429
 1597 002e 0B91     		str	r1, [sp, #44]	@ float
 1598              		.loc 1 219 45 view .LVU430
 1599 0030 A26D     		ldr	r2, [r4, #88]	@ float
 1600              		.loc 1 219 42 view .LVU431
 1601 0032 0C92     		str	r2, [sp, #48]	@ float
 1602              		.loc 1 219 71 view .LVU432
 1603 0034 E36D     		ldr	r3, [r4, #92]	@ float
 1604              		.loc 1 219 68 view .LVU433
 1605 0036 0D93     		str	r3, [sp, #52]	@ float
 220:Core/drogui/sensor/imu/src/ICM20948.c **** 			min_gyro[0] = m->filt_gx, min_gyro[1] = m->filt_gy, min_gyro[2] = m->filt_gz;
 1606              		.loc 1 220 4 is_stmt 1 view .LVU434
 1607              		.loc 1 220 16 is_stmt 0 view .LVU435
 1608 0038 0891     		str	r1, [sp, #32]	@ float
 1609              		.loc 1 220 42 view .LVU436
 1610 003a 0992     		str	r2, [sp, #36]	@ float
 1611              		.loc 1 220 68 view .LVU437
 1612 003c 0A93     		str	r3, [sp, #40]	@ float
 1613              	.L72:
 221:Core/drogui/sensor/imu/src/ICM20948.c **** 		}
 222:Core/drogui/sensor/imu/src/ICM20948.c **** 		else{
 223:Core/drogui/sensor/imu/src/ICM20948.c **** 			max_gyro[0] = fmax(max_gyro[0], m->filt_gx);
 224:Core/drogui/sensor/imu/src/ICM20948.c **** 			max_gyro[1] = fmax(max_gyro[1], m->filt_gy);
 225:Core/drogui/sensor/imu/src/ICM20948.c **** 			max_gyro[2] = fmax(max_gyro[2], m->filt_gz);
 226:Core/drogui/sensor/imu/src/ICM20948.c **** 
 227:Core/drogui/sensor/imu/src/ICM20948.c **** 			min_gyro[0] = fmin(min_gyro[0], m->filt_gx);
 228:Core/drogui/sensor/imu/src/ICM20948.c **** 			min_gyro[1] = fmin(min_gyro[1], m->filt_gy);
 229:Core/drogui/sensor/imu/src/ICM20948.c **** 			min_gyro[2] = fmin(min_gyro[2], m->filt_gz);
 230:Core/drogui/sensor/imu/src/ICM20948.c **** 		}
 231:Core/drogui/sensor/imu/src/ICM20948.c **** 
 232:Core/drogui/sensor/imu/src/ICM20948.c **** 		acum_gyro[0] += m ->filt_gx;
 1614              		.loc 1 232 3 is_stmt 1 discriminator 2 view .LVU438
 1615              		.loc 1 232 21 is_stmt 0 discriminator 2 view .LVU439
 1616 003e 94ED157A 		vldr.32	s14, [r4, #84]
 1617              		.loc 1 232 16 discriminator 2 view .LVU440
 1618 0042 DDED057A 		vldr.32	s15, [sp, #20]
 1619 0046 77EE877A 		vadd.f32	s15, s15, s14
 1620 004a CDED057A 		vstr.32	s15, [sp, #20]
 233:Core/drogui/sensor/imu/src/ICM20948.c **** 		acum_gyro[1] += m ->filt_gy;
 1621              		.loc 1 233 3 is_stmt 1 discriminator 2 view .LVU441
 1622              		.loc 1 233 21 is_stmt 0 discriminator 2 view .LVU442
 1623 004e 94ED167A 		vldr.32	s14, [r4, #88]
 1624              		.loc 1 233 16 discriminator 2 view .LVU443
ARM GAS  C:\Users\GUILLE~1\AppData\Local\Temp\ccUunABq.s 			page 35


 1625 0052 DDED067A 		vldr.32	s15, [sp, #24]
 1626 0056 77EE877A 		vadd.f32	s15, s15, s14
 1627 005a CDED067A 		vstr.32	s15, [sp, #24]
 234:Core/drogui/sensor/imu/src/ICM20948.c **** 		acum_gyro[2] += m ->filt_gz;
 1628              		.loc 1 234 3 is_stmt 1 discriminator 2 view .LVU444
 1629              		.loc 1 234 21 is_stmt 0 discriminator 2 view .LVU445
 1630 005e 94ED177A 		vldr.32	s14, [r4, #92]
 1631              		.loc 1 234 16 discriminator 2 view .LVU446
 1632 0062 DDED077A 		vldr.32	s15, [sp, #28]
 1633 0066 77EE877A 		vadd.f32	s15, s15, s14
 1634 006a CDED077A 		vstr.32	s15, [sp, #28]
 235:Core/drogui/sensor/imu/src/ICM20948.c **** 
 236:Core/drogui/sensor/imu/src/ICM20948.c **** 
 237:Core/drogui/sensor/imu/src/ICM20948.c **** 		HAL_Delay(1);
 1635              		.loc 1 237 3 is_stmt 1 discriminator 2 view .LVU447
 1636 006e 0120     		movs	r0, #1
 1637 0070 FFF7FEFF 		bl	HAL_Delay
 1638              	.LVL157:
 214:Core/drogui/sensor/imu/src/ICM20948.c **** 
 1639              		.loc 1 214 24 discriminator 2 view .LVU448
 214:Core/drogui/sensor/imu/src/ICM20948.c **** 
 1640              		.loc 1 214 25 is_stmt 0 discriminator 2 view .LVU449
 1641 0074 0135     		adds	r5, r5, #1
 1642              	.LVL158:
 1643              	.L70:
 214:Core/drogui/sensor/imu/src/ICM20948.c **** 
 1644              		.loc 1 214 17 is_stmt 1 discriminator 1 view .LVU450
 214:Core/drogui/sensor/imu/src/ICM20948.c **** 
 1645              		.loc 1 214 2 is_stmt 0 discriminator 1 view .LVU451
 1646 0076 5545     		cmp	r5, r10
 1647 0078 74DA     		bge	.L89
 216:Core/drogui/sensor/imu/src/ICM20948.c **** 
 1648              		.loc 1 216 3 is_stmt 1 view .LVU452
 1649 007a 2046     		mov	r0, r4
 1650 007c FFF7FEFF 		bl	readFiltGyro
 1651              	.LVL159:
 218:Core/drogui/sensor/imu/src/ICM20948.c **** 			max_gyro[0] = m->filt_gx, max_gyro[1] = m->filt_gy, max_gyro[2] = m->filt_gz;
 1652              		.loc 1 218 3 view .LVU453
 218:Core/drogui/sensor/imu/src/ICM20948.c **** 			max_gyro[0] = m->filt_gx, max_gyro[1] = m->filt_gy, max_gyro[2] = m->filt_gz;
 1653              		.loc 1 218 5 is_stmt 0 view .LVU454
 1654 0080 002D     		cmp	r5, #0
 1655 0082 D3D0     		beq	.L90
 223:Core/drogui/sensor/imu/src/ICM20948.c **** 			max_gyro[1] = fmax(max_gyro[1], m->filt_gy);
 1656              		.loc 1 223 4 is_stmt 1 view .LVU455
 223:Core/drogui/sensor/imu/src/ICM20948.c **** 			max_gyro[1] = fmax(max_gyro[1], m->filt_gy);
 1657              		.loc 1 223 18 is_stmt 0 view .LVU456
 1658 0084 606D     		ldr	r0, [r4, #84]	@ float
 1659 0086 FFF7FEFF 		bl	__aeabi_f2d
 1660              	.LVL160:
 1661 008a 41EC1A0B 		vmov	d10, r0, r1
 1662 008e 0B98     		ldr	r0, [sp, #44]	@ float
 1663 0090 FFF7FEFF 		bl	__aeabi_f2d
 1664              	.LVL161:
 1665 0094 B0EE4A1A 		vmov.f32	s2, s20
 1666 0098 F0EE6A1A 		vmov.f32	s3, s21
 1667 009c 41EC100B 		vmov	d0, r0, r1
 1668 00a0 FFF7FEFF 		bl	fmax
ARM GAS  C:\Users\GUILLE~1\AppData\Local\Temp\ccUunABq.s 			page 36


 1669              	.LVL162:
 1670 00a4 51EC100B 		vmov	r0, r1, d0
 1671 00a8 FFF7FEFF 		bl	__aeabi_d2f
 1672              	.LVL163:
 223:Core/drogui/sensor/imu/src/ICM20948.c **** 			max_gyro[1] = fmax(max_gyro[1], m->filt_gy);
 1673              		.loc 1 223 16 view .LVU457
 1674 00ac 0B90     		str	r0, [sp, #44]	@ float
 224:Core/drogui/sensor/imu/src/ICM20948.c **** 			max_gyro[2] = fmax(max_gyro[2], m->filt_gz);
 1675              		.loc 1 224 4 is_stmt 1 view .LVU458
 224:Core/drogui/sensor/imu/src/ICM20948.c **** 			max_gyro[2] = fmax(max_gyro[2], m->filt_gz);
 1676              		.loc 1 224 18 is_stmt 0 view .LVU459
 1677 00ae A06D     		ldr	r0, [r4, #88]	@ float
 1678 00b0 FFF7FEFF 		bl	__aeabi_f2d
 1679              	.LVL164:
 1680 00b4 41EC190B 		vmov	d9, r0, r1
 1681 00b8 0C98     		ldr	r0, [sp, #48]	@ float
 1682 00ba FFF7FEFF 		bl	__aeabi_f2d
 1683              	.LVL165:
 1684 00be B0EE491A 		vmov.f32	s2, s18
 1685 00c2 F0EE691A 		vmov.f32	s3, s19
 1686 00c6 41EC100B 		vmov	d0, r0, r1
 1687 00ca FFF7FEFF 		bl	fmax
 1688              	.LVL166:
 1689 00ce 51EC100B 		vmov	r0, r1, d0
 1690 00d2 FFF7FEFF 		bl	__aeabi_d2f
 1691              	.LVL167:
 224:Core/drogui/sensor/imu/src/ICM20948.c **** 			max_gyro[2] = fmax(max_gyro[2], m->filt_gz);
 1692              		.loc 1 224 16 view .LVU460
 1693 00d6 0C90     		str	r0, [sp, #48]	@ float
 225:Core/drogui/sensor/imu/src/ICM20948.c **** 
 1694              		.loc 1 225 4 is_stmt 1 view .LVU461
 225:Core/drogui/sensor/imu/src/ICM20948.c **** 
 1695              		.loc 1 225 18 is_stmt 0 view .LVU462
 1696 00d8 E06D     		ldr	r0, [r4, #92]	@ float
 1697 00da FFF7FEFF 		bl	__aeabi_f2d
 1698              	.LVL168:
 1699 00de 41EC180B 		vmov	d8, r0, r1
 1700 00e2 0D98     		ldr	r0, [sp, #52]	@ float
 1701 00e4 FFF7FEFF 		bl	__aeabi_f2d
 1702              	.LVL169:
 1703 00e8 B0EE481A 		vmov.f32	s2, s16
 1704 00ec F0EE681A 		vmov.f32	s3, s17
 1705 00f0 41EC100B 		vmov	d0, r0, r1
 1706 00f4 FFF7FEFF 		bl	fmax
 1707              	.LVL170:
 1708 00f8 51EC100B 		vmov	r0, r1, d0
 1709 00fc FFF7FEFF 		bl	__aeabi_d2f
 1710              	.LVL171:
 225:Core/drogui/sensor/imu/src/ICM20948.c **** 
 1711              		.loc 1 225 16 view .LVU463
 1712 0100 0D90     		str	r0, [sp, #52]	@ float
 227:Core/drogui/sensor/imu/src/ICM20948.c **** 			min_gyro[1] = fmin(min_gyro[1], m->filt_gy);
 1713              		.loc 1 227 4 is_stmt 1 view .LVU464
 227:Core/drogui/sensor/imu/src/ICM20948.c **** 			min_gyro[1] = fmin(min_gyro[1], m->filt_gy);
 1714              		.loc 1 227 18 is_stmt 0 view .LVU465
 1715 0102 0898     		ldr	r0, [sp, #32]	@ float
 1716 0104 FFF7FEFF 		bl	__aeabi_f2d
ARM GAS  C:\Users\GUILLE~1\AppData\Local\Temp\ccUunABq.s 			page 37


 1717              	.LVL172:
 1718 0108 B0EE4A1A 		vmov.f32	s2, s20
 1719 010c F0EE6A1A 		vmov.f32	s3, s21
 1720 0110 41EC100B 		vmov	d0, r0, r1
 1721 0114 FFF7FEFF 		bl	fmin
 1722              	.LVL173:
 1723 0118 51EC100B 		vmov	r0, r1, d0
 1724 011c FFF7FEFF 		bl	__aeabi_d2f
 1725              	.LVL174:
 227:Core/drogui/sensor/imu/src/ICM20948.c **** 			min_gyro[1] = fmin(min_gyro[1], m->filt_gy);
 1726              		.loc 1 227 16 view .LVU466
 1727 0120 0890     		str	r0, [sp, #32]	@ float
 228:Core/drogui/sensor/imu/src/ICM20948.c **** 			min_gyro[2] = fmin(min_gyro[2], m->filt_gz);
 1728              		.loc 1 228 4 is_stmt 1 view .LVU467
 228:Core/drogui/sensor/imu/src/ICM20948.c **** 			min_gyro[2] = fmin(min_gyro[2], m->filt_gz);
 1729              		.loc 1 228 18 is_stmt 0 view .LVU468
 1730 0122 0998     		ldr	r0, [sp, #36]	@ float
 1731 0124 FFF7FEFF 		bl	__aeabi_f2d
 1732              	.LVL175:
 1733 0128 B0EE491A 		vmov.f32	s2, s18
 1734 012c F0EE691A 		vmov.f32	s3, s19
 1735 0130 41EC100B 		vmov	d0, r0, r1
 1736 0134 FFF7FEFF 		bl	fmin
 1737              	.LVL176:
 1738 0138 51EC100B 		vmov	r0, r1, d0
 1739 013c FFF7FEFF 		bl	__aeabi_d2f
 1740              	.LVL177:
 228:Core/drogui/sensor/imu/src/ICM20948.c **** 			min_gyro[2] = fmin(min_gyro[2], m->filt_gz);
 1741              		.loc 1 228 16 view .LVU469
 1742 0140 0990     		str	r0, [sp, #36]	@ float
 229:Core/drogui/sensor/imu/src/ICM20948.c **** 		}
 1743              		.loc 1 229 4 is_stmt 1 view .LVU470
 229:Core/drogui/sensor/imu/src/ICM20948.c **** 		}
 1744              		.loc 1 229 18 is_stmt 0 view .LVU471
 1745 0142 0A98     		ldr	r0, [sp, #40]	@ float
 1746 0144 FFF7FEFF 		bl	__aeabi_f2d
 1747              	.LVL178:
 1748 0148 B0EE481A 		vmov.f32	s2, s16
 1749 014c F0EE681A 		vmov.f32	s3, s17
 1750 0150 41EC100B 		vmov	d0, r0, r1
 1751 0154 FFF7FEFF 		bl	fmin
 1752              	.LVL179:
 1753 0158 51EC100B 		vmov	r0, r1, d0
 1754 015c FFF7FEFF 		bl	__aeabi_d2f
 1755              	.LVL180:
 229:Core/drogui/sensor/imu/src/ICM20948.c **** 		}
 1756              		.loc 1 229 16 view .LVU472
 1757 0160 0A90     		str	r0, [sp, #40]	@ float
 1758 0162 6CE7     		b	.L72
 1759              	.L89:
 229:Core/drogui/sensor/imu/src/ICM20948.c **** 		}
 1760              		.loc 1 229 16 view .LVU473
 1761              	.LBE3:
 238:Core/drogui/sensor/imu/src/ICM20948.c **** 	}
 239:Core/drogui/sensor/imu/src/ICM20948.c **** 
 240:Core/drogui/sensor/imu/src/ICM20948.c **** 	serialPrintf(SER_DBG, "%f\t%f\t%f\n", max_gyro[0]-min_gyro[0], max_gyro[1]-min_gyro[1], max_gyro[2
 1762              		.loc 1 240 2 is_stmt 1 view .LVU474
ARM GAS  C:\Users\GUILLE~1\AppData\Local\Temp\ccUunABq.s 			page 38


 1763 0164 9DED0B7A 		vldr.32	s14, [sp, #44]
 1764 0168 DDED087A 		vldr.32	s15, [sp, #32]
 1765 016c 77EE677A 		vsub.f32	s15, s14, s15
 1766 0170 17EE900A 		vmov	r0, s15
 1767 0174 FFF7FEFF 		bl	__aeabi_f2d
 1768              	.LVL181:
 1769 0178 0646     		mov	r6, r0
 1770 017a 0F46     		mov	r7, r1
 1771 017c 9DED0C7A 		vldr.32	s14, [sp, #48]
 1772 0180 DDED097A 		vldr.32	s15, [sp, #36]
 1773 0184 77EE677A 		vsub.f32	s15, s14, s15
 1774 0188 17EE900A 		vmov	r0, s15
 1775 018c FFF7FEFF 		bl	__aeabi_f2d
 1776              	.LVL182:
 1777 0190 41EC180B 		vmov	d8, r0, r1
 1778 0194 9DED0D7A 		vldr.32	s14, [sp, #52]
 1779 0198 DDED0A7A 		vldr.32	s15, [sp, #40]
 1780 019c 77EE677A 		vsub.f32	s15, s14, s15
 1781 01a0 17EE900A 		vmov	r0, s15
 1782 01a4 FFF7FEFF 		bl	__aeabi_f2d
 1783              	.LVL183:
 1784 01a8 41EC190B 		vmov	d9, r0, r1
 1785 01ac CDE90201 		strd	r0, [sp, #8]
 1786 01b0 8DED008B 		vstr.64	d8, [sp]
 1787 01b4 3246     		mov	r2, r6
 1788 01b6 3B46     		mov	r3, r7
 1789 01b8 2F49     		ldr	r1, .L92
 1790 01ba 3048     		ldr	r0, .L92+4
 1791 01bc FFF7FEFF 		bl	serialPrintf
 1792              	.LVL184:
 241:Core/drogui/sensor/imu/src/ICM20948.c **** 
 242:Core/drogui/sensor/imu/src/ICM20948.c **** 	if( ( max_gyro[0]-min_gyro[0] < (treshold + 2.0 /*1.8*/) ) &&\
 1793              		.loc 1 242 2 view .LVU475
 1794              		.loc 1 242 44 is_stmt 0 view .LVU476
 1795 01c0 4046     		mov	r0, r8	@ float
 1796 01c2 FFF7FEFF 		bl	__aeabi_f2d
 1797              	.LVL185:
 1798 01c6 0022     		movs	r2, #0
 1799 01c8 4FF08043 		mov	r3, #1073741824
 1800 01cc FFF7FEFF 		bl	__aeabi_dadd
 1801              	.LVL186:
 1802 01d0 8046     		mov	r8, r0
 1803              	.LVL187:
 1804              		.loc 1 242 44 view .LVU477
 1805 01d2 8946     		mov	r9, r1
 1806              		.loc 1 242 4 view .LVU478
 1807 01d4 0246     		mov	r2, r0
 1808 01d6 0B46     		mov	r3, r1
 1809 01d8 3046     		mov	r0, r6
 1810 01da 3946     		mov	r1, r7
 1811 01dc FFF7FEFF 		bl	__aeabi_dcmplt
 1812              	.LVL188:
 1813 01e0 0028     		cmp	r0, #0
 1814 01e2 41D0     		beq	.L85
 1815              		.loc 1 242 61 discriminator 1 view .LVU479
 1816 01e4 4246     		mov	r2, r8
 1817 01e6 4B46     		mov	r3, r9
ARM GAS  C:\Users\GUILLE~1\AppData\Local\Temp\ccUunABq.s 			page 39


 1818 01e8 51EC180B 		vmov	r0, r1, d8
 1819 01ec FFF7FEFF 		bl	__aeabi_dcmplt
 1820              	.LVL189:
 1821 01f0 0028     		cmp	r0, #0
 1822 01f2 3FD0     		beq	.L86
 243:Core/drogui/sensor/imu/src/ICM20948.c **** 			( max_gyro[1]-min_gyro[1] < (treshold + 2.0 /*3.8*/) ) && \
 1823              		.loc 1 243 59 view .LVU480
 1824 01f4 4246     		mov	r2, r8
 1825 01f6 4B46     		mov	r3, r9
 1826 01f8 51EC190B 		vmov	r0, r1, d9
 1827 01fc FFF7FEFF 		bl	__aeabi_dcmplt
 1828              	.LVL190:
 1829 0200 08B9     		cbnz	r0, .L91
 244:Core/drogui/sensor/imu/src/ICM20948.c **** 			( max_gyro[2]-min_gyro[2] < (treshold + 2.0) ) ){
 245:Core/drogui/sensor/imu/src/ICM20948.c **** 		if(cal){
 246:Core/drogui/sensor/imu/src/ICM20948.c **** 			m->off_gx = -1.0*acum_gyro[0]/n;
 247:Core/drogui/sensor/imu/src/ICM20948.c **** 			m->off_gy = -1.0*acum_gyro[1]/n;
 248:Core/drogui/sensor/imu/src/ICM20948.c **** 			m->off_gz = -1.0*acum_gyro[2]/n;
 249:Core/drogui/sensor/imu/src/ICM20948.c **** 		}
 250:Core/drogui/sensor/imu/src/ICM20948.c **** 		return true;
 251:Core/drogui/sensor/imu/src/ICM20948.c **** 	}
 252:Core/drogui/sensor/imu/src/ICM20948.c **** 	return false;
 1830              		.loc 1 252 9 view .LVU481
 1831 0202 0020     		movs	r0, #0
 1832 0204 31E0     		b	.L74
 1833              	.L91:
 245:Core/drogui/sensor/imu/src/ICM20948.c **** 			m->off_gx = -1.0*acum_gyro[0]/n;
 1834              		.loc 1 245 3 is_stmt 1 view .LVU482
 245:Core/drogui/sensor/imu/src/ICM20948.c **** 			m->off_gx = -1.0*acum_gyro[0]/n;
 1835              		.loc 1 245 5 is_stmt 0 view .LVU483
 1836 0206 BBF1000F 		cmp	fp, #0
 1837 020a 2BD0     		beq	.L78
 246:Core/drogui/sensor/imu/src/ICM20948.c **** 			m->off_gy = -1.0*acum_gyro[1]/n;
 1838              		.loc 1 246 4 is_stmt 1 view .LVU484
 246:Core/drogui/sensor/imu/src/ICM20948.c **** 			m->off_gy = -1.0*acum_gyro[1]/n;
 1839              		.loc 1 246 30 is_stmt 0 view .LVU485
 1840 020c 0598     		ldr	r0, [sp, #20]	@ float
 1841 020e FFF7FEFF 		bl	__aeabi_f2d
 1842              	.LVL191:
 246:Core/drogui/sensor/imu/src/ICM20948.c **** 			m->off_gy = -1.0*acum_gyro[1]/n;
 1843              		.loc 1 246 20 view .LVU486
 1844 0212 0646     		mov	r6, r0
 1845 0214 01F10047 		add	r7, r1, #-2147483648
 246:Core/drogui/sensor/imu/src/ICM20948.c **** 			m->off_gy = -1.0*acum_gyro[1]/n;
 1846              		.loc 1 246 33 view .LVU487
 1847 0218 5046     		mov	r0, r10
 1848 021a FFF7FEFF 		bl	__aeabi_i2d
 1849              	.LVL192:
 1850 021e 8046     		mov	r8, r0
 1851 0220 8946     		mov	r9, r1
 1852 0222 0246     		mov	r2, r0
 1853 0224 0B46     		mov	r3, r1
 1854 0226 3046     		mov	r0, r6
 1855 0228 3946     		mov	r1, r7
 1856 022a FFF7FEFF 		bl	__aeabi_ddiv
 1857              	.LVL193:
 1858 022e FFF7FEFF 		bl	__aeabi_d2f
ARM GAS  C:\Users\GUILLE~1\AppData\Local\Temp\ccUunABq.s 			page 40


 1859              	.LVL194:
 246:Core/drogui/sensor/imu/src/ICM20948.c **** 			m->off_gy = -1.0*acum_gyro[1]/n;
 1860              		.loc 1 246 14 view .LVU488
 1861 0232 2067     		str	r0, [r4, #112]	@ float
 247:Core/drogui/sensor/imu/src/ICM20948.c **** 			m->off_gz = -1.0*acum_gyro[2]/n;
 1862              		.loc 1 247 4 is_stmt 1 view .LVU489
 247:Core/drogui/sensor/imu/src/ICM20948.c **** 			m->off_gz = -1.0*acum_gyro[2]/n;
 1863              		.loc 1 247 30 is_stmt 0 view .LVU490
 1864 0234 0698     		ldr	r0, [sp, #24]	@ float
 1865 0236 FFF7FEFF 		bl	__aeabi_f2d
 1866              	.LVL195:
 247:Core/drogui/sensor/imu/src/ICM20948.c **** 			m->off_gz = -1.0*acum_gyro[2]/n;
 1867              		.loc 1 247 20 view .LVU491
 1868 023a 01F10041 		add	r1, r1, #-2147483648
 247:Core/drogui/sensor/imu/src/ICM20948.c **** 			m->off_gz = -1.0*acum_gyro[2]/n;
 1869              		.loc 1 247 33 view .LVU492
 1870 023e 4246     		mov	r2, r8
 1871 0240 4B46     		mov	r3, r9
 1872 0242 FFF7FEFF 		bl	__aeabi_ddiv
 1873              	.LVL196:
 1874 0246 FFF7FEFF 		bl	__aeabi_d2f
 1875              	.LVL197:
 247:Core/drogui/sensor/imu/src/ICM20948.c **** 			m->off_gz = -1.0*acum_gyro[2]/n;
 1876              		.loc 1 247 14 view .LVU493
 1877 024a 6067     		str	r0, [r4, #116]	@ float
 248:Core/drogui/sensor/imu/src/ICM20948.c **** 		}
 1878              		.loc 1 248 4 is_stmt 1 view .LVU494
 248:Core/drogui/sensor/imu/src/ICM20948.c **** 		}
 1879              		.loc 1 248 30 is_stmt 0 view .LVU495
 1880 024c 0798     		ldr	r0, [sp, #28]	@ float
 1881 024e FFF7FEFF 		bl	__aeabi_f2d
 1882              	.LVL198:
 248:Core/drogui/sensor/imu/src/ICM20948.c **** 		}
 1883              		.loc 1 248 20 view .LVU496
 1884 0252 01F10041 		add	r1, r1, #-2147483648
 248:Core/drogui/sensor/imu/src/ICM20948.c **** 		}
 1885              		.loc 1 248 33 view .LVU497
 1886 0256 4246     		mov	r2, r8
 1887 0258 4B46     		mov	r3, r9
 1888 025a FFF7FEFF 		bl	__aeabi_ddiv
 1889              	.LVL199:
 1890 025e FFF7FEFF 		bl	__aeabi_d2f
 1891              	.LVL200:
 248:Core/drogui/sensor/imu/src/ICM20948.c **** 		}
 1892              		.loc 1 248 14 view .LVU498
 1893 0262 A067     		str	r0, [r4, #120]	@ float
 1894              	.L78:
 250:Core/drogui/sensor/imu/src/ICM20948.c **** 	}
 1895              		.loc 1 250 3 is_stmt 1 view .LVU499
 250:Core/drogui/sensor/imu/src/ICM20948.c **** 	}
 1896              		.loc 1 250 10 is_stmt 0 view .LVU500
 1897 0264 0120     		movs	r0, #1
 1898 0266 00E0     		b	.L74
 1899              	.L85:
 1900              		.loc 1 252 9 view .LVU501
 1901 0268 0020     		movs	r0, #0
 1902              	.L74:
ARM GAS  C:\Users\GUILLE~1\AppData\Local\Temp\ccUunABq.s 			page 41


 253:Core/drogui/sensor/imu/src/ICM20948.c **** }
 1903              		.loc 1 253 1 view .LVU502
 1904 026a 0FB0     		add	sp, sp, #60
 1905              	.LCFI31:
 1906              		.cfi_remember_state
 1907              		.cfi_def_cfa_offset 60
 1908              		@ sp needed
 1909 026c BDEC068B 		vldm	sp!, {d8-d10}
 1910              	.LCFI32:
 1911              		.cfi_restore 84
 1912              		.cfi_restore 85
 1913              		.cfi_restore 82
 1914              		.cfi_restore 83
 1915              		.cfi_restore 80
 1916              		.cfi_restore 81
 1917              		.cfi_def_cfa_offset 36
 1918 0270 BDE8F08F 		pop	{r4, r5, r6, r7, r8, r9, r10, fp, pc}
 1919              	.LVL201:
 1920              	.L86:
 1921              	.LCFI33:
 1922              		.cfi_restore_state
 252:Core/drogui/sensor/imu/src/ICM20948.c **** }
 1923              		.loc 1 252 9 view .LVU503
 1924 0274 0020     		movs	r0, #0
 1925 0276 F8E7     		b	.L74
 1926              	.L93:
 1927              		.align	2
 1928              	.L92:
 1929 0278 00000000 		.word	.LC0
 1930 027c 00000000 		.word	serial3
 1931              		.cfi_endproc
 1932              	.LFE295:
 1934              		.section	.text.calibrateGyro,"ax",%progbits
 1935              		.align	1
 1936              		.global	calibrateGyro
 1937              		.syntax unified
 1938              		.thumb
 1939              		.thumb_func
 1940              		.fpu fpv5-sp-d16
 1942              	calibrateGyro:
 1943              	.LVL202:
 1944              	.LFB296:
 254:Core/drogui/sensor/imu/src/ICM20948.c **** 
 255:Core/drogui/sensor/imu/src/ICM20948.c **** 
 256:Core/drogui/sensor/imu/src/ICM20948.c **** void calibrateGyro(icm20948* m){
 1945              		.loc 1 256 32 is_stmt 1 view -0
 1946              		.cfi_startproc
 1947              		@ args = 0, pretend = 0, frame = 0
 1948              		@ frame_needed = 0, uses_anonymous_args = 0
 1949              		.loc 1 256 32 is_stmt 0 view .LVU505
 1950 0000 10B5     		push	{r4, lr}
 1951              	.LCFI34:
 1952              		.cfi_def_cfa_offset 8
 1953              		.cfi_offset 4, -8
 1954              		.cfi_offset 14, -4
 1955 0002 0446     		mov	r4, r0
 257:Core/drogui/sensor/imu/src/ICM20948.c **** 	//HAL_UART_Transmit(&huart2, (uint8_t*) "CalibG\n", 8, 100);
ARM GAS  C:\Users\GUILLE~1\AppData\Local\Temp\ccUunABq.s 			page 42


 258:Core/drogui/sensor/imu/src/ICM20948.c **** 	setReg(CAL_GYR,0);
 1956              		.loc 1 258 2 is_stmt 1 view .LVU506
 1957 0004 9FED130A 		vldr.32	s0, .L97
 1958 0008 0220     		movs	r0, #2
 1959              	.LVL203:
 1960              		.loc 1 258 2 is_stmt 0 view .LVU507
 1961 000a FFF7FEFF 		bl	setReg
 1962              	.LVL204:
 259:Core/drogui/sensor/imu/src/ICM20948.c **** 	while(!icmQuiet(m,1000,0, true));
 1963              		.loc 1 259 2 is_stmt 1 view .LVU508
 1964              	.L95:
 1965              		.loc 1 259 34 discriminator 1 view .LVU509
 1966              		.loc 1 259 7 discriminator 1 view .LVU510
 1967              		.loc 1 259 9 is_stmt 0 discriminator 1 view .LVU511
 1968 000e 0122     		movs	r2, #1
 1969 0010 9FED100A 		vldr.32	s0, .L97
 1970 0014 4FF47A71 		mov	r1, #1000
 1971 0018 2046     		mov	r0, r4
 1972 001a FFF7FEFF 		bl	icmQuiet
 1973              	.LVL205:
 1974              		.loc 1 259 7 discriminator 1 view .LVU512
 1975 001e 0028     		cmp	r0, #0
 1976 0020 F5D0     		beq	.L95
 260:Core/drogui/sensor/imu/src/ICM20948.c **** 
 261:Core/drogui/sensor/imu/src/ICM20948.c **** 	setReg(GYR_X_OFF, m -> off_gx);
 1977              		.loc 1 261 2 is_stmt 1 view .LVU513
 1978 0022 94ED1C0A 		vldr.32	s0, [r4, #112]
 1979 0026 1420     		movs	r0, #20
 1980 0028 FFF7FEFF 		bl	setReg
 1981              	.LVL206:
 262:Core/drogui/sensor/imu/src/ICM20948.c **** 	setReg(GYR_Y_OFF, m -> off_gy);
 1982              		.loc 1 262 2 view .LVU514
 1983 002c 94ED1D0A 		vldr.32	s0, [r4, #116]
 1984 0030 1620     		movs	r0, #22
 1985 0032 FFF7FEFF 		bl	setReg
 1986              	.LVL207:
 263:Core/drogui/sensor/imu/src/ICM20948.c **** 	setReg(GYR_Z_OFF, m -> off_gz);
 1987              		.loc 1 263 2 view .LVU515
 1988 0036 94ED1E0A 		vldr.32	s0, [r4, #120]
 1989 003a 1820     		movs	r0, #24
 1990 003c FFF7FEFF 		bl	setReg
 1991              	.LVL208:
 264:Core/drogui/sensor/imu/src/ICM20948.c **** 
 265:Core/drogui/sensor/imu/src/ICM20948.c **** 	setReg(CAL_GYR, 100);
 1992              		.loc 1 265 2 view .LVU516
 1993 0040 9FED050A 		vldr.32	s0, .L97+4
 1994 0044 0220     		movs	r0, #2
 1995 0046 FFF7FEFF 		bl	setReg
 1996              	.LVL209:
 266:Core/drogui/sensor/imu/src/ICM20948.c **** 
 267:Core/drogui/sensor/imu/src/ICM20948.c **** 	HAL_GPIO_TogglePin(LED1_GPIO_Port, LED1_Pin);
 1997              		.loc 1 267 2 view .LVU517
 1998 004a 0421     		movs	r1, #4
 1999 004c 0348     		ldr	r0, .L97+8
 2000 004e FFF7FEFF 		bl	HAL_GPIO_TogglePin
 2001              	.LVL210:
 268:Core/drogui/sensor/imu/src/ICM20948.c **** 
ARM GAS  C:\Users\GUILLE~1\AppData\Local\Temp\ccUunABq.s 			page 43


 269:Core/drogui/sensor/imu/src/ICM20948.c **** }
 2002              		.loc 1 269 1 is_stmt 0 view .LVU518
 2003 0052 10BD     		pop	{r4, pc}
 2004              	.LVL211:
 2005              	.L98:
 2006              		.loc 1 269 1 view .LVU519
 2007              		.align	2
 2008              	.L97:
 2009 0054 00000000 		.word	0
 2010 0058 0000C842 		.word	1120403456
 2011 005c 00100240 		.word	1073876992
 2012              		.cfi_endproc
 2013              	.LFE296:
 2015              		.global	__aeabi_dmul
 2016              		.global	__aeabi_dsub
 2017              		.global	__aeabi_dcmpgt
 2018              		.section	.text.calibrateAccel,"ax",%progbits
 2019              		.align	1
 2020              		.global	calibrateAccel
 2021              		.syntax unified
 2022              		.thumb
 2023              		.thumb_func
 2024              		.fpu fpv5-sp-d16
 2026              	calibrateAccel:
 2027              	.LVL212:
 2028              	.LFB297:
 270:Core/drogui/sensor/imu/src/ICM20948.c **** 
 271:Core/drogui/sensor/imu/src/ICM20948.c **** 
 272:Core/drogui/sensor/imu/src/ICM20948.c **** 
 273:Core/drogui/sensor/imu/src/ICM20948.c **** 
 274:Core/drogui/sensor/imu/src/ICM20948.c **** void calibrateAccel(icm20948* m){
 2029              		.loc 1 274 33 is_stmt 1 view -0
 2030              		.cfi_startproc
 2031              		@ args = 0, pretend = 0, frame = 152
 2032              		@ frame_needed = 0, uses_anonymous_args = 0
 2033              		.loc 1 274 33 is_stmt 0 view .LVU521
 2034 0000 2DE9F04F 		push	{r4, r5, r6, r7, r8, r9, r10, fp, lr}
 2035              	.LCFI35:
 2036              		.cfi_def_cfa_offset 36
 2037              		.cfi_offset 4, -36
 2038              		.cfi_offset 5, -32
 2039              		.cfi_offset 6, -28
 2040              		.cfi_offset 7, -24
 2041              		.cfi_offset 8, -20
 2042              		.cfi_offset 9, -16
 2043              		.cfi_offset 10, -12
 2044              		.cfi_offset 11, -8
 2045              		.cfi_offset 14, -4
 2046 0004 2DED048B 		vpush.64	{d8, d9}
 2047              	.LCFI36:
 2048              		.cfi_def_cfa_offset 52
 2049              		.cfi_offset 80, -52
 2050              		.cfi_offset 81, -48
 2051              		.cfi_offset 82, -44
 2052              		.cfi_offset 83, -40
 2053 0008 A7B0     		sub	sp, sp, #156
 2054              	.LCFI37:
ARM GAS  C:\Users\GUILLE~1\AppData\Local\Temp\ccUunABq.s 			page 44


 2055              		.cfi_def_cfa_offset 208
 2056 000a 0646     		mov	r6, r0
 275:Core/drogui/sensor/imu/src/ICM20948.c **** 
 276:Core/drogui/sensor/imu/src/ICM20948.c **** 	setReg(CAL_ACC,0);
 2057              		.loc 1 276 2 is_stmt 1 view .LVU522
 2058 000c 9FEDD40A 		vldr.32	s0, .L133+24
 2059 0010 0420     		movs	r0, #4
 2060              	.LVL213:
 2061              		.loc 1 276 2 is_stmt 0 view .LVU523
 2062 0012 FFF7FEFF 		bl	setReg
 2063              	.LVL214:
 277:Core/drogui/sensor/imu/src/ICM20948.c **** 
 278:Core/drogui/sensor/imu/src/ICM20948.c **** 	int neq = 4, nval = 2;
 2064              		.loc 1 278 2 is_stmt 1 view .LVU524
 279:Core/drogui/sensor/imu/src/ICM20948.c **** 	int tot = neq + nval;
 2065              		.loc 1 279 2 view .LVU525
 280:Core/drogui/sensor/imu/src/ICM20948.c **** 
 281:Core/drogui/sensor/imu/src/ICM20948.c **** 	float acc[tot][3], scale, aux;
 2066              		.loc 1 281 2 view .LVU526
 282:Core/drogui/sensor/imu/src/ICM20948.c **** 	for(int i = 0; i < tot; i++){
 2067              		.loc 1 282 2 view .LVU527
 2068              	.LBB4:
 2069              		.loc 1 282 6 view .LVU528
 2070              		.loc 1 282 10 is_stmt 0 view .LVU529
 2071 0016 0021     		movs	r1, #0
 2072              		.loc 1 282 2 view .LVU530
 2073 0018 0CE0     		b	.L100
 2074              	.LVL215:
 2075              	.L101:
 2076              	.LBB5:
 283:Core/drogui/sensor/imu/src/ICM20948.c **** 		for(int j = 0; j < 3; j++){
 284:Core/drogui/sensor/imu/src/ICM20948.c **** 			acc[i][j] = 0;
 2077              		.loc 1 284 4 is_stmt 1 discriminator 3 view .LVU531
 2078              		.loc 1 284 14 is_stmt 0 discriminator 3 view .LVU532
 2079 001a 01EB4103 		add	r3, r1, r1, lsl #1
 2080 001e 1344     		add	r3, r3, r2
 2081 0020 26A8     		add	r0, sp, #152
 2082 0022 00EB8303 		add	r3, r0, r3, lsl #2
 2083 0026 0020     		movs	r0, #0
 2084 0028 43F8840C 		str	r0, [r3, #-132]	@ float
 283:Core/drogui/sensor/imu/src/ICM20948.c **** 		for(int j = 0; j < 3; j++){
 2085              		.loc 1 283 25 is_stmt 1 discriminator 3 view .LVU533
 283:Core/drogui/sensor/imu/src/ICM20948.c **** 		for(int j = 0; j < 3; j++){
 2086              		.loc 1 283 26 is_stmt 0 discriminator 3 view .LVU534
 2087 002c 0132     		adds	r2, r2, #1
 2088              	.LVL216:
 2089              	.L102:
 283:Core/drogui/sensor/imu/src/ICM20948.c **** 		for(int j = 0; j < 3; j++){
 2090              		.loc 1 283 18 is_stmt 1 discriminator 1 view .LVU535
 283:Core/drogui/sensor/imu/src/ICM20948.c **** 		for(int j = 0; j < 3; j++){
 2091              		.loc 1 283 3 is_stmt 0 discriminator 1 view .LVU536
 2092 002e 022A     		cmp	r2, #2
 2093 0030 F3DD     		ble	.L101
 2094              	.LBE5:
 282:Core/drogui/sensor/imu/src/ICM20948.c **** 	for(int i = 0; i < tot; i++){
 2095              		.loc 1 282 26 is_stmt 1 discriminator 2 view .LVU537
 282:Core/drogui/sensor/imu/src/ICM20948.c **** 	for(int i = 0; i < tot; i++){
ARM GAS  C:\Users\GUILLE~1\AppData\Local\Temp\ccUunABq.s 			page 45


 2096              		.loc 1 282 27 is_stmt 0 discriminator 2 view .LVU538
 2097 0032 0131     		adds	r1, r1, #1
 2098              	.LVL217:
 2099              	.L100:
 282:Core/drogui/sensor/imu/src/ICM20948.c **** 	for(int i = 0; i < tot; i++){
 2100              		.loc 1 282 17 is_stmt 1 discriminator 1 view .LVU539
 282:Core/drogui/sensor/imu/src/ICM20948.c **** 	for(int i = 0; i < tot; i++){
 2101              		.loc 1 282 2 is_stmt 0 discriminator 1 view .LVU540
 2102 0034 0529     		cmp	r1, #5
 2103 0036 01DC     		bgt	.L128
 2104              	.LBB6:
 283:Core/drogui/sensor/imu/src/ICM20948.c **** 		for(int j = 0; j < 3; j++){
 2105              		.loc 1 283 11 view .LVU541
 2106 0038 0022     		movs	r2, #0
 2107 003a F8E7     		b	.L102
 2108              	.L128:
 2109              	.LBE6:
 2110              	.LBE4:
 285:Core/drogui/sensor/imu/src/ICM20948.c **** 		}
 286:Core/drogui/sensor/imu/src/ICM20948.c **** 	}
 287:Core/drogui/sensor/imu/src/ICM20948.c **** 
 288:Core/drogui/sensor/imu/src/ICM20948.c **** 	mat A, b, ans;
 2111              		.loc 1 288 2 is_stmt 1 view .LVU542
 289:Core/drogui/sensor/imu/src/ICM20948.c **** 	matInit(&A,3,3);
 2112              		.loc 1 289 2 view .LVU543
 2113 003c 0322     		movs	r2, #3
 2114 003e 1146     		mov	r1, r2
 2115              	.LVL218:
 2116              		.loc 1 289 2 is_stmt 0 view .LVU544
 2117 0040 21A8     		add	r0, sp, #132
 2118 0042 FFF7FEFF 		bl	matInit
 2119              	.LVL219:
 290:Core/drogui/sensor/imu/src/ICM20948.c **** 	matInit(&b,3,1);
 2120              		.loc 1 290 2 is_stmt 1 view .LVU545
 2121 0046 0122     		movs	r2, #1
 2122 0048 0321     		movs	r1, #3
 2123 004a 1CA8     		add	r0, sp, #112
 2124 004c FFF7FEFF 		bl	matInit
 2125              	.LVL220:
 291:Core/drogui/sensor/imu/src/ICM20948.c **** 	matInit(&ans,3,1);
 2126              		.loc 1 291 2 view .LVU546
 2127 0050 0122     		movs	r2, #1
 2128 0052 0321     		movs	r1, #3
 2129 0054 17A8     		add	r0, sp, #92
 2130 0056 FFF7FEFF 		bl	matInit
 2131              	.LVL221:
 292:Core/drogui/sensor/imu/src/ICM20948.c **** 
 293:Core/drogui/sensor/imu/src/ICM20948.c **** 	int head = 0, cnt = 0;
 2132              		.loc 1 293 2 view .LVU547
 294:Core/drogui/sensor/imu/src/ICM20948.c **** 	bool done = false, valid;
 2133              		.loc 1 294 2 view .LVU548
 295:Core/drogui/sensor/imu/src/ICM20948.c **** 
 296:Core/drogui/sensor/imu/src/ICM20948.c **** 	while(!done){
 2134              		.loc 1 296 2 view .LVU549
 294:Core/drogui/sensor/imu/src/ICM20948.c **** 	bool done = false, valid;
 2135              		.loc 1 294 7 is_stmt 0 view .LVU550
 2136 005a 0023     		movs	r3, #0
ARM GAS  C:\Users\GUILLE~1\AppData\Local\Temp\ccUunABq.s 			page 46


 2137 005c 1F46     		mov	r7, r3
 2138 005e 0193     		str	r3, [sp, #4]
 293:Core/drogui/sensor/imu/src/ICM20948.c **** 	bool done = false, valid;
 2139              		.loc 1 293 16 view .LVU551
 2140 0060 9A46     		mov	r10, r3
 2141              		.loc 1 296 7 view .LVU552
 2142 0062 27E0     		b	.L103
 2143              	.LVL222:
 2144              	.L120:
 2145              	.LBB7:
 2146              	.LBB8:
 297:Core/drogui/sensor/imu/src/ICM20948.c **** 		while(!icmQuiet(m, 100, 2, false));
 298:Core/drogui/sensor/imu/src/ICM20948.c **** 		readRawAcc(m);
 299:Core/drogui/sensor/imu/src/ICM20948.c **** 		valid = true;
 300:Core/drogui/sensor/imu/src/ICM20948.c **** 		for(int i = 1 ; i <= cnt ; i++){
 301:Core/drogui/sensor/imu/src/ICM20948.c **** 			int j = (head - i + tot) % tot;
 302:Core/drogui/sensor/imu/src/ICM20948.c **** 			// Serial.println("icmQuiet ");
 303:Core/drogui/sensor/imu/src/ICM20948.c **** 			float d = dis3d(m->raw_ax, m->raw_ay, m->raw_az, acc[j][0],acc[j][1],acc[j][2]);
 304:Core/drogui/sensor/imu/src/ICM20948.c **** 
 305:Core/drogui/sensor/imu/src/ICM20948.c **** 			//sprintf(buffcal, "%f\t%f\t%f\t%f\n", d, m->filt_ax, m->filt_ay, m->filt_az);
 306:Core/drogui/sensor/imu/src/ICM20948.c **** 			//HAL_UART_Transmit(&huart2, (uint8_t*) buffcal, strlen(buffcal), 100);
 307:Core/drogui/sensor/imu/src/ICM20948.c **** 
 308:Core/drogui/sensor/imu/src/ICM20948.c **** 			if(d < 5000){
 309:Core/drogui/sensor/imu/src/ICM20948.c **** 				valid = false; break;
 2147              		.loc 1 309 11 view .LVU553
 2148 0064 019D     		ldr	r5, [sp, #4]
 2149              	.LVL223:
 2150              	.L106:
 2151              		.loc 1 309 11 view .LVU554
 2152              	.LBE8:
 2153              	.LBE7:
 310:Core/drogui/sensor/imu/src/ICM20948.c **** 			}
 311:Core/drogui/sensor/imu/src/ICM20948.c **** 		}
 312:Core/drogui/sensor/imu/src/ICM20948.c **** 
 313:Core/drogui/sensor/imu/src/ICM20948.c **** 		if(valid){
 2154              		.loc 1 313 3 is_stmt 1 view .LVU555
 2155              		.loc 1 313 5 is_stmt 0 view .LVU556
 2156 0066 002D     		cmp	r5, #0
 2157 0068 5FD1     		bne	.L129
 2158              	.L108:
 314:Core/drogui/sensor/imu/src/ICM20948.c **** 			HAL_GPIO_TogglePin(LED1_GPIO_Port, LED1_Pin);
 315:Core/drogui/sensor/imu/src/ICM20948.c **** 
 316:Core/drogui/sensor/imu/src/ICM20948.c **** 			acc[head][0] = m->raw_ax, acc[head][1] = m->raw_ay, acc[head][2] = m->raw_az;
 317:Core/drogui/sensor/imu/src/ICM20948.c **** 			head++, cnt++, head%= tot;
 318:Core/drogui/sensor/imu/src/ICM20948.c **** 		}
 319:Core/drogui/sensor/imu/src/ICM20948.c **** 		setReg(CAL_ACC, 100*fmin(cnt,6)/7 );
 2159              		.loc 1 319 3 is_stmt 1 view .LVU557
 2160              		.loc 1 319 23 is_stmt 0 view .LVU558
 2161 006a 5046     		mov	r0, r10
 2162 006c FFF7FEFF 		bl	__aeabi_i2d
 2163              	.LVL224:
 2164 0070 9FEDB51B 		vldr.64	d1, .L133
 2165 0074 41EC100B 		vmov	d0, r0, r1
 2166 0078 FFF7FEFF 		bl	fmin
 2167              	.LVL225:
 2168 007c 51EC100B 		vmov	r0, r1, d0
 2169              		.loc 1 319 22 view .LVU559
ARM GAS  C:\Users\GUILLE~1\AppData\Local\Temp\ccUunABq.s 			page 47


 2170 0080 0022     		movs	r2, #0
 2171 0082 B84B     		ldr	r3, .L133+28
 2172 0084 FFF7FEFF 		bl	__aeabi_dmul
 2173              	.LVL226:
 2174              		.loc 1 319 34 view .LVU560
 2175 0088 0022     		movs	r2, #0
 2176 008a B74B     		ldr	r3, .L133+32
 2177 008c FFF7FEFF 		bl	__aeabi_ddiv
 2178              	.LVL227:
 2179              		.loc 1 319 3 view .LVU561
 2180 0090 FFF7FEFF 		bl	__aeabi_d2f
 2181              	.LVL228:
 2182 0094 00EE100A 		vmov	s0, r0
 2183 0098 0420     		movs	r0, #4
 2184 009a FFF7FEFF 		bl	setReg
 2185              	.LVL229:
 320:Core/drogui/sensor/imu/src/ICM20948.c **** 
 321:Core/drogui/sensor/imu/src/ICM20948.c **** 		if(cnt >= tot && valid){
 2186              		.loc 1 321 3 is_stmt 1 view .LVU562
 2187              		.loc 1 321 17 is_stmt 0 view .LVU563
 2188 009e BAF1050F 		cmp	r10, #5
 2189 00a2 D4BF     		ite	le
 2190 00a4 4FF00009 		movle	r9, #0
 2191 00a8 05F00109 		andgt	r9, r5, #1
 2192              		.loc 1 321 5 view .LVU564
 2193 00ac B9F1000F 		cmp	r9, #0
 2194 00b0 40F0A980 		bne	.L130
 2195              	.LVL230:
 2196              	.L103:
 296:Core/drogui/sensor/imu/src/ICM20948.c **** 		while(!icmQuiet(m, 100, 2, false));
 2197              		.loc 1 296 7 is_stmt 1 view .LVU565
 2198 00b4 019B     		ldr	r3, [sp, #4]
 2199 00b6 002B     		cmp	r3, #0
 2200 00b8 40F06081 		bne	.L131
 2201              	.L104:
 297:Core/drogui/sensor/imu/src/ICM20948.c **** 		readRawAcc(m);
 2202              		.loc 1 297 37 discriminator 1 view .LVU566
 297:Core/drogui/sensor/imu/src/ICM20948.c **** 		readRawAcc(m);
 2203              		.loc 1 297 8 discriminator 1 view .LVU567
 297:Core/drogui/sensor/imu/src/ICM20948.c **** 		readRawAcc(m);
 2204              		.loc 1 297 10 is_stmt 0 discriminator 1 view .LVU568
 2205 00bc 0022     		movs	r2, #0
 2206 00be B0EE000A 		vmov.f32	s0, #2.0e+0
 2207 00c2 6421     		movs	r1, #100
 2208 00c4 3046     		mov	r0, r6
 2209 00c6 FFF7FEFF 		bl	icmQuiet
 2210              	.LVL231:
 297:Core/drogui/sensor/imu/src/ICM20948.c **** 		readRawAcc(m);
 2211              		.loc 1 297 8 discriminator 1 view .LVU569
 2212 00ca 0546     		mov	r5, r0
 2213 00cc 0028     		cmp	r0, #0
 2214 00ce F5D0     		beq	.L104
 298:Core/drogui/sensor/imu/src/ICM20948.c **** 		valid = true;
 2215              		.loc 1 298 3 is_stmt 1 view .LVU570
 2216 00d0 3046     		mov	r0, r6
 2217 00d2 FFF7FEFF 		bl	readRawAcc
 2218              	.LVL232:
ARM GAS  C:\Users\GUILLE~1\AppData\Local\Temp\ccUunABq.s 			page 48


 299:Core/drogui/sensor/imu/src/ICM20948.c **** 		for(int i = 1 ; i <= cnt ; i++){
 2219              		.loc 1 299 3 view .LVU571
 300:Core/drogui/sensor/imu/src/ICM20948.c **** 			int j = (head - i + tot) % tot;
 2220              		.loc 1 300 3 view .LVU572
 2221              	.LBB10:
 300:Core/drogui/sensor/imu/src/ICM20948.c **** 			int j = (head - i + tot) % tot;
 2222              		.loc 1 300 7 view .LVU573
 300:Core/drogui/sensor/imu/src/ICM20948.c **** 			int j = (head - i + tot) % tot;
 2223              		.loc 1 300 11 is_stmt 0 view .LVU574
 2224 00d6 0124     		movs	r4, #1
 2225              	.LVL233:
 2226              	.L105:
 300:Core/drogui/sensor/imu/src/ICM20948.c **** 			int j = (head - i + tot) % tot;
 2227              		.loc 1 300 19 is_stmt 1 discriminator 1 view .LVU575
 300:Core/drogui/sensor/imu/src/ICM20948.c **** 			int j = (head - i + tot) % tot;
 2228              		.loc 1 300 3 is_stmt 0 discriminator 1 view .LVU576
 2229 00d8 A245     		cmp	r10, r4
 2230 00da C4DB     		blt	.L106
 2231              	.LBB9:
 301:Core/drogui/sensor/imu/src/ICM20948.c **** 			// Serial.println("icmQuiet ");
 2232              		.loc 1 301 4 is_stmt 1 view .LVU577
 301:Core/drogui/sensor/imu/src/ICM20948.c **** 			// Serial.println("icmQuiet ");
 2233              		.loc 1 301 18 is_stmt 0 view .LVU578
 2234 00dc 3A1B     		subs	r2, r7, r4
 301:Core/drogui/sensor/imu/src/ICM20948.c **** 			// Serial.println("icmQuiet ");
 2235              		.loc 1 301 22 view .LVU579
 2236 00de 0632     		adds	r2, r2, #6
 301:Core/drogui/sensor/imu/src/ICM20948.c **** 			// Serial.println("icmQuiet ");
 2237              		.loc 1 301 8 view .LVU580
 2238 00e0 A24B     		ldr	r3, .L133+36
 2239 00e2 83FB0213 		smull	r1, r3, r3, r2
 2240 00e6 A3EBE273 		sub	r3, r3, r2, asr #31
 2241 00ea 03EB4303 		add	r3, r3, r3, lsl #1
 2242 00ee A2EB4303 		sub	r3, r2, r3, lsl #1
 2243              	.LVL234:
 303:Core/drogui/sensor/imu/src/ICM20948.c **** 
 2244              		.loc 1 303 4 is_stmt 1 view .LVU581
 303:Core/drogui/sensor/imu/src/ICM20948.c **** 
 2245              		.loc 1 303 14 is_stmt 0 view .LVU582
 2246 00f2 03EB4302 		add	r2, r3, r3, lsl #1
 2247 00f6 26A9     		add	r1, sp, #152
 2248 00f8 01EB8202 		add	r2, r1, r2, lsl #2
 2249 00fc 52ED1F2A 		vldr.32	s5, [r2, #-124]
 2250 0100 12ED202A 		vldr.32	s4, [r2, #-128]
 2251 0104 52ED211A 		vldr.32	s3, [r2, #-132]
 2252 0108 96ED0B1A 		vldr.32	s2, [r6, #44]
 2253 010c D6ED0A0A 		vldr.32	s1, [r6, #40]
 2254 0110 96ED090A 		vldr.32	s0, [r6, #36]
 2255 0114 FFF7FEFF 		bl	dis3d
 2256              	.LVL235:
 308:Core/drogui/sensor/imu/src/ICM20948.c **** 				valid = false; break;
 2257              		.loc 1 308 4 is_stmt 1 view .LVU583
 308:Core/drogui/sensor/imu/src/ICM20948.c **** 				valid = false; break;
 2258              		.loc 1 308 6 is_stmt 0 view .LVU584
 2259 0118 DFED957A 		vldr.32	s15, .L133+40
 2260 011c B4EEE70A 		vcmpe.f32	s0, s15
 2261 0120 F1EE10FA 		vmrs	APSR_nzcv, FPSCR
ARM GAS  C:\Users\GUILLE~1\AppData\Local\Temp\ccUunABq.s 			page 49


 2262 0124 9ED4     		bmi	.L120
 2263              	.LBE9:
 300:Core/drogui/sensor/imu/src/ICM20948.c **** 			int j = (head - i + tot) % tot;
 2264              		.loc 1 300 30 is_stmt 1 discriminator 2 view .LVU585
 300:Core/drogui/sensor/imu/src/ICM20948.c **** 			int j = (head - i + tot) % tot;
 2265              		.loc 1 300 31 is_stmt 0 discriminator 2 view .LVU586
 2266 0126 0134     		adds	r4, r4, #1
 2267              	.LVL236:
 300:Core/drogui/sensor/imu/src/ICM20948.c **** 			int j = (head - i + tot) % tot;
 2268              		.loc 1 300 31 discriminator 2 view .LVU587
 2269 0128 D6E7     		b	.L105
 2270              	.LVL237:
 2271              	.L129:
 300:Core/drogui/sensor/imu/src/ICM20948.c **** 			int j = (head - i + tot) % tot;
 2272              		.loc 1 300 31 discriminator 2 view .LVU588
 2273              	.LBE10:
 314:Core/drogui/sensor/imu/src/ICM20948.c **** 
 2274              		.loc 1 314 4 is_stmt 1 view .LVU589
 2275 012a 0421     		movs	r1, #4
 2276 012c 9148     		ldr	r0, .L133+44
 2277 012e FFF7FEFF 		bl	HAL_GPIO_TogglePin
 2278              	.LVL238:
 316:Core/drogui/sensor/imu/src/ICM20948.c **** 			head++, cnt++, head%= tot;
 2279              		.loc 1 316 4 view .LVU590
 316:Core/drogui/sensor/imu/src/ICM20948.c **** 			head++, cnt++, head%= tot;
 2280              		.loc 1 316 20 is_stmt 0 view .LVU591
 2281 0132 726A     		ldr	r2, [r6, #36]	@ float
 316:Core/drogui/sensor/imu/src/ICM20948.c **** 			head++, cnt++, head%= tot;
 2282              		.loc 1 316 17 view .LVU592
 2283 0134 07EB4703 		add	r3, r7, r7, lsl #1
 2284 0138 26A9     		add	r1, sp, #152
 2285 013a 01EB8303 		add	r3, r1, r3, lsl #2
 2286 013e 43F8842C 		str	r2, [r3, #-132]	@ float
 316:Core/drogui/sensor/imu/src/ICM20948.c **** 			head++, cnt++, head%= tot;
 2287              		.loc 1 316 46 view .LVU593
 2288 0142 B26A     		ldr	r2, [r6, #40]	@ float
 316:Core/drogui/sensor/imu/src/ICM20948.c **** 			head++, cnt++, head%= tot;
 2289              		.loc 1 316 43 view .LVU594
 2290 0144 43F8802C 		str	r2, [r3, #-128]	@ float
 316:Core/drogui/sensor/imu/src/ICM20948.c **** 			head++, cnt++, head%= tot;
 2291              		.loc 1 316 72 view .LVU595
 2292 0148 F26A     		ldr	r2, [r6, #44]	@ float
 316:Core/drogui/sensor/imu/src/ICM20948.c **** 			head++, cnt++, head%= tot;
 2293              		.loc 1 316 69 view .LVU596
 2294 014a 43F87C2C 		str	r2, [r3, #-124]	@ float
 317:Core/drogui/sensor/imu/src/ICM20948.c **** 		}
 2295              		.loc 1 317 4 is_stmt 1 view .LVU597
 317:Core/drogui/sensor/imu/src/ICM20948.c **** 		}
 2296              		.loc 1 317 8 is_stmt 0 view .LVU598
 2297 014e 7B1C     		adds	r3, r7, #1
 2298              	.LVL239:
 317:Core/drogui/sensor/imu/src/ICM20948.c **** 		}
 2299              		.loc 1 317 15 view .LVU599
 2300 0150 0AF1010A 		add	r10, r10, #1
 2301              	.LVL240:
 317:Core/drogui/sensor/imu/src/ICM20948.c **** 		}
 2302              		.loc 1 317 23 view .LVU600
ARM GAS  C:\Users\GUILLE~1\AppData\Local\Temp\ccUunABq.s 			page 50


 2303 0154 854F     		ldr	r7, .L133+36
 2304 0156 87FB0327 		smull	r2, r7, r7, r3
 2305 015a A7EBE377 		sub	r7, r7, r3, asr #31
 2306 015e 07EB4707 		add	r7, r7, r7, lsl #1
 2307 0162 A3EB4707 		sub	r7, r3, r7, lsl #1
 2308              	.LVL241:
 317:Core/drogui/sensor/imu/src/ICM20948.c **** 		}
 2309              		.loc 1 317 23 view .LVU601
 2310 0166 80E7     		b	.L108
 2311              	.LVL242:
 2312              	.L111:
 2313              	.LBB11:
 2314              	.LBB12:
 322:Core/drogui/sensor/imu/src/ICM20948.c **** 
 323:Core/drogui/sensor/imu/src/ICM20948.c **** 			for(int i = 1 ; i <= neq-1; i++){
 324:Core/drogui/sensor/imu/src/ICM20948.c **** 				aux = 0;
 325:Core/drogui/sensor/imu/src/ICM20948.c **** 				for(int j = 0; j < 3; j++){
 326:Core/drogui/sensor/imu/src/ICM20948.c **** 					setMatVal(&A, i-1, j, 2*(acc[(head + i-1)%6][j] - acc[(head + i)%6][j]));
 2315              		.loc 1 326 6 is_stmt 1 discriminator 3 view .LVU602
 2316              		.loc 1 326 41 is_stmt 0 discriminator 3 view .LVU603
 2317 0168 07EB0B02 		add	r2, r7, fp
 2318              		.loc 1 326 44 discriminator 3 view .LVU604
 2319 016c 511E     		subs	r1, r2, #1
 2320              		.loc 1 326 47 discriminator 3 view .LVU605
 2321 016e 7F4B     		ldr	r3, .L133+36
 2322 0170 83FB0104 		smull	r0, r4, r3, r1
 2323 0174 A4EBE174 		sub	r4, r4, r1, asr #31
 2324 0178 04EB4404 		add	r4, r4, r4, lsl #1
 2325 017c A1EB4404 		sub	r4, r1, r4, lsl #1
 2326              		.loc 1 326 50 discriminator 3 view .LVU606
 2327 0180 04EB4404 		add	r4, r4, r4, lsl #1
 2328 0184 2C44     		add	r4, r4, r5
 2329 0186 26A9     		add	r1, sp, #152
 2330 0188 01EB8404 		add	r4, r1, r4, lsl #2
 2331 018c 14ED210A 		vldr.32	s0, [r4, #-132]
 2332              		.loc 1 326 70 discriminator 3 view .LVU607
 2333 0190 83FB0213 		smull	r1, r3, r3, r2
 2334 0194 A3EBE273 		sub	r3, r3, r2, asr #31
 2335 0198 03EB4303 		add	r3, r3, r3, lsl #1
 2336 019c A2EB4303 		sub	r3, r2, r3, lsl #1
 2337              		.loc 1 326 73 discriminator 3 view .LVU608
 2338 01a0 03EB4303 		add	r3, r3, r3, lsl #1
 2339 01a4 03EB0508 		add	r8, r3, r5
 2340 01a8 26AB     		add	r3, sp, #152
 2341 01aa 03EB8808 		add	r8, r3, r8, lsl #2
 2342 01ae 58ED217A 		vldr.32	s15, [r8, #-132]
 2343              		.loc 1 326 54 discriminator 3 view .LVU609
 2344 01b2 30EE670A 		vsub.f32	s0, s0, s15
 2345              		.loc 1 326 6 discriminator 3 view .LVU610
 2346 01b6 30EE000A 		vadd.f32	s0, s0, s0
 2347 01ba 2A46     		mov	r2, r5
 2348 01bc 0BF1FF31 		add	r1, fp, #-1
 2349 01c0 21A8     		add	r0, sp, #132
 2350 01c2 FFF7FEFF 		bl	setMatVal
 2351              	.LVL243:
 327:Core/drogui/sensor/imu/src/ICM20948.c **** 					//x2*x2-x1*x1+y2*y2-y1*y1+z2*z2-z1*z1 = 2*c1*(x1-x2)+2*c2*(y1-y2)+2*c3*(z1-z2)
 328:Core/drogui/sensor/imu/src/ICM20948.c **** 					aux += acc[(head + i)%6][j]*acc[(head + i)%6][j] - acc[(head + i-1)%6][j]*acc[(head + i-1)%6][
ARM GAS  C:\Users\GUILLE~1\AppData\Local\Temp\ccUunABq.s 			page 51


 2352              		.loc 1 328 6 is_stmt 1 discriminator 3 view .LVU611
 2353              		.loc 1 328 30 is_stmt 0 discriminator 3 view .LVU612
 2354 01c6 58ED217A 		vldr.32	s15, [r8, #-132]
 2355              		.loc 1 328 33 discriminator 3 view .LVU613
 2356 01ca 67EEA77A 		vmul.f32	s15, s15, s15
 2357              		.loc 1 328 76 discriminator 3 view .LVU614
 2358 01ce 14ED217A 		vldr.32	s14, [r4, #-132]
 2359              		.loc 1 328 79 discriminator 3 view .LVU615
 2360 01d2 27EE077A 		vmul.f32	s14, s14, s14
 2361              		.loc 1 328 55 discriminator 3 view .LVU616
 2362 01d6 77EEC77A 		vsub.f32	s15, s15, s14
 2363              		.loc 1 328 10 discriminator 3 view .LVU617
 2364 01da 38EE278A 		vadd.f32	s16, s16, s15
 2365              	.LVL244:
 325:Core/drogui/sensor/imu/src/ICM20948.c **** 					setMatVal(&A, i-1, j, 2*(acc[(head + i-1)%6][j] - acc[(head + i)%6][j]));
 2366              		.loc 1 325 27 is_stmt 1 discriminator 3 view .LVU618
 325:Core/drogui/sensor/imu/src/ICM20948.c **** 					setMatVal(&A, i-1, j, 2*(acc[(head + i-1)%6][j] - acc[(head + i)%6][j]));
 2367              		.loc 1 325 28 is_stmt 0 discriminator 3 view .LVU619
 2368 01de 0135     		adds	r5, r5, #1
 2369              	.LVL245:
 2370              	.L112:
 325:Core/drogui/sensor/imu/src/ICM20948.c **** 					setMatVal(&A, i-1, j, 2*(acc[(head + i-1)%6][j] - acc[(head + i)%6][j]));
 2371              		.loc 1 325 20 is_stmt 1 discriminator 1 view .LVU620
 325:Core/drogui/sensor/imu/src/ICM20948.c **** 					setMatVal(&A, i-1, j, 2*(acc[(head + i-1)%6][j] - acc[(head + i)%6][j]));
 2372              		.loc 1 325 5 is_stmt 0 discriminator 1 view .LVU621
 2373 01e0 022D     		cmp	r5, #2
 2374 01e2 C1DD     		ble	.L111
 2375              	.LBE12:
 329:Core/drogui/sensor/imu/src/ICM20948.c **** 				}
 330:Core/drogui/sensor/imu/src/ICM20948.c **** 				setMatVal(&b, i-1, 0, aux);
 2376              		.loc 1 330 5 is_stmt 1 discriminator 2 view .LVU622
 2377 01e4 B0EE480A 		vmov.f32	s0, s16
 2378 01e8 0022     		movs	r2, #0
 2379 01ea 0BF1FF31 		add	r1, fp, #-1
 2380 01ee 1CA8     		add	r0, sp, #112
 2381 01f0 FFF7FEFF 		bl	setMatVal
 2382              	.LVL246:
 323:Core/drogui/sensor/imu/src/ICM20948.c **** 				aux = 0;
 2383              		.loc 1 323 32 discriminator 2 view .LVU623
 323:Core/drogui/sensor/imu/src/ICM20948.c **** 				aux = 0;
 2384              		.loc 1 323 33 is_stmt 0 discriminator 2 view .LVU624
 2385 01f4 0BF1010B 		add	fp, fp, #1
 2386              	.LVL247:
 2387              	.L109:
 323:Core/drogui/sensor/imu/src/ICM20948.c **** 				aux = 0;
 2388              		.loc 1 323 20 is_stmt 1 discriminator 1 view .LVU625
 323:Core/drogui/sensor/imu/src/ICM20948.c **** 				aux = 0;
 2389              		.loc 1 323 4 is_stmt 0 discriminator 1 view .LVU626
 2390 01f8 BBF1030F 		cmp	fp, #3
 2391 01fc 06DC     		bgt	.L132
 2392              	.LBB13:
 325:Core/drogui/sensor/imu/src/ICM20948.c **** 					setMatVal(&A, i-1, j, 2*(acc[(head + i-1)%6][j] - acc[(head + i)%6][j]));
 2393              		.loc 1 325 13 view .LVU627
 2394 01fe 0025     		movs	r5, #0
 2395              	.LBE13:
 324:Core/drogui/sensor/imu/src/ICM20948.c **** 				for(int j = 0; j < 3; j++){
 2396              		.loc 1 324 9 view .LVU628
ARM GAS  C:\Users\GUILLE~1\AppData\Local\Temp\ccUunABq.s 			page 52


 2397 0200 9FED578A 		vldr.32	s16, .L133+24
 2398 0204 ECE7     		b	.L112
 2399              	.LVL248:
 2400              	.L130:
 323:Core/drogui/sensor/imu/src/ICM20948.c **** 				aux = 0;
 2401              		.loc 1 323 12 view .LVU629
 2402 0206 4FF0010B 		mov	fp, #1
 2403 020a F5E7     		b	.L109
 2404              	.LVL249:
 2405              	.L132:
 323:Core/drogui/sensor/imu/src/ICM20948.c **** 				aux = 0;
 2406              		.loc 1 323 12 view .LVU630
 2407              	.LBE11:
 331:Core/drogui/sensor/imu/src/ICM20948.c **** 			}
 332:Core/drogui/sensor/imu/src/ICM20948.c **** 
 333:Core/drogui/sensor/imu/src/ICM20948.c **** 			gaussElimination3x3(&A, &b, &ans);
 2408              		.loc 1 333 4 is_stmt 1 view .LVU631
 2409 020c 17AA     		add	r2, sp, #92
 2410 020e 1CA9     		add	r1, sp, #112
 2411 0210 21A8     		add	r0, sp, #132
 2412 0212 FFF7FEFF 		bl	gaussElimination3x3
 2413              	.LVL250:
 334:Core/drogui/sensor/imu/src/ICM20948.c **** 			aux = 0;
 2414              		.loc 1 334 4 view .LVU632
 335:Core/drogui/sensor/imu/src/ICM20948.c **** 			for(int i = 0; i < 3; i++){
 2415              		.loc 1 335 4 view .LVU633
 2416              	.LBB14:
 2417              		.loc 1 335 8 view .LVU634
 2418              		.loc 1 335 12 is_stmt 0 view .LVU635
 2419 0216 0025     		movs	r5, #0
 2420              	.LBE14:
 334:Core/drogui/sensor/imu/src/ICM20948.c **** 			aux = 0;
 2421              		.loc 1 334 8 view .LVU636
 2422 0218 9FED519A 		vldr.32	s18, .L133+24
 2423              	.LBB15:
 2424              		.loc 1 335 4 view .LVU637
 2425 021c 1CE0     		b	.L113
 2426              	.LVL251:
 2427              	.L114:
 336:Core/drogui/sensor/imu/src/ICM20948.c **** 				aux += (acc[head][i] + getMatVal(&ans, i, 0))*(acc[head][i] + getMatVal(&ans, i, 0));
 2428              		.loc 1 336 5 is_stmt 1 discriminator 3 view .LVU638
 2429              		.loc 1 336 22 is_stmt 0 discriminator 3 view .LVU639
 2430 021e 07EB4704 		add	r4, r7, r7, lsl #1
 2431 0222 2C44     		add	r4, r4, r5
 2432 0224 26AB     		add	r3, sp, #152
 2433 0226 03EB8404 		add	r4, r3, r4, lsl #2
 2434 022a 14ED218A 		vldr.32	s16, [r4, #-132]
 2435              		.loc 1 336 28 discriminator 3 view .LVU640
 2436 022e 0022     		movs	r2, #0
 2437 0230 2946     		mov	r1, r5
 2438 0232 17A8     		add	r0, sp, #92
 2439 0234 FFF7FEFF 		bl	getMatVal
 2440              	.LVL252:
 2441              		.loc 1 336 26 discriminator 3 view .LVU641
 2442 0238 38EE008A 		vadd.f32	s16, s16, s0
 2443              		.loc 1 336 61 discriminator 3 view .LVU642
 2444 023c 54ED218A 		vldr.32	s17, [r4, #-132]
ARM GAS  C:\Users\GUILLE~1\AppData\Local\Temp\ccUunABq.s 			page 53


 2445              		.loc 1 336 67 discriminator 3 view .LVU643
 2446 0240 0022     		movs	r2, #0
 2447 0242 2946     		mov	r1, r5
 2448 0244 17A8     		add	r0, sp, #92
 2449 0246 FFF7FEFF 		bl	getMatVal
 2450              	.LVL253:
 2451              		.loc 1 336 65 discriminator 3 view .LVU644
 2452 024a 78EE808A 		vadd.f32	s17, s17, s0
 2453              		.loc 1 336 50 discriminator 3 view .LVU645
 2454 024e 28EE288A 		vmul.f32	s16, s16, s17
 2455              		.loc 1 336 9 discriminator 3 view .LVU646
 2456 0252 39EE089A 		vadd.f32	s18, s18, s16
 2457              	.LVL254:
 335:Core/drogui/sensor/imu/src/ICM20948.c **** 			for(int i = 0; i < 3; i++){
 2458              		.loc 1 335 26 is_stmt 1 discriminator 3 view .LVU647
 335:Core/drogui/sensor/imu/src/ICM20948.c **** 			for(int i = 0; i < 3; i++){
 2459              		.loc 1 335 27 is_stmt 0 discriminator 3 view .LVU648
 2460 0256 0135     		adds	r5, r5, #1
 2461              	.LVL255:
 2462              	.L113:
 335:Core/drogui/sensor/imu/src/ICM20948.c **** 			for(int i = 0; i < 3; i++){
 2463              		.loc 1 335 19 is_stmt 1 discriminator 1 view .LVU649
 335:Core/drogui/sensor/imu/src/ICM20948.c **** 			for(int i = 0; i < 3; i++){
 2464              		.loc 1 335 4 is_stmt 0 discriminator 1 view .LVU650
 2465 0258 022D     		cmp	r5, #2
 2466 025a E0DD     		ble	.L114
 2467              	.LBE15:
 337:Core/drogui/sensor/imu/src/ICM20948.c **** 			}
 338:Core/drogui/sensor/imu/src/ICM20948.c **** 			scale = sqrt(aux/G/G);
 2468              		.loc 1 338 4 is_stmt 1 view .LVU651
 2469              		.loc 1 338 20 is_stmt 0 view .LVU652
 2470 025c 19EE100A 		vmov	r0, s18
 2471 0260 FFF7FEFF 		bl	__aeabi_f2d
 2472              	.LVL256:
 2473 0264 3AA3     		adr	r3, .L133+8
 2474 0266 D3E90023 		ldrd	r2, [r3]
 2475 026a FFF7FEFF 		bl	__aeabi_ddiv
 2476              	.LVL257:
 2477              		.loc 1 338 12 view .LVU653
 2478 026e 38A3     		adr	r3, .L133+8
 2479 0270 D3E90023 		ldrd	r2, [r3]
 2480 0274 FFF7FEFF 		bl	__aeabi_ddiv
 2481              	.LVL258:
 2482 0278 41EC100B 		vmov	d0, r0, r1
 2483 027c FFF7FEFF 		bl	sqrt
 2484              	.LVL259:
 2485 0280 51EC100B 		vmov	r0, r1, d0
 2486              		.loc 1 338 10 view .LVU654
 2487 0284 FFF7FEFF 		bl	__aeabi_d2f
 2488              	.LVL260:
 2489 0288 09EE900A 		vmov	s19, r0
 2490              	.LVL261:
 339:Core/drogui/sensor/imu/src/ICM20948.c **** 
 340:Core/drogui/sensor/imu/src/ICM20948.c **** 			valid = true;
 2491              		.loc 1 340 4 is_stmt 1 view .LVU655
 341:Core/drogui/sensor/imu/src/ICM20948.c **** 			for(int i = neq ; i <= tot-1; i++){
 2492              		.loc 1 341 4 view .LVU656
ARM GAS  C:\Users\GUILLE~1\AppData\Local\Temp\ccUunABq.s 			page 54


 2493              	.LBB16:
 2494              		.loc 1 341 8 view .LVU657
 2495              		.loc 1 341 12 is_stmt 0 view .LVU658
 2496 028c 0425     		movs	r5, #4
 2497              	.LVL262:
 2498              		.loc 1 341 4 view .LVU659
 2499 028e 4BE0     		b	.L115
 2500              	.LVL263:
 2501              	.L116:
 2502              	.LBB17:
 342:Core/drogui/sensor/imu/src/ICM20948.c **** 				aux = 0;
 343:Core/drogui/sensor/imu/src/ICM20948.c **** 				for(int j= 0; j < 3; j++){
 344:Core/drogui/sensor/imu/src/ICM20948.c **** 					aux += (acc[(head+i)%tot][j] + getMatVal(&ans, j, 0))*(acc[(head+i)%tot][j] + getMatVal(&ans, 
 2503              		.loc 1 344 6 is_stmt 1 discriminator 3 view .LVU660
 2504              		.loc 1 344 23 is_stmt 0 discriminator 3 view .LVU661
 2505 0290 7A19     		adds	r2, r7, r5
 2506              		.loc 1 344 26 discriminator 3 view .LVU662
 2507 0292 364B     		ldr	r3, .L133+36
 2508 0294 83FB0213 		smull	r1, r3, r3, r2
 2509 0298 A3EBE273 		sub	r3, r3, r2, asr #31
 2510 029c 03EB4303 		add	r3, r3, r3, lsl #1
 2511 02a0 A2EB4303 		sub	r3, r2, r3, lsl #1
 2512              		.loc 1 344 31 discriminator 3 view .LVU663
 2513 02a4 03EB4303 		add	r3, r3, r3, lsl #1
 2514 02a8 03EB0804 		add	r4, r3, r8
 2515 02ac 26AB     		add	r3, sp, #152
 2516 02ae 03EB8404 		add	r4, r3, r4, lsl #2
 2517 02b2 14ED218A 		vldr.32	s16, [r4, #-132]
 2518              		.loc 1 344 37 discriminator 3 view .LVU664
 2519 02b6 0022     		movs	r2, #0
 2520 02b8 4146     		mov	r1, r8
 2521 02ba 17A8     		add	r0, sp, #92
 2522 02bc FFF7FEFF 		bl	getMatVal
 2523              	.LVL264:
 2524              		.loc 1 344 35 discriminator 3 view .LVU665
 2525 02c0 38EE008A 		vadd.f32	s16, s16, s0
 2526              		.loc 1 344 78 discriminator 3 view .LVU666
 2527 02c4 54ED218A 		vldr.32	s17, [r4, #-132]
 2528              		.loc 1 344 84 discriminator 3 view .LVU667
 2529 02c8 0022     		movs	r2, #0
 2530 02ca 4146     		mov	r1, r8
 2531 02cc 17A8     		add	r0, sp, #92
 2532 02ce FFF7FEFF 		bl	getMatVal
 2533              	.LVL265:
 2534              		.loc 1 344 82 discriminator 3 view .LVU668
 2535 02d2 78EE808A 		vadd.f32	s17, s17, s0
 2536              		.loc 1 344 59 discriminator 3 view .LVU669
 2537 02d6 28EE288A 		vmul.f32	s16, s16, s17
 2538              		.loc 1 344 10 discriminator 3 view .LVU670
 2539 02da 39EE089A 		vadd.f32	s18, s18, s16
 2540              	.LVL266:
 343:Core/drogui/sensor/imu/src/ICM20948.c **** 					aux += (acc[(head+i)%tot][j] + getMatVal(&ans, j, 0))*(acc[(head+i)%tot][j] + getMatVal(&ans, 
 2541              		.loc 1 343 26 is_stmt 1 discriminator 3 view .LVU671
 343:Core/drogui/sensor/imu/src/ICM20948.c **** 					aux += (acc[(head+i)%tot][j] + getMatVal(&ans, j, 0))*(acc[(head+i)%tot][j] + getMatVal(&ans, 
 2542              		.loc 1 343 27 is_stmt 0 discriminator 3 view .LVU672
 2543 02de 08F10108 		add	r8, r8, #1
 2544              	.LVL267:
ARM GAS  C:\Users\GUILLE~1\AppData\Local\Temp\ccUunABq.s 			page 55


 2545              	.L118:
 343:Core/drogui/sensor/imu/src/ICM20948.c **** 					aux += (acc[(head+i)%tot][j] + getMatVal(&ans, j, 0))*(acc[(head+i)%tot][j] + getMatVal(&ans, 
 2546              		.loc 1 343 19 is_stmt 1 discriminator 1 view .LVU673
 343:Core/drogui/sensor/imu/src/ICM20948.c **** 					aux += (acc[(head+i)%tot][j] + getMatVal(&ans, j, 0))*(acc[(head+i)%tot][j] + getMatVal(&ans, 
 2547              		.loc 1 343 5 is_stmt 0 discriminator 1 view .LVU674
 2548 02e2 B8F1020F 		cmp	r8, #2
 2549 02e6 D3DD     		ble	.L116
 2550              	.LBE17:
 345:Core/drogui/sensor/imu/src/ICM20948.c **** 				}
 346:Core/drogui/sensor/imu/src/ICM20948.c **** 				if(fabs(sqrt(aux/scale/scale) - G) > 0.3){
 2551              		.loc 1 346 5 is_stmt 1 view .LVU675
 2552              		.loc 1 346 21 is_stmt 0 view .LVU676
 2553 02e8 C9EE297A 		vdiv.f32	s15, s18, s19
 2554              		.loc 1 346 13 view .LVU677
 2555 02ec C7EEA97A 		vdiv.f32	s15, s15, s19
 2556 02f0 17EE900A 		vmov	r0, s15
 2557 02f4 FFF7FEFF 		bl	__aeabi_f2d
 2558              	.LVL268:
 2559 02f8 41EC100B 		vmov	d0, r0, r1
 2560 02fc FFF7FEFF 		bl	sqrt
 2561              	.LVL269:
 2562 0300 51EC100B 		vmov	r0, r1, d0
 2563              		.loc 1 346 35 view .LVU678
 2564 0304 12A3     		adr	r3, .L133+8
 2565 0306 D3E90023 		ldrd	r2, [r3]
 2566 030a FFF7FEFF 		bl	__aeabi_dsub
 2567              	.LVL270:
 2568              		.loc 1 346 8 view .LVU679
 2569 030e 0290     		str	r0, [sp, #8]
 2570 0310 21F00043 		bic	r3, r1, #-2147483648
 2571 0314 0393     		str	r3, [sp, #12]
 2572              		.loc 1 346 7 view .LVU680
 2573 0316 10A3     		adr	r3, .L133+16
 2574 0318 D3E90023 		ldrd	r2, [r3]
 2575 031c DDE90201 		ldrd	r0, [sp, #8]
 2576 0320 FFF7FEFF 		bl	__aeabi_dcmpgt
 2577              	.LVL271:
 2578 0324 38B9     		cbnz	r0, .L123
 341:Core/drogui/sensor/imu/src/ICM20948.c **** 				aux = 0;
 2579              		.loc 1 341 34 is_stmt 1 discriminator 2 view .LVU681
 341:Core/drogui/sensor/imu/src/ICM20948.c **** 				aux = 0;
 2580              		.loc 1 341 35 is_stmt 0 discriminator 2 view .LVU682
 2581 0326 0135     		adds	r5, r5, #1
 2582              	.LVL272:
 2583              	.L115:
 341:Core/drogui/sensor/imu/src/ICM20948.c **** 				aux = 0;
 2584              		.loc 1 341 22 is_stmt 1 discriminator 1 view .LVU683
 341:Core/drogui/sensor/imu/src/ICM20948.c **** 				aux = 0;
 2585              		.loc 1 341 4 is_stmt 0 discriminator 1 view .LVU684
 2586 0328 052D     		cmp	r5, #5
 2587 032a 06DC     		bgt	.L117
 2588              	.LBB18:
 343:Core/drogui/sensor/imu/src/ICM20948.c **** 					aux += (acc[(head+i)%tot][j] + getMatVal(&ans, j, 0))*(acc[(head+i)%tot][j] + getMatVal(&ans, 
 2589              		.loc 1 343 13 view .LVU685
 2590 032c 4FF00008 		mov	r8, #0
 2591              	.LBE18:
 342:Core/drogui/sensor/imu/src/ICM20948.c **** 				for(int j= 0; j < 3; j++){
ARM GAS  C:\Users\GUILLE~1\AppData\Local\Temp\ccUunABq.s 			page 56


 2592              		.loc 1 342 9 view .LVU686
 2593 0330 9FED0B9A 		vldr.32	s18, .L133+24
 2594              	.LVL273:
 342:Core/drogui/sensor/imu/src/ICM20948.c **** 				for(int j= 0; j < 3; j++){
 2595              		.loc 1 342 9 view .LVU687
 2596 0334 D5E7     		b	.L118
 2597              	.LVL274:
 2598              	.L123:
 347:Core/drogui/sensor/imu/src/ICM20948.c **** 					//Serial.println(sqrt(aux/scale/scale));
 348:Core/drogui/sensor/imu/src/ICM20948.c **** 					valid = false;
 2599              		.loc 1 348 12 view .LVU688
 2600 0336 DDF80490 		ldr	r9, [sp, #4]
 2601              	.LVL275:
 2602              	.L117:
 2603              		.loc 1 348 12 view .LVU689
 2604              	.LBE16:
 349:Core/drogui/sensor/imu/src/ICM20948.c **** 					break;
 350:Core/drogui/sensor/imu/src/ICM20948.c **** 				}
 351:Core/drogui/sensor/imu/src/ICM20948.c **** 			}
 352:Core/drogui/sensor/imu/src/ICM20948.c **** 			if(valid) done = true;
 2605              		.loc 1 352 4 is_stmt 1 view .LVU690
 2606              		.loc 1 352 6 is_stmt 0 view .LVU691
 2607 033a B9F1000F 		cmp	r9, #0
 2608 033e 3FF4B9AE 		beq	.L103
 2609              		.loc 1 352 19 view .LVU692
 2610 0342 CDF80490 		str	r9, [sp, #4]
 2611              	.LVL276:
 2612              		.loc 1 352 19 view .LVU693
 2613 0346 B5E6     		b	.L103
 2614              	.L134:
 2615              		.align	3
 2616              	.L133:
 2617 0348 00000000 		.word	0
 2618 034c 00001840 		.word	1075314688
 2619 0350 1F85EB51 		.word	1374389535
 2620 0354 B89E2340 		.word	1076076216
 2621 0358 33333333 		.word	858993459
 2622 035c 3333D33F 		.word	1070805811
 2623 0360 00000000 		.word	0
 2624 0364 00005940 		.word	1079574528
 2625 0368 00001C40 		.word	1075576832
 2626 036c ABAAAA2A 		.word	715827883
 2627 0370 00409C45 		.word	1167867904
 2628 0374 00100240 		.word	1073876992
 2629 0378 0000C842 		.word	1120403456
 2630              	.LVL277:
 2631              	.L131:
 353:Core/drogui/sensor/imu/src/ICM20948.c **** 
 354:Core/drogui/sensor/imu/src/ICM20948.c **** 		}
 355:Core/drogui/sensor/imu/src/ICM20948.c **** 	}
 356:Core/drogui/sensor/imu/src/ICM20948.c **** 
 357:Core/drogui/sensor/imu/src/ICM20948.c **** 	m -> off_ax = getMatVal(&ans, 0, 0);
 2632              		.loc 1 357 2 is_stmt 1 view .LVU694
 2633              		.loc 1 357 16 is_stmt 0 view .LVU695
 2634 037c 0022     		movs	r2, #0
 2635 037e 1146     		mov	r1, r2
 2636 0380 17A8     		add	r0, sp, #92
ARM GAS  C:\Users\GUILLE~1\AppData\Local\Temp\ccUunABq.s 			page 57


 2637 0382 FFF7FEFF 		bl	getMatVal
 2638              	.LVL278:
 2639              		.loc 1 357 14 view .LVU696
 2640 0386 86ED180A 		vstr.32	s0, [r6, #96]
 358:Core/drogui/sensor/imu/src/ICM20948.c **** 	m -> off_ay = getMatVal(&ans, 1, 0);
 2641              		.loc 1 358 2 is_stmt 1 view .LVU697
 2642              		.loc 1 358 16 is_stmt 0 view .LVU698
 2643 038a 0022     		movs	r2, #0
 2644 038c 0121     		movs	r1, #1
 2645 038e 17A8     		add	r0, sp, #92
 2646 0390 FFF7FEFF 		bl	getMatVal
 2647              	.LVL279:
 2648              		.loc 1 358 14 view .LVU699
 2649 0394 86ED190A 		vstr.32	s0, [r6, #100]
 359:Core/drogui/sensor/imu/src/ICM20948.c **** 	m -> off_az = getMatVal(&ans, 2, 0);
 2650              		.loc 1 359 2 is_stmt 1 view .LVU700
 2651              		.loc 1 359 16 is_stmt 0 view .LVU701
 2652 0398 0022     		movs	r2, #0
 2653 039a 0221     		movs	r1, #2
 2654 039c 17A8     		add	r0, sp, #92
 2655 039e FFF7FEFF 		bl	getMatVal
 2656              	.LVL280:
 2657              		.loc 1 359 14 view .LVU702
 2658 03a2 86ED1A0A 		vstr.32	s0, [r6, #104]
 360:Core/drogui/sensor/imu/src/ICM20948.c **** 	m -> scl_acc = scale;
 2659              		.loc 1 360 2 is_stmt 1 view .LVU703
 2660              		.loc 1 360 15 is_stmt 0 view .LVU704
 2661 03a6 C6ED1B9A 		vstr.32	s19, [r6, #108]
 361:Core/drogui/sensor/imu/src/ICM20948.c **** 
 362:Core/drogui/sensor/imu/src/ICM20948.c **** 	setReg(CAL_ACC, 100);
 2662              		.loc 1 362 2 is_stmt 1 view .LVU705
 2663 03aa 1FED0D0A 		vldr.32	s0, .L133+48
 2664 03ae 0420     		movs	r0, #4
 2665 03b0 FFF7FEFF 		bl	setReg
 2666              	.LVL281:
 363:Core/drogui/sensor/imu/src/ICM20948.c **** 	setReg(ACC_X_OFF, m->off_ax );
 2667              		.loc 1 363 2 view .LVU706
 2668 03b4 96ED180A 		vldr.32	s0, [r6, #96]
 2669 03b8 1A20     		movs	r0, #26
 2670 03ba FFF7FEFF 		bl	setReg
 2671              	.LVL282:
 364:Core/drogui/sensor/imu/src/ICM20948.c **** 	setReg(ACC_Y_OFF, m->off_ay );
 2672              		.loc 1 364 2 view .LVU707
 2673 03be 96ED190A 		vldr.32	s0, [r6, #100]
 2674 03c2 1C20     		movs	r0, #28
 2675 03c4 FFF7FEFF 		bl	setReg
 2676              	.LVL283:
 365:Core/drogui/sensor/imu/src/ICM20948.c **** 	setReg(ACC_Z_OFF, m->off_az );
 2677              		.loc 1 365 2 view .LVU708
 2678 03c8 96ED1A0A 		vldr.32	s0, [r6, #104]
 2679 03cc 1E20     		movs	r0, #30
 2680 03ce FFF7FEFF 		bl	setReg
 2681              	.LVL284:
 366:Core/drogui/sensor/imu/src/ICM20948.c **** 	setReg(ACC_SCALE, m->scl_acc);
 2682              		.loc 1 366 2 view .LVU709
 2683 03d2 96ED1B0A 		vldr.32	s0, [r6, #108]
 2684 03d6 2020     		movs	r0, #32
ARM GAS  C:\Users\GUILLE~1\AppData\Local\Temp\ccUunABq.s 			page 58


 2685 03d8 FFF7FEFF 		bl	setReg
 2686              	.LVL285:
 367:Core/drogui/sensor/imu/src/ICM20948.c **** 	/*
 368:Core/drogui/sensor/imu/src/ICM20948.c **** 	   char buff[50];
 369:Core/drogui/sensor/imu/src/ICM20948.c **** 
 370:Core/drogui/sensor/imu/src/ICM20948.c **** 	   sprintf(buff, "%f %f %f %f\n", m->off_ax, m->off_ay, m->off_az, m->scl_acc);
 371:Core/drogui/sensor/imu/src/ICM20948.c **** 	   HAL_UART_Transmit(&huart1, (uint8_t *)buff, strlen(buff), 100);*/
 372:Core/drogui/sensor/imu/src/ICM20948.c **** 
 373:Core/drogui/sensor/imu/src/ICM20948.c **** 	matDestruct(&A);
 2687              		.loc 1 373 2 view .LVU710
 2688 03dc 21A8     		add	r0, sp, #132
 2689 03de FFF7FEFF 		bl	matDestruct
 2690              	.LVL286:
 374:Core/drogui/sensor/imu/src/ICM20948.c **** 	matDestruct(&b);
 2691              		.loc 1 374 2 view .LVU711
 2692 03e2 1CA8     		add	r0, sp, #112
 2693 03e4 FFF7FEFF 		bl	matDestruct
 2694              	.LVL287:
 375:Core/drogui/sensor/imu/src/ICM20948.c **** 	matDestruct(&ans);
 2695              		.loc 1 375 2 view .LVU712
 2696 03e8 17A8     		add	r0, sp, #92
 2697 03ea FFF7FEFF 		bl	matDestruct
 2698              	.LVL288:
 376:Core/drogui/sensor/imu/src/ICM20948.c **** }
 2699              		.loc 1 376 1 is_stmt 0 view .LVU713
 2700 03ee 27B0     		add	sp, sp, #156
 2701              	.LCFI38:
 2702              		.cfi_def_cfa_offset 52
 2703              		@ sp needed
 2704 03f0 BDEC048B 		vldm	sp!, {d8-d9}
 2705              	.LCFI39:
 2706              		.cfi_restore 82
 2707              		.cfi_restore 83
 2708              		.cfi_restore 80
 2709              		.cfi_restore 81
 2710              		.cfi_def_cfa_offset 36
 2711 03f4 BDE8F08F 		pop	{r4, r5, r6, r7, r8, r9, r10, fp, pc}
 2712              		.loc 1 376 1 view .LVU714
 2713              		.cfi_endproc
 2714              	.LFE297:
 2716              		.section	.rodata.calibrateMag.str1.4,"aMS",%progbits,1
 2717              		.align	2
 2718              	.LC1:
 2719 0000 2566200A 		.ascii	"%f \012\000"
 2719      00
 2720              		.section	.text.calibrateMag,"ax",%progbits
 2721              		.align	1
 2722              		.global	calibrateMag
 2723              		.syntax unified
 2724              		.thumb
 2725              		.thumb_func
 2726              		.fpu fpv5-sp-d16
 2728              	calibrateMag:
 2729              	.LVL289:
 2730              	.LFB298:
 377:Core/drogui/sensor/imu/src/ICM20948.c **** 
 378:Core/drogui/sensor/imu/src/ICM20948.c **** 
ARM GAS  C:\Users\GUILLE~1\AppData\Local\Temp\ccUunABq.s 			page 59


 379:Core/drogui/sensor/imu/src/ICM20948.c **** void calibrateMag(icm20948* m){
 2731              		.loc 1 379 31 is_stmt 1 view -0
 2732              		.cfi_startproc
 2733              		@ args = 0, pretend = 0, frame = 144
 2734              		@ frame_needed = 1, uses_anonymous_args = 0
 2735              		.loc 1 379 31 is_stmt 0 view .LVU716
 2736 0000 2DE9F047 		push	{r4, r5, r6, r7, r8, r9, r10, lr}
 2737              	.LCFI40:
 2738              		.cfi_def_cfa_offset 32
 2739              		.cfi_offset 4, -32
 2740              		.cfi_offset 5, -28
 2741              		.cfi_offset 6, -24
 2742              		.cfi_offset 7, -20
 2743              		.cfi_offset 8, -16
 2744              		.cfi_offset 9, -12
 2745              		.cfi_offset 10, -8
 2746              		.cfi_offset 14, -4
 2747 0004 2DED048B 		vpush.64	{d8, d9}
 2748              	.LCFI41:
 2749              		.cfi_def_cfa_offset 48
 2750              		.cfi_offset 80, -48
 2751              		.cfi_offset 81, -44
 2752              		.cfi_offset 82, -40
 2753              		.cfi_offset 83, -36
 2754 0008 A4B0     		sub	sp, sp, #144
 2755              	.LCFI42:
 2756              		.cfi_def_cfa_offset 192
 2757 000a 00AF     		add	r7, sp, #0
 2758              	.LCFI43:
 2759              		.cfi_def_cfa_register 7
 2760 000c 0646     		mov	r6, r0
 380:Core/drogui/sensor/imu/src/ICM20948.c **** 
 381:Core/drogui/sensor/imu/src/ICM20948.c **** 	//char aux_buff[50]="";
 382:Core/drogui/sensor/imu/src/ICM20948.c **** 
 383:Core/drogui/sensor/imu/src/ICM20948.c **** 	setReg(CAL_MAG,0);
 2761              		.loc 1 383 2 is_stmt 1 view .LVU717
 2762 000e 9FED6A0A 		vldr.32	s0, .L157+8
 2763 0012 0620     		movs	r0, #6
 2764              	.LVL290:
 2765              		.loc 1 383 2 is_stmt 0 view .LVU718
 2766 0014 FFF7FEFF 		bl	setReg
 2767              	.LVL291:
 384:Core/drogui/sensor/imu/src/ICM20948.c **** 
 385:Core/drogui/sensor/imu/src/ICM20948.c **** 	int head = 0, cnt = 0;
 2768              		.loc 1 385 2 is_stmt 1 view .LVU719
 386:Core/drogui/sensor/imu/src/ICM20948.c **** 	bool done = false, valid;
 2769              		.loc 1 386 2 view .LVU720
 387:Core/drogui/sensor/imu/src/ICM20948.c **** 	const int n = 100;
 2770              		.loc 1 387 2 view .LVU721
 388:Core/drogui/sensor/imu/src/ICM20948.c **** 	float magX, magY, magZ, scaleGlobal = 0.01;
 2771              		.loc 1 388 2 view .LVU722
 389:Core/drogui/sensor/imu/src/ICM20948.c **** 	float mag[n][3];
 2772              		.loc 1 389 2 view .LVU723
 2773              		.loc 1 389 8 is_stmt 0 view .LVU724
 2774 0018 ADF5966D 		sub	sp, sp, #1200
 2775 001c 6D46     		mov	r5, sp
 2776              	.LVL292:
ARM GAS  C:\Users\GUILLE~1\AppData\Local\Temp\ccUunABq.s 			page 60


 390:Core/drogui/sensor/imu/src/ICM20948.c **** 	for(int i = 0; i < n; i++){
 2777              		.loc 1 390 2 is_stmt 1 view .LVU725
 2778              	.LBB19:
 2779              		.loc 1 390 6 view .LVU726
 2780              		.loc 1 390 10 is_stmt 0 view .LVU727
 2781 001e 0021     		movs	r1, #0
 2782              		.loc 1 390 2 view .LVU728
 2783 0020 0AE0     		b	.L136
 2784              	.LVL293:
 2785              	.L137:
 2786              	.LBB20:
 391:Core/drogui/sensor/imu/src/ICM20948.c **** 		for(int j = 0; j < 3; j++){
 392:Core/drogui/sensor/imu/src/ICM20948.c **** 			mag[i][j] = 0;
 2787              		.loc 1 392 4 is_stmt 1 discriminator 3 view .LVU729
 2788              		.loc 1 392 14 is_stmt 0 discriminator 3 view .LVU730
 2789 0022 01EB4103 		add	r3, r1, r1, lsl #1
 2790 0026 1344     		add	r3, r3, r2
 2791 0028 05EB8303 		add	r3, r5, r3, lsl #2
 2792 002c 0020     		movs	r0, #0
 2793 002e 1860     		str	r0, [r3]	@ float
 391:Core/drogui/sensor/imu/src/ICM20948.c **** 		for(int j = 0; j < 3; j++){
 2794              		.loc 1 391 25 is_stmt 1 discriminator 3 view .LVU731
 391:Core/drogui/sensor/imu/src/ICM20948.c **** 		for(int j = 0; j < 3; j++){
 2795              		.loc 1 391 26 is_stmt 0 discriminator 3 view .LVU732
 2796 0030 0132     		adds	r2, r2, #1
 2797              	.LVL294:
 2798              	.L138:
 391:Core/drogui/sensor/imu/src/ICM20948.c **** 		for(int j = 0; j < 3; j++){
 2799              		.loc 1 391 18 is_stmt 1 discriminator 1 view .LVU733
 391:Core/drogui/sensor/imu/src/ICM20948.c **** 		for(int j = 0; j < 3; j++){
 2800              		.loc 1 391 3 is_stmt 0 discriminator 1 view .LVU734
 2801 0032 022A     		cmp	r2, #2
 2802 0034 F5DD     		ble	.L137
 2803              	.LBE20:
 390:Core/drogui/sensor/imu/src/ICM20948.c **** 	for(int i = 0; i < n; i++){
 2804              		.loc 1 390 24 is_stmt 1 discriminator 2 view .LVU735
 390:Core/drogui/sensor/imu/src/ICM20948.c **** 	for(int i = 0; i < n; i++){
 2805              		.loc 1 390 25 is_stmt 0 discriminator 2 view .LVU736
 2806 0036 0131     		adds	r1, r1, #1
 2807              	.LVL295:
 2808              	.L136:
 390:Core/drogui/sensor/imu/src/ICM20948.c **** 	for(int i = 0; i < n; i++){
 2809              		.loc 1 390 17 is_stmt 1 discriminator 1 view .LVU737
 390:Core/drogui/sensor/imu/src/ICM20948.c **** 	for(int i = 0; i < n; i++){
 2810              		.loc 1 390 2 is_stmt 0 discriminator 1 view .LVU738
 2811 0038 6329     		cmp	r1, #99
 2812 003a 01DC     		bgt	.L152
 2813              	.LBB21:
 391:Core/drogui/sensor/imu/src/ICM20948.c **** 		for(int j = 0; j < 3; j++){
 2814              		.loc 1 391 11 view .LVU739
 2815 003c 0022     		movs	r2, #0
 2816 003e F8E7     		b	.L138
 2817              	.L152:
 2818              	.LBE21:
 2819              	.LBE19:
 386:Core/drogui/sensor/imu/src/ICM20948.c **** 	const int n = 100;
 2820              		.loc 1 386 7 view .LVU740
ARM GAS  C:\Users\GUILLE~1\AppData\Local\Temp\ccUunABq.s 			page 61


 2821 0040 4FF0000A 		mov	r10, #0
 385:Core/drogui/sensor/imu/src/ICM20948.c **** 	bool done = false, valid;
 2822              		.loc 1 385 16 view .LVU741
 2823 0044 D046     		mov	r8, r10
 385:Core/drogui/sensor/imu/src/ICM20948.c **** 	bool done = false, valid;
 2824              		.loc 1 385 6 view .LVU742
 2825 0046 D146     		mov	r9, r10
 2826 0048 17E0     		b	.L139
 2827              	.LVL296:
 2828              	.L156:
 393:Core/drogui/sensor/imu/src/ICM20948.c **** 		}
 394:Core/drogui/sensor/imu/src/ICM20948.c **** 	}
 395:Core/drogui/sensor/imu/src/ICM20948.c **** 
 396:Core/drogui/sensor/imu/src/ICM20948.c **** 	while (!done){
 397:Core/drogui/sensor/imu/src/ICM20948.c **** 		HAL_Delay(100);
 398:Core/drogui/sensor/imu/src/ICM20948.c **** 		readRawMag(m);
 399:Core/drogui/sensor/imu/src/ICM20948.c **** 		magX = m->raw_mx*scaleGlobal;
 400:Core/drogui/sensor/imu/src/ICM20948.c **** 		magY = m->raw_my*scaleGlobal;
 401:Core/drogui/sensor/imu/src/ICM20948.c **** 		magZ = m->raw_mz*scaleGlobal;
 402:Core/drogui/sensor/imu/src/ICM20948.c **** 
 403:Core/drogui/sensor/imu/src/ICM20948.c **** 		//sprintf(aux_buff, "%f %f %f\n", m->raw_mx, m->raw_my, m->raw_mz);
 404:Core/drogui/sensor/imu/src/ICM20948.c **** 		//HAL_UART_Transmit(&huart2, (uint8_t*) aux_buff, strlen(aux_buff), 100);
 405:Core/drogui/sensor/imu/src/ICM20948.c **** 		valid = true;
 2829              		.loc 1 405 9 view .LVU743
 2830 004a 0123     		movs	r3, #1
 2831              	.L141:
 2832              	.LVL297:
 406:Core/drogui/sensor/imu/src/ICM20948.c **** 		for(int i = 1 ; i <= cnt ; i++){
 407:Core/drogui/sensor/imu/src/ICM20948.c **** 			int j = (head - i + n) % n;
 408:Core/drogui/sensor/imu/src/ICM20948.c **** 			float d = dis3d(magX, magY, magZ, mag[j][0], mag[j][1], mag[j][2]);
 409:Core/drogui/sensor/imu/src/ICM20948.c **** 
 410:Core/drogui/sensor/imu/src/ICM20948.c **** 			serialPrintf(SER_DBG, "%f \n", d);
 411:Core/drogui/sensor/imu/src/ICM20948.c **** 			//HAL_UART_Transmit(&huart2, (uint8_t*) aux_buff, strlen(aux_buff), 100);
 412:Core/drogui/sensor/imu/src/ICM20948.c **** 
 413:Core/drogui/sensor/imu/src/ICM20948.c **** 			if(d < 20*scaleGlobal){
 414:Core/drogui/sensor/imu/src/ICM20948.c **** 				valid = false; break;
 415:Core/drogui/sensor/imu/src/ICM20948.c **** 			}
 416:Core/drogui/sensor/imu/src/ICM20948.c **** 		}
 417:Core/drogui/sensor/imu/src/ICM20948.c **** 		if(valid){
 2833              		.loc 1 417 3 is_stmt 1 view .LVU744
 2834              		.loc 1 417 5 is_stmt 0 view .LVU745
 2835 004c 002B     		cmp	r3, #0
 2836 004e 63D1     		bne	.L153
 2837              	.LVL298:
 2838              	.L143:
 418:Core/drogui/sensor/imu/src/ICM20948.c **** 			HAL_GPIO_TogglePin(LED1_GPIO_Port, LED1_Pin);
 419:Core/drogui/sensor/imu/src/ICM20948.c **** 
 420:Core/drogui/sensor/imu/src/ICM20948.c **** 			mag[head][0] = magX, mag[head][1] = magY, mag[head][2] = magZ;
 421:Core/drogui/sensor/imu/src/ICM20948.c **** 			head++, cnt++, head%= n;
 422:Core/drogui/sensor/imu/src/ICM20948.c **** 		}
 423:Core/drogui/sensor/imu/src/ICM20948.c **** 		setReg(CAL_MAG, fmin(cnt, 99.0));
 2839              		.loc 1 423 3 is_stmt 1 view .LVU746
 2840              		.loc 1 423 19 is_stmt 0 view .LVU747
 2841 0050 4046     		mov	r0, r8
 2842 0052 FFF7FEFF 		bl	__aeabi_i2d
 2843              	.LVL299:
 2844 0056 9FED561B 		vldr.64	d1, .L157
ARM GAS  C:\Users\GUILLE~1\AppData\Local\Temp\ccUunABq.s 			page 62


 2845 005a 41EC100B 		vmov	d0, r0, r1
 2846 005e FFF7FEFF 		bl	fmin
 2847              	.LVL300:
 2848 0062 51EC100B 		vmov	r0, r1, d0
 2849              		.loc 1 423 3 view .LVU748
 2850 0066 FFF7FEFF 		bl	__aeabi_d2f
 2851              	.LVL301:
 2852 006a 00EE100A 		vmov	s0, r0
 2853 006e 0620     		movs	r0, #6
 2854 0070 FFF7FEFF 		bl	setReg
 2855              	.LVL302:
 424:Core/drogui/sensor/imu/src/ICM20948.c **** 
 425:Core/drogui/sensor/imu/src/ICM20948.c **** 		//sprintf(aux_buff, "%d\n", cnt);
 426:Core/drogui/sensor/imu/src/ICM20948.c **** 		//HAL_UART_Transmit(&huart2, (uint8_t*) aux_buff, strlen(aux_buff), 100);
 427:Core/drogui/sensor/imu/src/ICM20948.c **** 
 428:Core/drogui/sensor/imu/src/ICM20948.c **** 		if(cnt == n){done = true;}
 2856              		.loc 1 428 3 is_stmt 1 view .LVU749
 2857              		.loc 1 428 5 is_stmt 0 view .LVU750
 2858 0074 B8F1640F 		cmp	r8, #100
 2859 0078 6BD0     		beq	.L154
 2860              	.LVL303:
 2861              	.L139:
 396:Core/drogui/sensor/imu/src/ICM20948.c **** 		HAL_Delay(100);
 2862              		.loc 1 396 8 is_stmt 1 view .LVU751
 2863 007a BAF1000F 		cmp	r10, #0
 2864 007e 6BD1     		bne	.L155
 397:Core/drogui/sensor/imu/src/ICM20948.c **** 		readRawMag(m);
 2865              		.loc 1 397 3 view .LVU752
 2866 0080 6420     		movs	r0, #100
 2867 0082 FFF7FEFF 		bl	HAL_Delay
 2868              	.LVL304:
 398:Core/drogui/sensor/imu/src/ICM20948.c **** 		magX = m->raw_mx*scaleGlobal;
 2869              		.loc 1 398 3 view .LVU753
 2870 0086 3046     		mov	r0, r6
 2871 0088 FFF7FEFF 		bl	readRawMag
 2872              	.LVL305:
 399:Core/drogui/sensor/imu/src/ICM20948.c **** 		magY = m->raw_my*scaleGlobal;
 2873              		.loc 1 399 3 view .LVU754
 399:Core/drogui/sensor/imu/src/ICM20948.c **** 		magY = m->raw_my*scaleGlobal;
 2874              		.loc 1 399 11 is_stmt 0 view .LVU755
 2875 008c D6ED0F9A 		vldr.32	s19, [r6, #60]
 399:Core/drogui/sensor/imu/src/ICM20948.c **** 		magY = m->raw_my*scaleGlobal;
 2876              		.loc 1 399 8 view .LVU756
 2877 0090 DFED4F7A 		vldr.32	s15, .L157+32
 2878 0094 69EEA79A 		vmul.f32	s19, s19, s15
 2879              	.LVL306:
 400:Core/drogui/sensor/imu/src/ICM20948.c **** 		magZ = m->raw_mz*scaleGlobal;
 2880              		.loc 1 400 3 is_stmt 1 view .LVU757
 400:Core/drogui/sensor/imu/src/ICM20948.c **** 		magZ = m->raw_mz*scaleGlobal;
 2881              		.loc 1 400 11 is_stmt 0 view .LVU758
 2882 0098 96ED109A 		vldr.32	s18, [r6, #64]
 400:Core/drogui/sensor/imu/src/ICM20948.c **** 		magZ = m->raw_mz*scaleGlobal;
 2883              		.loc 1 400 8 view .LVU759
 2884 009c 29EE279A 		vmul.f32	s18, s18, s15
 2885              	.LVL307:
 401:Core/drogui/sensor/imu/src/ICM20948.c **** 
 2886              		.loc 1 401 3 is_stmt 1 view .LVU760
ARM GAS  C:\Users\GUILLE~1\AppData\Local\Temp\ccUunABq.s 			page 63


 401:Core/drogui/sensor/imu/src/ICM20948.c **** 
 2887              		.loc 1 401 11 is_stmt 0 view .LVU761
 2888 00a0 D6ED118A 		vldr.32	s17, [r6, #68]
 401:Core/drogui/sensor/imu/src/ICM20948.c **** 
 2889              		.loc 1 401 8 view .LVU762
 2890 00a4 68EEA78A 		vmul.f32	s17, s17, s15
 2891              	.LVL308:
 405:Core/drogui/sensor/imu/src/ICM20948.c **** 		for(int i = 1 ; i <= cnt ; i++){
 2892              		.loc 1 405 3 is_stmt 1 view .LVU763
 406:Core/drogui/sensor/imu/src/ICM20948.c **** 			int j = (head - i + n) % n;
 2893              		.loc 1 406 3 view .LVU764
 2894              	.LBB22:
 406:Core/drogui/sensor/imu/src/ICM20948.c **** 			int j = (head - i + n) % n;
 2895              		.loc 1 406 7 view .LVU765
 406:Core/drogui/sensor/imu/src/ICM20948.c **** 			int j = (head - i + n) % n;
 2896              		.loc 1 406 11 is_stmt 0 view .LVU766
 2897 00a8 0124     		movs	r4, #1
 2898              	.LVL309:
 2899              	.L140:
 406:Core/drogui/sensor/imu/src/ICM20948.c **** 			int j = (head - i + n) % n;
 2900              		.loc 1 406 19 is_stmt 1 discriminator 1 view .LVU767
 406:Core/drogui/sensor/imu/src/ICM20948.c **** 			int j = (head - i + n) % n;
 2901              		.loc 1 406 3 is_stmt 0 discriminator 1 view .LVU768
 2902 00aa A045     		cmp	r8, r4
 2903 00ac CDDB     		blt	.L156
 2904              	.LBB23:
 407:Core/drogui/sensor/imu/src/ICM20948.c **** 			float d = dis3d(magX, magY, magZ, mag[j][0], mag[j][1], mag[j][2]);
 2905              		.loc 1 407 4 is_stmt 1 view .LVU769
 407:Core/drogui/sensor/imu/src/ICM20948.c **** 			float d = dis3d(magX, magY, magZ, mag[j][0], mag[j][1], mag[j][2]);
 2906              		.loc 1 407 18 is_stmt 0 view .LVU770
 2907 00ae A9EB0402 		sub	r2, r9, r4
 407:Core/drogui/sensor/imu/src/ICM20948.c **** 			float d = dis3d(magX, magY, magZ, mag[j][0], mag[j][1], mag[j][2]);
 2908              		.loc 1 407 22 view .LVU771
 2909 00b2 6432     		adds	r2, r2, #100
 407:Core/drogui/sensor/imu/src/ICM20948.c **** 			float d = dis3d(magX, magY, magZ, mag[j][0], mag[j][1], mag[j][2]);
 2910              		.loc 1 407 8 view .LVU772
 2911 00b4 4149     		ldr	r1, .L157+12
 2912 00b6 81FB0231 		smull	r3, r1, r1, r2
 2913 00ba D317     		asrs	r3, r2, #31
 2914 00bc C3EB6113 		rsb	r3, r3, r1, asr #5
 2915 00c0 6421     		movs	r1, #100
 2916 00c2 01FB1323 		mls	r3, r1, r3, r2
 2917              	.LVL310:
 408:Core/drogui/sensor/imu/src/ICM20948.c **** 
 2918              		.loc 1 408 4 is_stmt 1 view .LVU773
 408:Core/drogui/sensor/imu/src/ICM20948.c **** 
 2919              		.loc 1 408 14 is_stmt 0 view .LVU774
 2920 00c6 03EB4302 		add	r2, r3, r3, lsl #1
 2921 00ca 05EB8202 		add	r2, r5, r2, lsl #2
 2922 00ce D2ED022A 		vldr.32	s5, [r2, #8]
 2923 00d2 92ED012A 		vldr.32	s4, [r2, #4]
 2924 00d6 D2ED001A 		vldr.32	s3, [r2]
 2925 00da B0EE681A 		vmov.f32	s2, s17
 2926 00de F0EE490A 		vmov.f32	s1, s18
 2927 00e2 B0EE690A 		vmov.f32	s0, s19
 2928 00e6 FFF7FEFF 		bl	dis3d
 2929              	.LVL311:
ARM GAS  C:\Users\GUILLE~1\AppData\Local\Temp\ccUunABq.s 			page 64


 408:Core/drogui/sensor/imu/src/ICM20948.c **** 
 2930              		.loc 1 408 14 view .LVU775
 2931 00ea B0EE408A 		vmov.f32	s16, s0
 2932              	.LVL312:
 410:Core/drogui/sensor/imu/src/ICM20948.c **** 			//HAL_UART_Transmit(&huart2, (uint8_t*) aux_buff, strlen(aux_buff), 100);
 2933              		.loc 1 410 4 is_stmt 1 view .LVU776
 2934 00ee 10EE100A 		vmov	r0, s0
 2935 00f2 FFF7FEFF 		bl	__aeabi_f2d
 2936              	.LVL313:
 410:Core/drogui/sensor/imu/src/ICM20948.c **** 			//HAL_UART_Transmit(&huart2, (uint8_t*) aux_buff, strlen(aux_buff), 100);
 2937              		.loc 1 410 4 is_stmt 0 view .LVU777
 2938 00f6 0246     		mov	r2, r0
 2939 00f8 0B46     		mov	r3, r1
 2940 00fa 3149     		ldr	r1, .L157+16
 2941 00fc 3148     		ldr	r0, .L157+20
 2942 00fe FFF7FEFF 		bl	serialPrintf
 2943              	.LVL314:
 413:Core/drogui/sensor/imu/src/ICM20948.c **** 				valid = false; break;
 2944              		.loc 1 413 4 is_stmt 1 view .LVU778
 413:Core/drogui/sensor/imu/src/ICM20948.c **** 				valid = false; break;
 2945              		.loc 1 413 6 is_stmt 0 view .LVU779
 2946 0102 DFED317A 		vldr.32	s15, .L157+24
 2947 0106 B4EEE78A 		vcmpe.f32	s16, s15
 2948 010a F1EE10FA 		vmrs	APSR_nzcv, FPSCR
 2949 010e 01D4     		bmi	.L149
 2950              	.LBE23:
 406:Core/drogui/sensor/imu/src/ICM20948.c **** 			int j = (head - i + n) % n;
 2951              		.loc 1 406 30 is_stmt 1 discriminator 2 view .LVU780
 406:Core/drogui/sensor/imu/src/ICM20948.c **** 			int j = (head - i + n) % n;
 2952              		.loc 1 406 31 is_stmt 0 discriminator 2 view .LVU781
 2953 0110 0134     		adds	r4, r4, #1
 2954              	.LVL315:
 406:Core/drogui/sensor/imu/src/ICM20948.c **** 			int j = (head - i + n) % n;
 2955              		.loc 1 406 31 discriminator 2 view .LVU782
 2956 0112 CAE7     		b	.L140
 2957              	.LVL316:
 2958              	.L149:
 2959              	.LBB24:
 414:Core/drogui/sensor/imu/src/ICM20948.c **** 			}
 2960              		.loc 1 414 11 view .LVU783
 2961 0114 5346     		mov	r3, r10
 2962 0116 99E7     		b	.L141
 2963              	.LVL317:
 2964              	.L153:
 414:Core/drogui/sensor/imu/src/ICM20948.c **** 			}
 2965              		.loc 1 414 11 view .LVU784
 2966              	.LBE24:
 2967              	.LBE22:
 418:Core/drogui/sensor/imu/src/ICM20948.c **** 
 2968              		.loc 1 418 4 is_stmt 1 view .LVU785
 2969 0118 0421     		movs	r1, #4
 2970 011a 2C48     		ldr	r0, .L157+28
 2971 011c FFF7FEFF 		bl	HAL_GPIO_TogglePin
 2972              	.LVL318:
 420:Core/drogui/sensor/imu/src/ICM20948.c **** 			head++, cnt++, head%= n;
 2973              		.loc 1 420 4 view .LVU786
 420:Core/drogui/sensor/imu/src/ICM20948.c **** 			head++, cnt++, head%= n;
ARM GAS  C:\Users\GUILLE~1\AppData\Local\Temp\ccUunABq.s 			page 65


 2974              		.loc 1 420 17 is_stmt 0 view .LVU787
 2975 0120 09EB4903 		add	r3, r9, r9, lsl #1
 2976 0124 05EB8303 		add	r3, r5, r3, lsl #2
 2977 0128 C3ED009A 		vstr.32	s19, [r3]
 420:Core/drogui/sensor/imu/src/ICM20948.c **** 			head++, cnt++, head%= n;
 2978              		.loc 1 420 38 view .LVU788
 2979 012c 83ED019A 		vstr.32	s18, [r3, #4]
 420:Core/drogui/sensor/imu/src/ICM20948.c **** 			head++, cnt++, head%= n;
 2980              		.loc 1 420 59 view .LVU789
 2981 0130 C3ED028A 		vstr.32	s17, [r3, #8]
 421:Core/drogui/sensor/imu/src/ICM20948.c **** 		}
 2982              		.loc 1 421 4 is_stmt 1 view .LVU790
 421:Core/drogui/sensor/imu/src/ICM20948.c **** 		}
 2983              		.loc 1 421 8 is_stmt 0 view .LVU791
 2984 0134 09F10103 		add	r3, r9, #1
 2985              	.LVL319:
 421:Core/drogui/sensor/imu/src/ICM20948.c **** 		}
 2986              		.loc 1 421 15 view .LVU792
 2987 0138 08F10108 		add	r8, r8, #1
 2988              	.LVL320:
 421:Core/drogui/sensor/imu/src/ICM20948.c **** 		}
 2989              		.loc 1 421 23 view .LVU793
 2990 013c 1F4A     		ldr	r2, .L157+12
 2991 013e 82FB0312 		smull	r1, r2, r2, r3
 2992 0142 4FEAE379 		asr	r9, r3, #31
 2993 0146 C9EB6219 		rsb	r9, r9, r2, asr #5
 2994 014a 6422     		movs	r2, #100
 2995 014c 02FB1939 		mls	r9, r2, r9, r3
 2996              	.LVL321:
 421:Core/drogui/sensor/imu/src/ICM20948.c **** 		}
 2997              		.loc 1 421 23 view .LVU794
 2998 0150 7EE7     		b	.L143
 2999              	.L154:
 3000              		.loc 1 428 21 view .LVU795
 3001 0152 4FF0010A 		mov	r10, #1
 3002              	.LVL322:
 3003              		.loc 1 428 21 view .LVU796
 3004 0156 90E7     		b	.L139
 3005              	.LVL323:
 3006              	.L155:
 429:Core/drogui/sensor/imu/src/ICM20948.c **** 	}
 430:Core/drogui/sensor/imu/src/ICM20948.c **** 
 431:Core/drogui/sensor/imu/src/ICM20948.c **** 	mat H, Ht, w, prod, prod2, X, inverse;
 3007              		.loc 1 431 2 is_stmt 1 view .LVU797
 432:Core/drogui/sensor/imu/src/ICM20948.c **** 	matInit(&H, n, 6);
 3008              		.loc 1 432 2 view .LVU798
 3009 0158 0622     		movs	r2, #6
 3010 015a 6421     		movs	r1, #100
 3011 015c 07F17C00 		add	r0, r7, #124
 3012 0160 FFF7FEFF 		bl	matInit
 3013              	.LVL324:
 433:Core/drogui/sensor/imu/src/ICM20948.c **** 	matInit(&Ht, 6, n);
 3014              		.loc 1 433 2 view .LVU799
 3015 0164 6422     		movs	r2, #100
 3016 0166 0621     		movs	r1, #6
 3017 0168 07F16800 		add	r0, r7, #104
 3018 016c FFF7FEFF 		bl	matInit
ARM GAS  C:\Users\GUILLE~1\AppData\Local\Temp\ccUunABq.s 			page 66


 3019              	.LVL325:
 434:Core/drogui/sensor/imu/src/ICM20948.c **** 	matInit(&prod, 6, 6);
 3020              		.loc 1 434 2 view .LVU800
 3021 0170 0622     		movs	r2, #6
 3022 0172 1146     		mov	r1, r2
 3023 0174 07F14000 		add	r0, r7, #64
 3024 0178 FFF7FEFF 		bl	matInit
 3025              	.LVL326:
 435:Core/drogui/sensor/imu/src/ICM20948.c **** 	matInit(&prod2, 6, n);
 3026              		.loc 1 435 2 view .LVU801
 3027 017c 6422     		movs	r2, #100
 3028 017e 0621     		movs	r1, #6
 3029 0180 07F12C00 		add	r0, r7, #44
 3030 0184 FFF7FEFF 		bl	matInit
 3031              	.LVL327:
 436:Core/drogui/sensor/imu/src/ICM20948.c **** 	matInit(&inverse, 6, 6);
 3032              		.loc 1 436 2 view .LVU802
 3033 0188 0622     		movs	r2, #6
 3034 018a 1146     		mov	r1, r2
 3035 018c 381D     		adds	r0, r7, #4
 3036 018e FFF7FEFF 		bl	matInit
 3037              	.LVL328:
 437:Core/drogui/sensor/imu/src/ICM20948.c **** 	matInit(&w, n, 1);
 3038              		.loc 1 437 2 view .LVU803
 3039 0192 0122     		movs	r2, #1
 3040 0194 6421     		movs	r1, #100
 3041 0196 07F15400 		add	r0, r7, #84
 3042 019a FFF7FEFF 		bl	matInit
 3043              	.LVL329:
 438:Core/drogui/sensor/imu/src/ICM20948.c **** 	matInit(&X, 6, 1);
 3044              		.loc 1 438 2 view .LVU804
 3045 019e 0122     		movs	r2, #1
 3046 01a0 0621     		movs	r1, #6
 3047 01a2 07F11800 		add	r0, r7, #24
 3048 01a6 FFF7FEFF 		bl	matInit
 3049              	.LVL330:
 439:Core/drogui/sensor/imu/src/ICM20948.c **** 
 440:Core/drogui/sensor/imu/src/ICM20948.c **** 
 441:Core/drogui/sensor/imu/src/ICM20948.c **** 	for(int i = 0; i < n; i++){
 3050              		.loc 1 441 2 view .LVU805
 3051              	.LBB25:
 3052              		.loc 1 441 6 view .LVU806
 3053              		.loc 1 441 10 is_stmt 0 view .LVU807
 3054 01aa 0024     		movs	r4, #0
 3055              		.loc 1 441 2 view .LVU808
 3056 01ac 55E0     		b	.L146
 3057              	.L158:
 3058 01ae 00BF     		.align	3
 3059              	.L157:
 3060 01b0 00000000 		.word	0
 3061 01b4 00C05840 		.word	1079558144
 3062 01b8 00000000 		.word	0
 3063 01bc 1F85EB51 		.word	1374389535
 3064 01c0 00000000 		.word	.LC1
 3065 01c4 00000000 		.word	serial3
 3066 01c8 CCCC4C3E 		.word	1045220556
 3067 01cc 00100240 		.word	1073876992
ARM GAS  C:\Users\GUILLE~1\AppData\Local\Temp\ccUunABq.s 			page 67


 3068 01d0 0AD7233C 		.word	1008981770
 3069              	.LVL331:
 3070              	.L147:
 442:Core/drogui/sensor/imu/src/ICM20948.c **** 		setMatVal(&H, i, 0, mag[i][0]);
 3071              		.loc 1 442 3 is_stmt 1 discriminator 3 view .LVU809
 3072 01d4 04EB4408 		add	r8, r4, r4, lsl #1
 3073 01d8 05EB8808 		add	r8, r5, r8, lsl #2
 3074 01dc 98ED000A 		vldr.32	s0, [r8]
 3075 01e0 0022     		movs	r2, #0
 3076 01e2 2146     		mov	r1, r4
 3077 01e4 07F17C00 		add	r0, r7, #124
 3078 01e8 FFF7FEFF 		bl	setMatVal
 3079              	.LVL332:
 443:Core/drogui/sensor/imu/src/ICM20948.c **** 		setMatVal(&H, i, 1, mag[i][1]);
 3080              		.loc 1 443 3 discriminator 3 view .LVU810
 3081 01ec 98ED010A 		vldr.32	s0, [r8, #4]
 3082 01f0 0122     		movs	r2, #1
 3083 01f2 2146     		mov	r1, r4
 3084 01f4 07F17C00 		add	r0, r7, #124
 3085 01f8 FFF7FEFF 		bl	setMatVal
 3086              	.LVL333:
 444:Core/drogui/sensor/imu/src/ICM20948.c **** 		setMatVal(&H, i, 2, mag[i][2]);
 3087              		.loc 1 444 3 discriminator 3 view .LVU811
 3088 01fc 98ED020A 		vldr.32	s0, [r8, #8]
 3089 0200 0222     		movs	r2, #2
 3090 0202 2146     		mov	r1, r4
 3091 0204 07F17C00 		add	r0, r7, #124
 3092 0208 FFF7FEFF 		bl	setMatVal
 3093              	.LVL334:
 445:Core/drogui/sensor/imu/src/ICM20948.c **** 		setMatVal(&H, i, 3, -mag[i][1]*mag[i][1]);
 3094              		.loc 1 445 3 discriminator 3 view .LVU812
 3095              		.loc 1 445 30 is_stmt 0 discriminator 3 view .LVU813
 3096 020c 98ED010A 		vldr.32	s0, [r8, #4]
 3097              		.loc 1 445 3 discriminator 3 view .LVU814
 3098 0210 20EE400A 		vnmul.f32	s0, s0, s0
 3099 0214 0322     		movs	r2, #3
 3100 0216 2146     		mov	r1, r4
 3101 0218 07F17C00 		add	r0, r7, #124
 3102 021c FFF7FEFF 		bl	setMatVal
 3103              	.LVL335:
 446:Core/drogui/sensor/imu/src/ICM20948.c **** 		setMatVal(&H, i, 4, -mag[i][2]*mag[i][2]);
 3104              		.loc 1 446 3 is_stmt 1 discriminator 3 view .LVU815
 3105              		.loc 1 446 30 is_stmt 0 discriminator 3 view .LVU816
 3106 0220 98ED020A 		vldr.32	s0, [r8, #8]
 3107              		.loc 1 446 3 discriminator 3 view .LVU817
 3108 0224 20EE400A 		vnmul.f32	s0, s0, s0
 3109 0228 0422     		movs	r2, #4
 3110 022a 2146     		mov	r1, r4
 3111 022c 07F17C00 		add	r0, r7, #124
 3112 0230 FFF7FEFF 		bl	setMatVal
 3113              	.LVL336:
 447:Core/drogui/sensor/imu/src/ICM20948.c **** 		setMatVal(&H, i, 5, 1);
 3114              		.loc 1 447 3 is_stmt 1 discriminator 3 view .LVU818
 3115 0234 B7EE000A 		vmov.f32	s0, #1.0e+0
 3116 0238 0522     		movs	r2, #5
 3117 023a 2146     		mov	r1, r4
 3118 023c 07F17C00 		add	r0, r7, #124
ARM GAS  C:\Users\GUILLE~1\AppData\Local\Temp\ccUunABq.s 			page 68


 3119 0240 FFF7FEFF 		bl	setMatVal
 3120              	.LVL337:
 448:Core/drogui/sensor/imu/src/ICM20948.c **** 
 449:Core/drogui/sensor/imu/src/ICM20948.c **** 		setMatVal(&w, i, 0, mag[i][0]*mag[i][0]);
 3121              		.loc 1 449 3 discriminator 3 view .LVU819
 3122              		.loc 1 449 29 is_stmt 0 discriminator 3 view .LVU820
 3123 0244 98ED000A 		vldr.32	s0, [r8]
 3124              		.loc 1 449 3 discriminator 3 view .LVU821
 3125 0248 20EE000A 		vmul.f32	s0, s0, s0
 3126 024c 0022     		movs	r2, #0
 3127 024e 2146     		mov	r1, r4
 3128 0250 07F15400 		add	r0, r7, #84
 3129 0254 FFF7FEFF 		bl	setMatVal
 3130              	.LVL338:
 441:Core/drogui/sensor/imu/src/ICM20948.c **** 		setMatVal(&H, i, 0, mag[i][0]);
 3131              		.loc 1 441 24 is_stmt 1 discriminator 3 view .LVU822
 441:Core/drogui/sensor/imu/src/ICM20948.c **** 		setMatVal(&H, i, 0, mag[i][0]);
 3132              		.loc 1 441 25 is_stmt 0 discriminator 3 view .LVU823
 3133 0258 0134     		adds	r4, r4, #1
 3134              	.LVL339:
 3135              	.L146:
 441:Core/drogui/sensor/imu/src/ICM20948.c **** 		setMatVal(&H, i, 0, mag[i][0]);
 3136              		.loc 1 441 17 is_stmt 1 discriminator 1 view .LVU824
 441:Core/drogui/sensor/imu/src/ICM20948.c **** 		setMatVal(&H, i, 0, mag[i][0]);
 3137              		.loc 1 441 2 is_stmt 0 discriminator 1 view .LVU825
 3138 025a 632C     		cmp	r4, #99
 3139 025c BADD     		ble	.L147
 3140              	.LBE25:
 450:Core/drogui/sensor/imu/src/ICM20948.c **** 	}
 451:Core/drogui/sensor/imu/src/ICM20948.c **** 	matTrans(&Ht, &H);
 3141              		.loc 1 451 2 is_stmt 1 view .LVU826
 3142 025e 07F17C01 		add	r1, r7, #124
 3143 0262 07F16800 		add	r0, r7, #104
 3144 0266 FFF7FEFF 		bl	matTrans
 3145              	.LVL340:
 452:Core/drogui/sensor/imu/src/ICM20948.c **** 	matMult(&prod, &Ht, &H);
 3146              		.loc 1 452 2 view .LVU827
 3147 026a 07F17C02 		add	r2, r7, #124
 3148 026e 07F16801 		add	r1, r7, #104
 3149 0272 07F14000 		add	r0, r7, #64
 3150 0276 FFF7FEFF 		bl	matMult
 3151              	.LVL341:
 453:Core/drogui/sensor/imu/src/ICM20948.c **** 
 454:Core/drogui/sensor/imu/src/ICM20948.c **** 	matInv(&inverse, &prod);
 3152              		.loc 1 454 2 view .LVU828
 3153 027a 07F14001 		add	r1, r7, #64
 3154 027e 381D     		adds	r0, r7, #4
 3155 0280 FFF7FEFF 		bl	matInv
 3156              	.LVL342:
 455:Core/drogui/sensor/imu/src/ICM20948.c **** 	matMult(&prod2, &inverse, &Ht);
 3157              		.loc 1 455 2 view .LVU829
 3158 0284 07F16802 		add	r2, r7, #104
 3159 0288 391D     		adds	r1, r7, #4
 3160 028a 07F12C00 		add	r0, r7, #44
 3161 028e FFF7FEFF 		bl	matMult
 3162              	.LVL343:
 456:Core/drogui/sensor/imu/src/ICM20948.c **** 	matMult(&X, &prod2, &w);
ARM GAS  C:\Users\GUILLE~1\AppData\Local\Temp\ccUunABq.s 			page 69


 3163              		.loc 1 456 2 view .LVU830
 3164 0292 07F15402 		add	r2, r7, #84
 3165 0296 07F12C01 		add	r1, r7, #44
 3166 029a 07F11800 		add	r0, r7, #24
 3167 029e FFF7FEFF 		bl	matMult
 3168              	.LVL344:
 457:Core/drogui/sensor/imu/src/ICM20948.c **** 
 458:Core/drogui/sensor/imu/src/ICM20948.c **** 	m -> off_mx = getMatVal(&X, 0, 0)/(2);
 3169              		.loc 1 458 2 view .LVU831
 3170              		.loc 1 458 16 is_stmt 0 view .LVU832
 3171 02a2 0022     		movs	r2, #0
 3172 02a4 1146     		mov	r1, r2
 3173 02a6 07F11800 		add	r0, r7, #24
 3174 02aa FFF7FEFF 		bl	getMatVal
 3175              	.LVL345:
 3176              		.loc 1 458 35 view .LVU833
 3177 02ae F6EE007A 		vmov.f32	s15, #5.0e-1
 3178 02b2 60EE277A 		vmul.f32	s15, s0, s15
 3179              		.loc 1 458 14 view .LVU834
 3180 02b6 C6ED1F7A 		vstr.32	s15, [r6, #124]
 459:Core/drogui/sensor/imu/src/ICM20948.c **** 	m -> off_my = getMatVal(&X, 1, 0)/(2*getMatVal(&X, 3, 0));
 3181              		.loc 1 459 2 is_stmt 1 view .LVU835
 3182              		.loc 1 459 16 is_stmt 0 view .LVU836
 3183 02ba 0022     		movs	r2, #0
 3184 02bc 0121     		movs	r1, #1
 3185 02be 07F11800 		add	r0, r7, #24
 3186 02c2 FFF7FEFF 		bl	getMatVal
 3187              	.LVL346:
 3188 02c6 B0EE408A 		vmov.f32	s16, s0
 3189              		.loc 1 459 39 view .LVU837
 3190 02ca 0022     		movs	r2, #0
 3191 02cc 0321     		movs	r1, #3
 3192 02ce 07F11800 		add	r0, r7, #24
 3193 02d2 FFF7FEFF 		bl	getMatVal
 3194              	.LVL347:
 3195              		.loc 1 459 38 view .LVU838
 3196 02d6 30EE000A 		vadd.f32	s0, s0, s0
 3197              		.loc 1 459 35 view .LVU839
 3198 02da C8EE007A 		vdiv.f32	s15, s16, s0
 3199              		.loc 1 459 14 view .LVU840
 3200 02de C6ED207A 		vstr.32	s15, [r6, #128]
 460:Core/drogui/sensor/imu/src/ICM20948.c **** 	m -> off_mz = getMatVal(&X, 2, 0)/(2*getMatVal(&X, 4, 0));
 3201              		.loc 1 460 2 is_stmt 1 view .LVU841
 3202              		.loc 1 460 16 is_stmt 0 view .LVU842
 3203 02e2 0022     		movs	r2, #0
 3204 02e4 0221     		movs	r1, #2
 3205 02e6 07F11800 		add	r0, r7, #24
 3206 02ea FFF7FEFF 		bl	getMatVal
 3207              	.LVL348:
 3208 02ee B0EE408A 		vmov.f32	s16, s0
 3209              		.loc 1 460 39 view .LVU843
 3210 02f2 0022     		movs	r2, #0
 3211 02f4 0421     		movs	r1, #4
 3212 02f6 07F11800 		add	r0, r7, #24
 3213 02fa FFF7FEFF 		bl	getMatVal
 3214              	.LVL349:
 3215              		.loc 1 460 38 view .LVU844
ARM GAS  C:\Users\GUILLE~1\AppData\Local\Temp\ccUunABq.s 			page 70


 3216 02fe 30EE000A 		vadd.f32	s0, s0, s0
 3217              		.loc 1 460 35 view .LVU845
 3218 0302 C8EE007A 		vdiv.f32	s15, s16, s0
 3219              		.loc 1 460 14 view .LVU846
 3220 0306 C6ED217A 		vstr.32	s15, [r6, #132]
 461:Core/drogui/sensor/imu/src/ICM20948.c **** 
 462:Core/drogui/sensor/imu/src/ICM20948.c **** 	float temp = getMatVal(&X, 5, 0) + (m -> off_mx) * (m -> off_mx) + (m -> off_my) * (m -> off_my) +
 3221              		.loc 1 462 2 is_stmt 1 view .LVU847
 3222              		.loc 1 462 15 is_stmt 0 view .LVU848
 3223 030a 0022     		movs	r2, #0
 3224 030c 0521     		movs	r1, #5
 3225 030e 07F11800 		add	r0, r7, #24
 3226 0312 FFF7FEFF 		bl	getMatVal
 3227              	.LVL350:
 3228              		.loc 1 462 40 view .LVU849
 3229 0316 96ED1F6A 		vldr.32	s12, [r6, #124]
 3230              		.loc 1 462 51 view .LVU850
 3231 031a 26EE068A 		vmul.f32	s16, s12, s12
 3232              		.loc 1 462 35 view .LVU851
 3233 031e 30EE088A 		vadd.f32	s16, s0, s16
 3234              		.loc 1 462 72 view .LVU852
 3235 0322 D6ED206A 		vldr.32	s13, [r6, #128]
 3236              		.loc 1 462 83 view .LVU853
 3237 0326 66EEA67A 		vmul.f32	s15, s13, s13
 3238              		.loc 1 462 67 view .LVU854
 3239 032a 38EE278A 		vadd.f32	s16, s16, s15
 3240              		.loc 1 462 104 view .LVU855
 3241 032e 96ED217A 		vldr.32	s14, [r6, #132]
 3242              		.loc 1 462 115 view .LVU856
 3243 0332 67EE077A 		vmul.f32	s15, s14, s14
 3244              		.loc 1 462 8 view .LVU857
 3245 0336 38EE278A 		vadd.f32	s16, s16, s15
 3246              	.LVL351:
 463:Core/drogui/sensor/imu/src/ICM20948.c **** 
 464:Core/drogui/sensor/imu/src/ICM20948.c **** 	m -> off_mx /= scaleGlobal;
 3247              		.loc 1 464 2 is_stmt 1 view .LVU858
 3248              		.loc 1 464 14 is_stmt 0 view .LVU859
 3249 033a 5FED5B7A 		vldr.32	s15, .L157+32
 3250 033e C6EE275A 		vdiv.f32	s11, s12, s15
 3251 0342 C6ED1F5A 		vstr.32	s11, [r6, #124]
 465:Core/drogui/sensor/imu/src/ICM20948.c **** 	m -> off_my /= scaleGlobal;
 3252              		.loc 1 465 2 is_stmt 1 view .LVU860
 3253              		.loc 1 465 14 is_stmt 0 view .LVU861
 3254 0346 86EEA76A 		vdiv.f32	s12, s13, s15
 3255 034a 86ED206A 		vstr.32	s12, [r6, #128]
 466:Core/drogui/sensor/imu/src/ICM20948.c **** 	m -> off_mz /= scaleGlobal;
 3256              		.loc 1 466 2 is_stmt 1 view .LVU862
 3257              		.loc 1 466 14 is_stmt 0 view .LVU863
 3258 034e C7EE276A 		vdiv.f32	s13, s14, s15
 3259 0352 C6ED216A 		vstr.32	s13, [r6, #132]
 467:Core/drogui/sensor/imu/src/ICM20948.c **** 
 468:Core/drogui/sensor/imu/src/ICM20948.c **** 	m -> scl_magx = sqrt(temp)/ (scaleGlobal);
 3260              		.loc 1 468 2 is_stmt 1 view .LVU864
 3261              		.loc 1 468 18 is_stmt 0 view .LVU865
 3262 0356 18EE100A 		vmov	r0, s16
 3263 035a FFF7FEFF 		bl	__aeabi_f2d
 3264              	.LVL352:
ARM GAS  C:\Users\GUILLE~1\AppData\Local\Temp\ccUunABq.s 			page 71


 3265 035e 41EC100B 		vmov	d0, r0, r1
 3266 0362 FFF7FEFF 		bl	sqrt
 3267              	.LVL353:
 3268 0366 51EC100B 		vmov	r0, r1, d0
 3269              		.loc 1 468 28 view .LVU866
 3270 036a 42A3     		adr	r3, .L159+4
 3271 036c D3E90023 		ldrd	r2, [r3]
 3272 0370 FFF7FEFF 		bl	__aeabi_ddiv
 3273              	.LVL354:
 3274 0374 FFF7FEFF 		bl	__aeabi_d2f
 3275              	.LVL355:
 3276              		.loc 1 468 16 view .LVU867
 3277 0378 C6F88800 		str	r0, [r6, #136]	@ float
 469:Core/drogui/sensor/imu/src/ICM20948.c **** 	m -> scl_magy = sqrt(temp / getMatVal(&X, 3, 0)) / (scaleGlobal);
 3278              		.loc 1 469 2 is_stmt 1 view .LVU868
 3279              		.loc 1 469 30 is_stmt 0 view .LVU869
 3280 037c 0022     		movs	r2, #0
 3281 037e 0321     		movs	r1, #3
 3282 0380 07F11800 		add	r0, r7, #24
 3283 0384 FFF7FEFF 		bl	getMatVal
 3284              	.LVL356:
 3285              		.loc 1 469 18 view .LVU870
 3286 0388 C8EE007A 		vdiv.f32	s15, s16, s0
 3287 038c 17EE900A 		vmov	r0, s15
 3288 0390 FFF7FEFF 		bl	__aeabi_f2d
 3289              	.LVL357:
 3290 0394 41EC100B 		vmov	d0, r0, r1
 3291 0398 FFF7FEFF 		bl	sqrt
 3292              	.LVL358:
 3293 039c 51EC100B 		vmov	r0, r1, d0
 3294              		.loc 1 469 51 view .LVU871
 3295 03a0 34A3     		adr	r3, .L159+4
 3296 03a2 D3E90023 		ldrd	r2, [r3]
 3297 03a6 FFF7FEFF 		bl	__aeabi_ddiv
 3298              	.LVL359:
 3299 03aa FFF7FEFF 		bl	__aeabi_d2f
 3300              	.LVL360:
 3301              		.loc 1 469 16 view .LVU872
 3302 03ae C6F88C00 		str	r0, [r6, #140]	@ float
 470:Core/drogui/sensor/imu/src/ICM20948.c **** 	m -> scl_magz = sqrt(temp / getMatVal(&X, 4, 0)) / (scaleGlobal);
 3303              		.loc 1 470 2 is_stmt 1 view .LVU873
 3304              		.loc 1 470 30 is_stmt 0 view .LVU874
 3305 03b2 0022     		movs	r2, #0
 3306 03b4 0421     		movs	r1, #4
 3307 03b6 07F11800 		add	r0, r7, #24
 3308 03ba FFF7FEFF 		bl	getMatVal
 3309              	.LVL361:
 3310              		.loc 1 470 18 view .LVU875
 3311 03be C8EE007A 		vdiv.f32	s15, s16, s0
 3312 03c2 17EE900A 		vmov	r0, s15
 3313 03c6 FFF7FEFF 		bl	__aeabi_f2d
 3314              	.LVL362:
 3315 03ca 41EC100B 		vmov	d0, r0, r1
 3316 03ce FFF7FEFF 		bl	sqrt
 3317              	.LVL363:
 3318 03d2 51EC100B 		vmov	r0, r1, d0
 3319              		.loc 1 470 51 view .LVU876
ARM GAS  C:\Users\GUILLE~1\AppData\Local\Temp\ccUunABq.s 			page 72


 3320 03d6 27A3     		adr	r3, .L159+4
 3321 03d8 D3E90023 		ldrd	r2, [r3]
 3322 03dc FFF7FEFF 		bl	__aeabi_ddiv
 3323              	.LVL364:
 3324 03e0 FFF7FEFF 		bl	__aeabi_d2f
 3325              	.LVL365:
 3326              		.loc 1 470 16 view .LVU877
 3327 03e4 C6F89000 		str	r0, [r6, #144]	@ float
 471:Core/drogui/sensor/imu/src/ICM20948.c **** 
 472:Core/drogui/sensor/imu/src/ICM20948.c **** 	setReg( MAG_X_OFF ,m -> off_mx);
 3328              		.loc 1 472 2 is_stmt 1 view .LVU878
 3329 03e8 96ED1F0A 		vldr.32	s0, [r6, #124]
 3330 03ec 2220     		movs	r0, #34
 3331 03ee FFF7FEFF 		bl	setReg
 3332              	.LVL366:
 473:Core/drogui/sensor/imu/src/ICM20948.c **** 	setReg( MAG_Y_OFF ,m -> off_my);
 3333              		.loc 1 473 2 view .LVU879
 3334 03f2 96ED200A 		vldr.32	s0, [r6, #128]
 3335 03f6 2420     		movs	r0, #36
 3336 03f8 FFF7FEFF 		bl	setReg
 3337              	.LVL367:
 474:Core/drogui/sensor/imu/src/ICM20948.c **** 	setReg( MAG_Z_OFF ,m -> off_mz);
 3338              		.loc 1 474 2 view .LVU880
 3339 03fc 96ED210A 		vldr.32	s0, [r6, #132]
 3340 0400 2620     		movs	r0, #38
 3341 0402 FFF7FEFF 		bl	setReg
 3342              	.LVL368:
 475:Core/drogui/sensor/imu/src/ICM20948.c **** 	setReg( MAG_X_SCALE ,m -> scl_magx);
 3343              		.loc 1 475 2 view .LVU881
 3344 0406 96ED220A 		vldr.32	s0, [r6, #136]
 3345 040a 2820     		movs	r0, #40
 3346 040c FFF7FEFF 		bl	setReg
 3347              	.LVL369:
 476:Core/drogui/sensor/imu/src/ICM20948.c **** 	setReg( MAG_Y_SCALE ,m -> scl_magy);
 3348              		.loc 1 476 2 view .LVU882
 3349 0410 96ED230A 		vldr.32	s0, [r6, #140]
 3350 0414 2A20     		movs	r0, #42
 3351 0416 FFF7FEFF 		bl	setReg
 3352              	.LVL370:
 477:Core/drogui/sensor/imu/src/ICM20948.c **** 	setReg( MAG_Z_SCALE ,m -> scl_magy);
 3353              		.loc 1 477 2 view .LVU883
 3354 041a 96ED230A 		vldr.32	s0, [r6, #140]
 3355 041e 2C20     		movs	r0, #44
 3356 0420 FFF7FEFF 		bl	setReg
 3357              	.LVL371:
 478:Core/drogui/sensor/imu/src/ICM20948.c **** 	setReg( CAL_MAG, 100);
 3358              		.loc 1 478 2 view .LVU884
 3359 0424 9FED120A 		vldr.32	s0, .L159
 3360 0428 0620     		movs	r0, #6
 3361 042a FFF7FEFF 		bl	setReg
 3362              	.LVL372:
 479:Core/drogui/sensor/imu/src/ICM20948.c **** 
 480:Core/drogui/sensor/imu/src/ICM20948.c **** 	matDestruct(&H);
 3363              		.loc 1 480 2 view .LVU885
 3364 042e 07F17C00 		add	r0, r7, #124
 3365 0432 FFF7FEFF 		bl	matDestruct
 3366              	.LVL373:
ARM GAS  C:\Users\GUILLE~1\AppData\Local\Temp\ccUunABq.s 			page 73


 481:Core/drogui/sensor/imu/src/ICM20948.c **** 	matDestruct(&Ht);
 3367              		.loc 1 481 2 view .LVU886
 3368 0436 07F16800 		add	r0, r7, #104
 3369 043a FFF7FEFF 		bl	matDestruct
 3370              	.LVL374:
 482:Core/drogui/sensor/imu/src/ICM20948.c **** 	matDestruct(&prod);
 3371              		.loc 1 482 2 view .LVU887
 3372 043e 07F14000 		add	r0, r7, #64
 3373 0442 FFF7FEFF 		bl	matDestruct
 3374              	.LVL375:
 483:Core/drogui/sensor/imu/src/ICM20948.c **** 	matDestruct(&prod2);
 3375              		.loc 1 483 2 view .LVU888
 3376 0446 07F12C00 		add	r0, r7, #44
 3377 044a FFF7FEFF 		bl	matDestruct
 3378              	.LVL376:
 484:Core/drogui/sensor/imu/src/ICM20948.c **** 	matDestruct(&inverse);
 3379              		.loc 1 484 2 view .LVU889
 3380 044e 381D     		adds	r0, r7, #4
 3381 0450 FFF7FEFF 		bl	matDestruct
 3382              	.LVL377:
 485:Core/drogui/sensor/imu/src/ICM20948.c **** 	matDestruct(&w);
 3383              		.loc 1 485 2 view .LVU890
 3384 0454 07F15400 		add	r0, r7, #84
 3385 0458 FFF7FEFF 		bl	matDestruct
 3386              	.LVL378:
 486:Core/drogui/sensor/imu/src/ICM20948.c **** 	matDestruct(&X);
 3387              		.loc 1 486 2 view .LVU891
 3388 045c 07F11800 		add	r0, r7, #24
 3389 0460 FFF7FEFF 		bl	matDestruct
 3390              	.LVL379:
 487:Core/drogui/sensor/imu/src/ICM20948.c **** 
 488:Core/drogui/sensor/imu/src/ICM20948.c **** }
 3391              		.loc 1 488 1 is_stmt 0 view .LVU892
 3392 0464 9037     		adds	r7, r7, #144
 3393              	.LCFI44:
 3394              		.cfi_def_cfa_offset 48
 3395 0466 BD46     		mov	sp, r7
 3396              	.LCFI45:
 3397              		.cfi_def_cfa_register 13
 3398              		@ sp needed
 3399 0468 BDEC048B 		vldm	sp!, {d8-d9}
 3400              	.LCFI46:
 3401              		.cfi_restore 82
 3402              		.cfi_restore 83
 3403              		.cfi_restore 80
 3404              		.cfi_restore 81
 3405              		.cfi_def_cfa_offset 32
 3406              	.LVL380:
 3407              		.loc 1 488 1 view .LVU893
 3408 046c BDE8F087 		pop	{r4, r5, r6, r7, r8, r9, r10, pc}
 3409              	.LVL381:
 3410              	.L160:
 3411              		.loc 1 488 1 view .LVU894
 3412              		.align	3
 3413              	.L159:
 3414 0470 0000C842 		.word	1120403456
 3415 0474 00000040 		.word	1073741824
ARM GAS  C:\Users\GUILLE~1\AppData\Local\Temp\ccUunABq.s 			page 74


 3416 0478 E17A843F 		.word	1065646817
 3417              		.cfi_endproc
 3418              	.LFE298:
 3420              		.text
 3421              	.Letext0:
 3422              		.file 2 "c:\\program files (x86)\\gnu arm embedded toolchain\\10 2020-q4-major\\arm-none-eabi\\inc
 3423              		.file 3 "c:\\program files (x86)\\gnu arm embedded toolchain\\10 2020-q4-major\\arm-none-eabi\\inc
 3424              		.file 4 "Drivers/CMSIS/Device/ST/STM32F7xx/Include/stm32f746xx.h"
 3425              		.file 5 "Drivers/CMSIS/DSP/Include/arm_math.h"
 3426              		.file 6 "Core/drogui/math/various/include/filter.h"
 3427              		.file 7 "Core/drogui/sensor/imu/include/ICM20948.h"
 3428              		.file 8 "Core/drogui/math/various/include/matlib.h"
 3429              		.file 9 "Core/drogui/utils/include/utils.h"
 3430              		.file 10 "Core/drogui/interfaces/include/serial.h"
 3431              		.file 11 "c:\\program files (x86)\\gnu arm embedded toolchain\\10 2020-q4-major\\arm-none-eabi\\in
 3432              		.file 12 "Drivers/STM32F7xx_HAL_Driver/Inc/stm32f7xx_hal.h"
 3433              		.file 13 "Drivers/STM32F7xx_HAL_Driver/Inc/stm32f7xx_hal_gpio.h"
ARM GAS  C:\Users\GUILLE~1\AppData\Local\Temp\ccUunABq.s 			page 75


DEFINED SYMBOLS
                            *ABS*:00000000 ICM20948.c
C:\Users\GUILLE~1\AppData\Local\Temp\ccUunABq.s:18     .text.updateCalibOffset:00000000 $t
C:\Users\GUILLE~1\AppData\Local\Temp\ccUunABq.s:26     .text.updateCalibOffset:00000000 updateCalibOffset
C:\Users\GUILLE~1\AppData\Local\Temp\ccUunABq.s:392    .text.initFiltGyro:00000000 $t
C:\Users\GUILLE~1\AppData\Local\Temp\ccUunABq.s:399    .text.initFiltGyro:00000000 initFiltGyro
C:\Users\GUILLE~1\AppData\Local\Temp\ccUunABq.s:462    .text.initFiltGyro:00000060 $d
C:\Users\GUILLE~1\AppData\Local\Temp\ccUunABq.s:471    .text.initFiltAcc:00000000 $t
C:\Users\GUILLE~1\AppData\Local\Temp\ccUunABq.s:478    .text.initFiltAcc:00000000 initFiltAcc
C:\Users\GUILLE~1\AppData\Local\Temp\ccUunABq.s:514    .text.initFiltAcc:0000002c $d
C:\Users\GUILLE~1\AppData\Local\Temp\ccUunABq.s:522    .text.initImu:00000000 $t
C:\Users\GUILLE~1\AppData\Local\Temp\ccUunABq.s:529    .text.initImu:00000000 initImu
C:\Users\GUILLE~1\AppData\Local\Temp\ccUunABq.s:672    .text.computeFiltGyro:00000000 $t
C:\Users\GUILLE~1\AppData\Local\Temp\ccUunABq.s:679    .text.computeFiltGyro:00000000 computeFiltGyro
C:\Users\GUILLE~1\AppData\Local\Temp\ccUunABq.s:724    .text.computeFiltGyro:0000002c $d
C:\Users\GUILLE~1\AppData\Local\Temp\ccUunABq.s:729    .text.computeFiltAcc:00000000 $t
C:\Users\GUILLE~1\AppData\Local\Temp\ccUunABq.s:736    .text.computeFiltAcc:00000000 computeFiltAcc
C:\Users\GUILLE~1\AppData\Local\Temp\ccUunABq.s:767    .text.cleanFiltGyro:00000000 $t
C:\Users\GUILLE~1\AppData\Local\Temp\ccUunABq.s:774    .text.cleanFiltGyro:00000000 cleanFiltGyro
C:\Users\GUILLE~1\AppData\Local\Temp\ccUunABq.s:814    .text.cleanFiltAcc:00000000 $t
C:\Users\GUILLE~1\AppData\Local\Temp\ccUunABq.s:821    .text.cleanFiltAcc:00000000 cleanFiltAcc
C:\Users\GUILLE~1\AppData\Local\Temp\ccUunABq.s:849    .text.readRawAcc:00000000 $t
C:\Users\GUILLE~1\AppData\Local\Temp\ccUunABq.s:856    .text.readRawAcc:00000000 readRawAcc
C:\Users\GUILLE~1\AppData\Local\Temp\ccUunABq.s:951    .text.readRawGyro:00000000 $t
C:\Users\GUILLE~1\AppData\Local\Temp\ccUunABq.s:958    .text.readRawGyro:00000000 readRawGyro
C:\Users\GUILLE~1\AppData\Local\Temp\ccUunABq.s:1053   .text.readRawMag:00000000 $t
C:\Users\GUILLE~1\AppData\Local\Temp\ccUunABq.s:1060   .text.readRawMag:00000000 readRawMag
C:\Users\GUILLE~1\AppData\Local\Temp\ccUunABq.s:1183   .text.readFiltAcc:00000000 $t
C:\Users\GUILLE~1\AppData\Local\Temp\ccUunABq.s:1190   .text.readFiltAcc:00000000 readFiltAcc
C:\Users\GUILLE~1\AppData\Local\Temp\ccUunABq.s:1238   .text.readFiltGyro:00000000 $t
C:\Users\GUILLE~1\AppData\Local\Temp\ccUunABq.s:1245   .text.readFiltGyro:00000000 readFiltGyro
C:\Users\GUILLE~1\AppData\Local\Temp\ccUunABq.s:1293   .text.readAcc:00000000 $t
C:\Users\GUILLE~1\AppData\Local\Temp\ccUunABq.s:1300   .text.readAcc:00000000 readAcc
C:\Users\GUILLE~1\AppData\Local\Temp\ccUunABq.s:1368   .text.readGyro:00000000 $t
C:\Users\GUILLE~1\AppData\Local\Temp\ccUunABq.s:1375   .text.readGyro:00000000 readGyro
C:\Users\GUILLE~1\AppData\Local\Temp\ccUunABq.s:1435   .text.readMag:00000000 $t
C:\Users\GUILLE~1\AppData\Local\Temp\ccUunABq.s:1442   .text.readMag:00000000 readMag
C:\Users\GUILLE~1\AppData\Local\Temp\ccUunABq.s:1516   .rodata.icmQuiet.str1.4:00000000 $d
C:\Users\GUILLE~1\AppData\Local\Temp\ccUunABq.s:1524   .text.icmQuiet:00000000 $t
C:\Users\GUILLE~1\AppData\Local\Temp\ccUunABq.s:1531   .text.icmQuiet:00000000 icmQuiet
C:\Users\GUILLE~1\AppData\Local\Temp\ccUunABq.s:1929   .text.icmQuiet:00000278 $d
C:\Users\GUILLE~1\AppData\Local\Temp\ccUunABq.s:1935   .text.calibrateGyro:00000000 $t
C:\Users\GUILLE~1\AppData\Local\Temp\ccUunABq.s:1942   .text.calibrateGyro:00000000 calibrateGyro
C:\Users\GUILLE~1\AppData\Local\Temp\ccUunABq.s:2009   .text.calibrateGyro:00000054 $d
C:\Users\GUILLE~1\AppData\Local\Temp\ccUunABq.s:2019   .text.calibrateAccel:00000000 $t
C:\Users\GUILLE~1\AppData\Local\Temp\ccUunABq.s:2026   .text.calibrateAccel:00000000 calibrateAccel
C:\Users\GUILLE~1\AppData\Local\Temp\ccUunABq.s:2617   .text.calibrateAccel:00000348 $d
C:\Users\GUILLE~1\AppData\Local\Temp\ccUunABq.s:2634   .text.calibrateAccel:0000037c $t
C:\Users\GUILLE~1\AppData\Local\Temp\ccUunABq.s:2717   .rodata.calibrateMag.str1.4:00000000 $d
C:\Users\GUILLE~1\AppData\Local\Temp\ccUunABq.s:2721   .text.calibrateMag:00000000 $t
C:\Users\GUILLE~1\AppData\Local\Temp\ccUunABq.s:2728   .text.calibrateMag:00000000 calibrateMag
C:\Users\GUILLE~1\AppData\Local\Temp\ccUunABq.s:3060   .text.calibrateMag:000001b0 $d
C:\Users\GUILLE~1\AppData\Local\Temp\ccUunABq.s:3072   .text.calibrateMag:000001d4 $t
C:\Users\GUILLE~1\AppData\Local\Temp\ccUunABq.s:3414   .text.calibrateMag:00000470 $d

UNDEFINED SYMBOLS
getReg
ARM GAS  C:\Users\GUILLE~1\AppData\Local\Temp\ccUunABq.s 			page 76


initFilter
initDNotchFilter
v_1_10
k_1_10
v_3_10
k_3_10
v_1_20
k_1_20
I2CwriteByte
HAL_Delay
computeFilter
computeDNotch
cleanFilter
cleanDNotch
I2Cread
__aeabi_f2d
__aeabi_d2f
__aeabi_dadd
__aeabi_dcmplt
__aeabi_i2d
__aeabi_ddiv
fmax
fmin
serialPrintf
serial3
setReg
HAL_GPIO_TogglePin
__aeabi_dmul
__aeabi_dsub
__aeabi_dcmpgt
matInit
dis3d
setMatVal
gaussElimination3x3
getMatVal
sqrt
matDestruct
matTrans
matMult
matInv

#define DNOTCH_TEST
#ifdef DNOTCH_TEST

#include "..\headers\timer.h"
#include "..\headers\filter.h"
#include "..\headers\main.h"
#include <Arduino.h>

dNotchFilter dn;
int n = 64;

float data[] = {
    -1.206984738114142,
  -0.861430769129782,
  -0.571163708077032,
  -0.338315246287939,
  -0.160053338440726,
  -0.035376882912830,
   0.032010343795822,
   0.036065959812097,
  -0.025340271253414,
  -0.143560484943528,
  -0.295589467482860,
  -0.446354712154815,
  -0.557098703026617,
  -0.597251178329893,
  -0.555443052954018,
  -0.445099445678312,
  -0.301812768008042,
  -0.172637924782266,
  -0.100576033229629,
  -0.109564582792670,
  -0.195403466470758,
  -0.326144934390374,
  -0.452191158937692,
  -0.522811090858954,
  -0.503449771856421,
  -0.387782927409367,
  -0.200274829265662,
   0.011650122872357,
   0.193093082529494,
   0.299369190773577,
   0.309814541807998,
   0.233080037552985,
   0.102422753689945,
  -0.036925430150226,
  -0.143519909168185,
  -0.192878139764221,
  -0.183565349589161,
  -0.134495310700540,
  -0.075007100857693,
  -0.031938642106391,
  -0.018729519621213,
  -0.030674978149203,
  -0.047827627920363,
  -0.044132169139877,
   0.001052795652433,
   0.093618663314760,
   0.221243364654621,
   0.357063666305302,
   0.469060394146920,
   0.531506275708994,
   0.534193277698118,
   0.486014194220259,
   0.411718063335711,
   0.343166133661794,
   0.308407526323032,
   0.322545732806121,
   0.383522837551148,
   0.474012477933972,
   0.568313633322941,
   0.641441813773204,
   0.677009688193054,
   0.671261369737887,
   0.632259519578583,
   0.575128661153650,
   0.515663640783229,
   0.464923431954830,
   0.426775741168765,
   0.398903553392184,
   0.376302630891678,
   0.355374624832191,
   0.336604183248460,
   0.324682715482993,
   0.326150072694450,
   0.345802916108941,
   0.383671408079652,
   0.434027525391310,
   0.487011107147562,
   0.532168006969469,
   0.562407481679803,
   0.576593390377900,
   0.579648536256012,
   0.580086844199351,
   0.586074993563320,
   0.601739245833122,
   0.625338966469657,
   0.650089608520345,
   0.667210695319916,
   0.669778592439077,
   0.655565939005355,
   0.627519225581282,
   0.591609608410763,
   0.553098926078122,
   0.513054297194233,
   0.467064253235468,
   0.407086555033621,
   0.326038664007378,
   0.223203181149281,
   0.107912350507436,
  -0.000714758882931,
  -0.078721215949619,
  -0.105729755457716,
  -0.073907025989504,
   0.006191776650493,
   0.105783361186344,
   0.184956210578498,
   0.204961609956386,
   0.141761910272412,
  -0.004054301913803,
  -0.204984534268436,
  -0.413548774280479,
  -0.576696775759754,
  -0.653158145614662,
  -0.627719461437538,
  -0.517253504810419,
  -0.365890534032950,
  -0.230579850926614,
  -0.161663928591250,
  -0.185183286150684,
  -0.293118691090650,
  -0.445306505888066,
  -0.582631226185210,
  -0.647215269936673,
  -0.602730455758366,
  -0.447802868119946,
  -0.217815502065646,
   0.025655518734306,
   0.214249428400078,
   0.294556885279484
  };

timer _timer_accel, _timer_gyro, _timer_mag;


void initializeSystem(){

    initDNotchFilter(&dn, n, 50, 1000, 1, 5);
    //initTimer(&_timer_accel, &_accelInterrupt, 1000);
    Serial.println("arduinoData =[");

    delay(500);
}


int _main(void){
    
    initializeSystem();
    delay(1000);
    while(1){
        for(int i = 0 ; i < sizeof(data)/sizeof(data[0]) ; i++){
            Serial.print(computeDNotch(&dn, data[i]), DEC);
            Serial.println(';');
        }
        Serial.println("];");
        while(1);
    }
    
    return 0;
}










#endif